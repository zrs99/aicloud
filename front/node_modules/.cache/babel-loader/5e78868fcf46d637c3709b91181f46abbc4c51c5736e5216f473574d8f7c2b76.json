{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array-buffer.detached.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.map.js\");\nrequire(\"core-js/modules/es.iterator.some.js\");\nrequire(\"core-js/modules/es.set.difference.v2.js\");\nrequire(\"core-js/modules/es.set.intersection.v2.js\");\nrequire(\"core-js/modules/es.set.is-disjoint-from.v2.js\");\nrequire(\"core-js/modules/es.set.is-subset-of.v2.js\");\nrequire(\"core-js/modules/es.set.is-superset-of.v2.js\");\nrequire(\"core-js/modules/es.set.symmetric-difference.v2.js\");\nrequire(\"core-js/modules/es.set.union.v2.js\");\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nrequire(\"core-js/modules/web.dom-exception.stack.js\");\nrequire(\"core-js/modules/web.url-search-params.delete.js\");\nrequire(\"core-js/modules/web.url-search-params.has.js\");\nrequire(\"core-js/modules/web.url-search-params.size.js\");\n/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"pdfjs-dist/build/pdf\", [], factory);else if (typeof exports === 'object') exports[\"pdfjs-dist/build/pdf\"] = factory();else root[\"pdfjs-dist/build/pdf\"] = root.pdfjsLib = factory();\n})(this, function () {\n  return /******/(() => {\n    // webpackBootstrap\n    /******/\n    \"use strict\";\n\n    /******/\n    var __webpack_modules__ = [\n      /* 0 */\n    , (/* 1 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.addLinkAttributes = addLinkAttributes;\n      exports.deprecated = deprecated;\n      exports.getFilenameFromUrl = getFilenameFromUrl;\n      exports.getPdfFilenameFromUrl = getPdfFilenameFromUrl;\n      exports.getXfaPageViewport = getXfaPageViewport;\n      exports.isDataScheme = isDataScheme;\n      exports.isPdfFile = isPdfFile;\n      exports.isValidFetchUrl = isValidFetchUrl;\n      exports.loadScript = loadScript;\n      exports.StatTimer = exports.RenderingCancelledException = exports.PixelsPerInch = exports.PDFDateString = exports.PageViewport = exports.LinkTarget = exports.DOMSVGFactory = exports.DOMStandardFontDataFactory = exports.DOMCMapReaderFactory = exports.DOMCanvasFactory = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _base_factory = __w_pdfjs_require__(5);\n      const DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\n      const SVG_NS = \"http://www.w3.org/2000/svg\";\n      const PixelsPerInch = {\n        CSS: 96.0,\n        PDF: 72.0,\n        get PDF_TO_CSS_UNITS() {\n          return (0, _util.shadow)(this, \"PDF_TO_CSS_UNITS\", this.CSS / this.PDF);\n        }\n      };\n      exports.PixelsPerInch = PixelsPerInch;\n      class DOMCanvasFactory extends _base_factory.BaseCanvasFactory {\n        constructor({\n          ownerDocument = globalThis.document\n        } = {}) {\n          super();\n          this._document = ownerDocument;\n        }\n        _createCanvas(width, height) {\n          const canvas = this._document.createElement(\"canvas\");\n          canvas.width = width;\n          canvas.height = height;\n          return canvas;\n        }\n      }\n      exports.DOMCanvasFactory = DOMCanvasFactory;\n      async function fetchData(url, asTypedArray = false) {\n        if (isValidFetchUrl(url, document.baseURI)) {\n          const response = await fetch(url);\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return asTypedArray ? new Uint8Array(await response.arrayBuffer()) : (0, _util.stringToBytes)(await response.text());\n        }\n        return new Promise((resolve, reject) => {\n          const request = new XMLHttpRequest();\n          request.open(\"GET\", url, true);\n          if (asTypedArray) {\n            request.responseType = \"arraybuffer\";\n          }\n          request.onreadystatechange = () => {\n            if (request.readyState !== XMLHttpRequest.DONE) {\n              return;\n            }\n            if (request.status === 200 || request.status === 0) {\n              let data;\n              if (asTypedArray && request.response) {\n                data = new Uint8Array(request.response);\n              } else if (!asTypedArray && request.responseText) {\n                data = (0, _util.stringToBytes)(request.responseText);\n              }\n              if (data) {\n                resolve(data);\n                return;\n              }\n            }\n            reject(new Error(request.statusText));\n          };\n          request.send(null);\n        });\n      }\n      class DOMCMapReaderFactory extends _base_factory.BaseCMapReaderFactory {\n        _fetchData(url, compressionType) {\n          return fetchData(url, this.isCompressed).then(data => {\n            return {\n              cMapData: data,\n              compressionType\n            };\n          });\n        }\n      }\n      exports.DOMCMapReaderFactory = DOMCMapReaderFactory;\n      class DOMStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory {\n        _fetchData(url) {\n          return fetchData(url, true);\n        }\n      }\n      exports.DOMStandardFontDataFactory = DOMStandardFontDataFactory;\n      class DOMSVGFactory extends _base_factory.BaseSVGFactory {\n        _createSVG(type) {\n          return document.createElementNS(SVG_NS, type);\n        }\n      }\n      exports.DOMSVGFactory = DOMSVGFactory;\n      class PageViewport {\n        constructor({\n          viewBox,\n          scale,\n          rotation,\n          offsetX = 0,\n          offsetY = 0,\n          dontFlip = false\n        }) {\n          this.viewBox = viewBox;\n          this.scale = scale;\n          this.rotation = rotation;\n          this.offsetX = offsetX;\n          this.offsetY = offsetY;\n          const centerX = (viewBox[2] + viewBox[0]) / 2;\n          const centerY = (viewBox[3] + viewBox[1]) / 2;\n          let rotateA, rotateB, rotateC, rotateD;\n          rotation %= 360;\n          if (rotation < 0) {\n            rotation += 360;\n          }\n          switch (rotation) {\n            case 180:\n              rotateA = -1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = 1;\n              break;\n            case 90:\n              rotateA = 0;\n              rotateB = 1;\n              rotateC = 1;\n              rotateD = 0;\n              break;\n            case 270:\n              rotateA = 0;\n              rotateB = -1;\n              rotateC = -1;\n              rotateD = 0;\n              break;\n            case 0:\n              rotateA = 1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = -1;\n              break;\n            default:\n              throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n          }\n          if (dontFlip) {\n            rotateC = -rotateC;\n            rotateD = -rotateD;\n          }\n          let offsetCanvasX, offsetCanvasY;\n          let width, height;\n          if (rotateA === 0) {\n            offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n            width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n            height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n          } else {\n            offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n            width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n            height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n          }\n          this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n          this.width = width;\n          this.height = height;\n        }\n        clone({\n          scale = this.scale,\n          rotation = this.rotation,\n          offsetX = this.offsetX,\n          offsetY = this.offsetY,\n          dontFlip = false\n        } = {}) {\n          return new PageViewport({\n            viewBox: this.viewBox.slice(),\n            scale,\n            rotation,\n            offsetX,\n            offsetY,\n            dontFlip\n          });\n        }\n        convertToViewportPoint(x, y) {\n          return _util.Util.applyTransform([x, y], this.transform);\n        }\n        convertToViewportRectangle(rect) {\n          const topLeft = _util.Util.applyTransform([rect[0], rect[1]], this.transform);\n          const bottomRight = _util.Util.applyTransform([rect[2], rect[3]], this.transform);\n          return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n        }\n        convertToPdfPoint(x, y) {\n          return _util.Util.applyInverseTransform([x, y], this.transform);\n        }\n      }\n      exports.PageViewport = PageViewport;\n      class RenderingCancelledException extends _util.BaseException {\n        constructor(msg, type) {\n          super(msg, \"RenderingCancelledException\");\n          this.type = type;\n        }\n      }\n      exports.RenderingCancelledException = RenderingCancelledException;\n      const LinkTarget = {\n        NONE: 0,\n        SELF: 1,\n        BLANK: 2,\n        PARENT: 3,\n        TOP: 4\n      };\n      exports.LinkTarget = LinkTarget;\n      function addLinkAttributes(link, {\n        url,\n        target,\n        rel,\n        enabled = true\n      } = {}) {\n        (0, _util.assert)(url && typeof url === \"string\", 'addLinkAttributes: A valid \"url\" parameter must provided.');\n        const urlNullRemoved = (0, _util.removeNullCharacters)(url);\n        if (enabled) {\n          link.href = link.title = urlNullRemoved;\n        } else {\n          link.href = \"\";\n          link.title = `Disabled: ${urlNullRemoved}`;\n          link.onclick = () => {\n            return false;\n          };\n        }\n        let targetStr = \"\";\n        switch (target) {\n          case LinkTarget.NONE:\n            break;\n          case LinkTarget.SELF:\n            targetStr = \"_self\";\n            break;\n          case LinkTarget.BLANK:\n            targetStr = \"_blank\";\n            break;\n          case LinkTarget.PARENT:\n            targetStr = \"_parent\";\n            break;\n          case LinkTarget.TOP:\n            targetStr = \"_top\";\n            break;\n        }\n        link.target = targetStr;\n        link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n      }\n      function isDataScheme(url) {\n        const ii = url.length;\n        let i = 0;\n        while (i < ii && url[i].trim() === \"\") {\n          i++;\n        }\n        return url.substring(i, i + 5).toLowerCase() === \"data:\";\n      }\n      function isPdfFile(filename) {\n        return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n      }\n      function getFilenameFromUrl(url) {\n        const anchor = url.indexOf(\"#\");\n        const query = url.indexOf(\"?\");\n        const end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);\n        return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n      }\n      function getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n        if (typeof url !== \"string\") {\n          return defaultFilename;\n        }\n        if (isDataScheme(url)) {\n          (0, _util.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n          return defaultFilename;\n        }\n        const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n        const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n        const splitURI = reURI.exec(url);\n        let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n        if (suggestedFilename) {\n          suggestedFilename = suggestedFilename[0];\n          if (suggestedFilename.includes(\"%\")) {\n            try {\n              suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n            } catch (ex) {}\n          }\n        }\n        return suggestedFilename || defaultFilename;\n      }\n      class StatTimer {\n        constructor() {\n          this.started = Object.create(null);\n          this.times = [];\n        }\n        time(name) {\n          if (name in this.started) {\n            (0, _util.warn)(`Timer is already running for ${name}`);\n          }\n          this.started[name] = Date.now();\n        }\n        timeEnd(name) {\n          if (!(name in this.started)) {\n            (0, _util.warn)(`Timer has not been started for ${name}`);\n          }\n          this.times.push({\n            name,\n            start: this.started[name],\n            end: Date.now()\n          });\n          delete this.started[name];\n        }\n        toString() {\n          const outBuf = [];\n          let longest = 0;\n          for (const time of this.times) {\n            const name = time.name;\n            if (name.length > longest) {\n              longest = name.length;\n            }\n          }\n          for (const time of this.times) {\n            const duration = time.end - time.start;\n            outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n          }\n          return outBuf.join(\"\");\n        }\n      }\n      exports.StatTimer = StatTimer;\n      function isValidFetchUrl(url, baseUrl) {\n        try {\n          const {\n            protocol\n          } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n          return protocol === \"http:\" || protocol === \"https:\";\n        } catch (ex) {\n          return false;\n        }\n      }\n      function loadScript(src, removeScriptElement = false) {\n        return new Promise((resolve, reject) => {\n          const script = document.createElement(\"script\");\n          script.src = src;\n          script.onload = function (evt) {\n            if (removeScriptElement) {\n              script.remove();\n            }\n            resolve(evt);\n          };\n          script.onerror = function () {\n            reject(new Error(`Cannot load script at: ${script.src}`));\n          };\n          (document.head || document.documentElement).appendChild(script);\n        });\n      }\n      function deprecated(details) {\n        console.log(\"Deprecated API usage: \" + details);\n      }\n      let pdfDateStringRegex;\n      class PDFDateString {\n        static toDateObject(input) {\n          if (!input || !(0, _util.isString)(input)) {\n            return null;\n          }\n          if (!pdfDateStringRegex) {\n            pdfDateStringRegex = new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n          }\n          const matches = pdfDateStringRegex.exec(input);\n          if (!matches) {\n            return null;\n          }\n          const year = parseInt(matches[1], 10);\n          let month = parseInt(matches[2], 10);\n          month = month >= 1 && month <= 12 ? month - 1 : 0;\n          let day = parseInt(matches[3], 10);\n          day = day >= 1 && day <= 31 ? day : 1;\n          let hour = parseInt(matches[4], 10);\n          hour = hour >= 0 && hour <= 23 ? hour : 0;\n          let minute = parseInt(matches[5], 10);\n          minute = minute >= 0 && minute <= 59 ? minute : 0;\n          let second = parseInt(matches[6], 10);\n          second = second >= 0 && second <= 59 ? second : 0;\n          const universalTimeRelation = matches[7] || \"Z\";\n          let offsetHour = parseInt(matches[8], 10);\n          offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n          let offsetMinute = parseInt(matches[9], 10) || 0;\n          offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n          if (universalTimeRelation === \"-\") {\n            hour += offsetHour;\n            minute += offsetMinute;\n          } else if (universalTimeRelation === \"+\") {\n            hour -= offsetHour;\n            minute -= offsetMinute;\n          }\n          return new Date(Date.UTC(year, month, day, hour, minute, second));\n        }\n      }\n      exports.PDFDateString = PDFDateString;\n      function getXfaPageViewport(xfaPage, {\n        scale = 1,\n        rotation = 0\n      }) {\n        const {\n          width,\n          height\n        } = xfaPage.attributes.style;\n        const viewBox = [0, 0, parseInt(width), parseInt(height)];\n        return new PageViewport({\n          viewBox,\n          scale,\n          rotation\n        });\n      }\n\n      /***/\n    }), (/* 2 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.arrayByteLength = arrayByteLength;\n      exports.arraysToBytes = arraysToBytes;\n      exports.assert = assert;\n      exports.bytesToString = bytesToString;\n      exports.createObjectURL = createObjectURL;\n      exports.createPromiseCapability = createPromiseCapability;\n      exports.createValidAbsoluteUrl = createValidAbsoluteUrl;\n      exports.escapeString = escapeString;\n      exports.getModificationDate = getModificationDate;\n      exports.getVerbosityLevel = getVerbosityLevel;\n      exports.info = info;\n      exports.isArrayBuffer = isArrayBuffer;\n      exports.isArrayEqual = isArrayEqual;\n      exports.isAscii = isAscii;\n      exports.isBool = isBool;\n      exports.isNum = isNum;\n      exports.isSameOrigin = isSameOrigin;\n      exports.isString = isString;\n      exports.objectFromMap = objectFromMap;\n      exports.objectSize = objectSize;\n      exports.removeNullCharacters = removeNullCharacters;\n      exports.setVerbosityLevel = setVerbosityLevel;\n      exports.shadow = shadow;\n      exports.string32 = string32;\n      exports.stringToBytes = stringToBytes;\n      exports.stringToPDFString = stringToPDFString;\n      exports.stringToUTF16BEString = stringToUTF16BEString;\n      exports.stringToUTF8String = stringToUTF8String;\n      exports.unreachable = unreachable;\n      exports.utf8StringToString = utf8StringToString;\n      exports.warn = warn;\n      exports.VerbosityLevel = exports.Util = exports.UNSUPPORTED_FEATURES = exports.UnknownErrorException = exports.UnexpectedResponseException = exports.TextRenderingMode = exports.StreamType = exports.RenderingIntentFlag = exports.PermissionFlag = exports.PasswordResponses = exports.PasswordException = exports.PageActionEventType = exports.OPS = exports.MissingPDFException = exports.IsLittleEndianCached = exports.IsEvalSupportedCached = exports.InvalidPDFException = exports.ImageKind = exports.IDENTITY_MATRIX = exports.FormatError = exports.FontType = exports.FONT_IDENTITY_MATRIX = exports.DocumentActionEventType = exports.CMapCompressionType = exports.BaseException = exports.AnnotationType = exports.AnnotationStateModelType = exports.AnnotationReviewState = exports.AnnotationReplyType = exports.AnnotationMode = exports.AnnotationMarkedState = exports.AnnotationFlag = exports.AnnotationFieldFlag = exports.AnnotationBorderStyleType = exports.AnnotationActionEventType = exports.AbortException = void 0;\n      __w_pdfjs_require__(3);\n      const IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n      exports.IDENTITY_MATRIX = IDENTITY_MATRIX;\n      const FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n      exports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\n      const RenderingIntentFlag = {\n        ANY: 0x01,\n        DISPLAY: 0x02,\n        PRINT: 0x04,\n        ANNOTATIONS_FORMS: 0x10,\n        ANNOTATIONS_STORAGE: 0x20,\n        ANNOTATIONS_DISABLE: 0x40,\n        OPLIST: 0x100\n      };\n      exports.RenderingIntentFlag = RenderingIntentFlag;\n      const AnnotationMode = {\n        DISABLE: 0,\n        ENABLE: 1,\n        ENABLE_FORMS: 2,\n        ENABLE_STORAGE: 3\n      };\n      exports.AnnotationMode = AnnotationMode;\n      const PermissionFlag = {\n        PRINT: 0x04,\n        MODIFY_CONTENTS: 0x08,\n        COPY: 0x10,\n        MODIFY_ANNOTATIONS: 0x20,\n        FILL_INTERACTIVE_FORMS: 0x100,\n        COPY_FOR_ACCESSIBILITY: 0x200,\n        ASSEMBLE: 0x400,\n        PRINT_HIGH_QUALITY: 0x800\n      };\n      exports.PermissionFlag = PermissionFlag;\n      const TextRenderingMode = {\n        FILL: 0,\n        STROKE: 1,\n        FILL_STROKE: 2,\n        INVISIBLE: 3,\n        FILL_ADD_TO_PATH: 4,\n        STROKE_ADD_TO_PATH: 5,\n        FILL_STROKE_ADD_TO_PATH: 6,\n        ADD_TO_PATH: 7,\n        FILL_STROKE_MASK: 3,\n        ADD_TO_PATH_FLAG: 4\n      };\n      exports.TextRenderingMode = TextRenderingMode;\n      const ImageKind = {\n        GRAYSCALE_1BPP: 1,\n        RGB_24BPP: 2,\n        RGBA_32BPP: 3\n      };\n      exports.ImageKind = ImageKind;\n      const AnnotationType = {\n        TEXT: 1,\n        LINK: 2,\n        FREETEXT: 3,\n        LINE: 4,\n        SQUARE: 5,\n        CIRCLE: 6,\n        POLYGON: 7,\n        POLYLINE: 8,\n        HIGHLIGHT: 9,\n        UNDERLINE: 10,\n        SQUIGGLY: 11,\n        STRIKEOUT: 12,\n        STAMP: 13,\n        CARET: 14,\n        INK: 15,\n        POPUP: 16,\n        FILEATTACHMENT: 17,\n        SOUND: 18,\n        MOVIE: 19,\n        WIDGET: 20,\n        SCREEN: 21,\n        PRINTERMARK: 22,\n        TRAPNET: 23,\n        WATERMARK: 24,\n        THREED: 25,\n        REDACT: 26\n      };\n      exports.AnnotationType = AnnotationType;\n      const AnnotationStateModelType = {\n        MARKED: \"Marked\",\n        REVIEW: \"Review\"\n      };\n      exports.AnnotationStateModelType = AnnotationStateModelType;\n      const AnnotationMarkedState = {\n        MARKED: \"Marked\",\n        UNMARKED: \"Unmarked\"\n      };\n      exports.AnnotationMarkedState = AnnotationMarkedState;\n      const AnnotationReviewState = {\n        ACCEPTED: \"Accepted\",\n        REJECTED: \"Rejected\",\n        CANCELLED: \"Cancelled\",\n        COMPLETED: \"Completed\",\n        NONE: \"None\"\n      };\n      exports.AnnotationReviewState = AnnotationReviewState;\n      const AnnotationReplyType = {\n        GROUP: \"Group\",\n        REPLY: \"R\"\n      };\n      exports.AnnotationReplyType = AnnotationReplyType;\n      const AnnotationFlag = {\n        INVISIBLE: 0x01,\n        HIDDEN: 0x02,\n        PRINT: 0x04,\n        NOZOOM: 0x08,\n        NOROTATE: 0x10,\n        NOVIEW: 0x20,\n        READONLY: 0x40,\n        LOCKED: 0x80,\n        TOGGLENOVIEW: 0x100,\n        LOCKEDCONTENTS: 0x200\n      };\n      exports.AnnotationFlag = AnnotationFlag;\n      const AnnotationFieldFlag = {\n        READONLY: 0x0000001,\n        REQUIRED: 0x0000002,\n        NOEXPORT: 0x0000004,\n        MULTILINE: 0x0001000,\n        PASSWORD: 0x0002000,\n        NOTOGGLETOOFF: 0x0004000,\n        RADIO: 0x0008000,\n        PUSHBUTTON: 0x0010000,\n        COMBO: 0x0020000,\n        EDIT: 0x0040000,\n        SORT: 0x0080000,\n        FILESELECT: 0x0100000,\n        MULTISELECT: 0x0200000,\n        DONOTSPELLCHECK: 0x0400000,\n        DONOTSCROLL: 0x0800000,\n        COMB: 0x1000000,\n        RICHTEXT: 0x2000000,\n        RADIOSINUNISON: 0x2000000,\n        COMMITONSELCHANGE: 0x4000000\n      };\n      exports.AnnotationFieldFlag = AnnotationFieldFlag;\n      const AnnotationBorderStyleType = {\n        SOLID: 1,\n        DASHED: 2,\n        BEVELED: 3,\n        INSET: 4,\n        UNDERLINE: 5\n      };\n      exports.AnnotationBorderStyleType = AnnotationBorderStyleType;\n      const AnnotationActionEventType = {\n        E: \"Mouse Enter\",\n        X: \"Mouse Exit\",\n        D: \"Mouse Down\",\n        U: \"Mouse Up\",\n        Fo: \"Focus\",\n        Bl: \"Blur\",\n        PO: \"PageOpen\",\n        PC: \"PageClose\",\n        PV: \"PageVisible\",\n        PI: \"PageInvisible\",\n        K: \"Keystroke\",\n        F: \"Format\",\n        V: \"Validate\",\n        C: \"Calculate\"\n      };\n      exports.AnnotationActionEventType = AnnotationActionEventType;\n      const DocumentActionEventType = {\n        WC: \"WillClose\",\n        WS: \"WillSave\",\n        DS: \"DidSave\",\n        WP: \"WillPrint\",\n        DP: \"DidPrint\"\n      };\n      exports.DocumentActionEventType = DocumentActionEventType;\n      const PageActionEventType = {\n        O: \"PageOpen\",\n        C: \"PageClose\"\n      };\n      exports.PageActionEventType = PageActionEventType;\n      const StreamType = {\n        UNKNOWN: \"UNKNOWN\",\n        FLATE: \"FLATE\",\n        LZW: \"LZW\",\n        DCT: \"DCT\",\n        JPX: \"JPX\",\n        JBIG: \"JBIG\",\n        A85: \"A85\",\n        AHX: \"AHX\",\n        CCF: \"CCF\",\n        RLX: \"RLX\"\n      };\n      exports.StreamType = StreamType;\n      const FontType = {\n        UNKNOWN: \"UNKNOWN\",\n        TYPE1: \"TYPE1\",\n        TYPE1STANDARD: \"TYPE1STANDARD\",\n        TYPE1C: \"TYPE1C\",\n        CIDFONTTYPE0: \"CIDFONTTYPE0\",\n        CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n        TRUETYPE: \"TRUETYPE\",\n        CIDFONTTYPE2: \"CIDFONTTYPE2\",\n        TYPE3: \"TYPE3\",\n        OPENTYPE: \"OPENTYPE\",\n        TYPE0: \"TYPE0\",\n        MMTYPE1: \"MMTYPE1\"\n      };\n      exports.FontType = FontType;\n      const VerbosityLevel = {\n        ERRORS: 0,\n        WARNINGS: 1,\n        INFOS: 5\n      };\n      exports.VerbosityLevel = VerbosityLevel;\n      const CMapCompressionType = {\n        NONE: 0,\n        BINARY: 1,\n        STREAM: 2\n      };\n      exports.CMapCompressionType = CMapCompressionType;\n      const OPS = {\n        dependency: 1,\n        setLineWidth: 2,\n        setLineCap: 3,\n        setLineJoin: 4,\n        setMiterLimit: 5,\n        setDash: 6,\n        setRenderingIntent: 7,\n        setFlatness: 8,\n        setGState: 9,\n        save: 10,\n        restore: 11,\n        transform: 12,\n        moveTo: 13,\n        lineTo: 14,\n        curveTo: 15,\n        curveTo2: 16,\n        curveTo3: 17,\n        closePath: 18,\n        rectangle: 19,\n        stroke: 20,\n        closeStroke: 21,\n        fill: 22,\n        eoFill: 23,\n        fillStroke: 24,\n        eoFillStroke: 25,\n        closeFillStroke: 26,\n        closeEOFillStroke: 27,\n        endPath: 28,\n        clip: 29,\n        eoClip: 30,\n        beginText: 31,\n        endText: 32,\n        setCharSpacing: 33,\n        setWordSpacing: 34,\n        setHScale: 35,\n        setLeading: 36,\n        setFont: 37,\n        setTextRenderingMode: 38,\n        setTextRise: 39,\n        moveText: 40,\n        setLeadingMoveText: 41,\n        setTextMatrix: 42,\n        nextLine: 43,\n        showText: 44,\n        showSpacedText: 45,\n        nextLineShowText: 46,\n        nextLineSetSpacingShowText: 47,\n        setCharWidth: 48,\n        setCharWidthAndBounds: 49,\n        setStrokeColorSpace: 50,\n        setFillColorSpace: 51,\n        setStrokeColor: 52,\n        setStrokeColorN: 53,\n        setFillColor: 54,\n        setFillColorN: 55,\n        setStrokeGray: 56,\n        setFillGray: 57,\n        setStrokeRGBColor: 58,\n        setFillRGBColor: 59,\n        setStrokeCMYKColor: 60,\n        setFillCMYKColor: 61,\n        shadingFill: 62,\n        beginInlineImage: 63,\n        beginImageData: 64,\n        endInlineImage: 65,\n        paintXObject: 66,\n        markPoint: 67,\n        markPointProps: 68,\n        beginMarkedContent: 69,\n        beginMarkedContentProps: 70,\n        endMarkedContent: 71,\n        beginCompat: 72,\n        endCompat: 73,\n        paintFormXObjectBegin: 74,\n        paintFormXObjectEnd: 75,\n        beginGroup: 76,\n        endGroup: 77,\n        beginAnnotations: 78,\n        endAnnotations: 79,\n        beginAnnotation: 80,\n        endAnnotation: 81,\n        paintJpegXObject: 82,\n        paintImageMaskXObject: 83,\n        paintImageMaskXObjectGroup: 84,\n        paintImageXObject: 85,\n        paintInlineImageXObject: 86,\n        paintInlineImageXObjectGroup: 87,\n        paintImageXObjectRepeat: 88,\n        paintImageMaskXObjectRepeat: 89,\n        paintSolidColorImageMask: 90,\n        constructPath: 91\n      };\n      exports.OPS = OPS;\n      const UNSUPPORTED_FEATURES = {\n        unknown: \"unknown\",\n        forms: \"forms\",\n        javaScript: \"javaScript\",\n        signatures: \"signatures\",\n        smask: \"smask\",\n        shadingPattern: \"shadingPattern\",\n        font: \"font\",\n        errorTilingPattern: \"errorTilingPattern\",\n        errorExtGState: \"errorExtGState\",\n        errorXObject: \"errorXObject\",\n        errorFontLoadType3: \"errorFontLoadType3\",\n        errorFontState: \"errorFontState\",\n        errorFontMissing: \"errorFontMissing\",\n        errorFontTranslate: \"errorFontTranslate\",\n        errorColorSpace: \"errorColorSpace\",\n        errorOperatorList: \"errorOperatorList\",\n        errorFontToUnicode: \"errorFontToUnicode\",\n        errorFontLoadNative: \"errorFontLoadNative\",\n        errorFontBuildPath: \"errorFontBuildPath\",\n        errorFontGetPath: \"errorFontGetPath\",\n        errorMarkedContent: \"errorMarkedContent\",\n        errorContentSubStream: \"errorContentSubStream\"\n      };\n      exports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\n      const PasswordResponses = {\n        NEED_PASSWORD: 1,\n        INCORRECT_PASSWORD: 2\n      };\n      exports.PasswordResponses = PasswordResponses;\n      let verbosity = VerbosityLevel.WARNINGS;\n      function setVerbosityLevel(level) {\n        if (Number.isInteger(level)) {\n          verbosity = level;\n        }\n      }\n      function getVerbosityLevel() {\n        return verbosity;\n      }\n      function info(msg) {\n        if (verbosity >= VerbosityLevel.INFOS) {\n          console.log(`Info: ${msg}`);\n        }\n      }\n      function warn(msg) {\n        if (verbosity >= VerbosityLevel.WARNINGS) {\n          console.log(`Warning: ${msg}`);\n        }\n      }\n      function unreachable(msg) {\n        throw new Error(msg);\n      }\n      function assert(cond, msg) {\n        if (!cond) {\n          unreachable(msg);\n        }\n      }\n      function isSameOrigin(baseUrl, otherUrl) {\n        let base;\n        try {\n          base = new URL(baseUrl);\n          if (!base.origin || base.origin === \"null\") {\n            return false;\n          }\n        } catch (e) {\n          return false;\n        }\n        const other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      }\n      function _isValidProtocol(url) {\n        if (!url) {\n          return false;\n        }\n        switch (url.protocol) {\n          case \"http:\":\n          case \"https:\":\n          case \"ftp:\":\n          case \"mailto:\":\n          case \"tel:\":\n            return true;\n          default:\n            return false;\n        }\n      }\n      function createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n        if (!url) {\n          return null;\n        }\n        try {\n          if (options && typeof url === \"string\") {\n            if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n              const dots = url.match(/\\./g);\n              if (dots && dots.length >= 2) {\n                url = `http://${url}`;\n              }\n            }\n            if (options.tryConvertEncoding) {\n              try {\n                url = stringToUTF8String(url);\n              } catch (ex) {}\n            }\n          }\n          const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n          if (_isValidProtocol(absoluteUrl)) {\n            return absoluteUrl;\n          }\n        } catch (ex) {}\n        return null;\n      }\n      function shadow(obj, prop, value) {\n        Object.defineProperty(obj, prop, {\n          value,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n        return value;\n      }\n      const BaseException = function BaseExceptionClosure() {\n        function BaseException(message, name) {\n          if (this.constructor === BaseException) {\n            unreachable(\"Cannot initialize BaseException.\");\n          }\n          this.message = message;\n          this.name = name;\n        }\n        BaseException.prototype = new Error();\n        BaseException.constructor = BaseException;\n        return BaseException;\n      }();\n      exports.BaseException = BaseException;\n      class PasswordException extends BaseException {\n        constructor(msg, code) {\n          super(msg, \"PasswordException\");\n          this.code = code;\n        }\n      }\n      exports.PasswordException = PasswordException;\n      class UnknownErrorException extends BaseException {\n        constructor(msg, details) {\n          super(msg, \"UnknownErrorException\");\n          this.details = details;\n        }\n      }\n      exports.UnknownErrorException = UnknownErrorException;\n      class InvalidPDFException extends BaseException {\n        constructor(msg) {\n          super(msg, \"InvalidPDFException\");\n        }\n      }\n      exports.InvalidPDFException = InvalidPDFException;\n      class MissingPDFException extends BaseException {\n        constructor(msg) {\n          super(msg, \"MissingPDFException\");\n        }\n      }\n      exports.MissingPDFException = MissingPDFException;\n      class UnexpectedResponseException extends BaseException {\n        constructor(msg, status) {\n          super(msg, \"UnexpectedResponseException\");\n          this.status = status;\n        }\n      }\n      exports.UnexpectedResponseException = UnexpectedResponseException;\n      class FormatError extends BaseException {\n        constructor(msg) {\n          super(msg, \"FormatError\");\n        }\n      }\n      exports.FormatError = FormatError;\n      class AbortException extends BaseException {\n        constructor(msg) {\n          super(msg, \"AbortException\");\n        }\n      }\n      exports.AbortException = AbortException;\n      const NullCharactersRegExp = /\\x00/g;\n      function removeNullCharacters(str) {\n        if (typeof str !== \"string\") {\n          warn(\"The argument for removeNullCharacters must be a string.\");\n          return str;\n        }\n        return str.replace(NullCharactersRegExp, \"\");\n      }\n      function bytesToString(bytes) {\n        assert(bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined, \"Invalid argument for bytesToString\");\n        const length = bytes.length;\n        const MAX_ARGUMENT_COUNT = 8192;\n        if (length < MAX_ARGUMENT_COUNT) {\n          return String.fromCharCode.apply(null, bytes);\n        }\n        const strBuf = [];\n        for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n          const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n          const chunk = bytes.subarray(i, chunkEnd);\n          strBuf.push(String.fromCharCode.apply(null, chunk));\n        }\n        return strBuf.join(\"\");\n      }\n      function stringToBytes(str) {\n        assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n        const length = str.length;\n        const bytes = new Uint8Array(length);\n        for (let i = 0; i < length; ++i) {\n          bytes[i] = str.charCodeAt(i) & 0xff;\n        }\n        return bytes;\n      }\n      function arrayByteLength(arr) {\n        if (arr.length !== undefined) {\n          return arr.length;\n        }\n        assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n        return arr.byteLength;\n      }\n      function arraysToBytes(arr) {\n        const length = arr.length;\n        if (length === 1 && arr[0] instanceof Uint8Array) {\n          return arr[0];\n        }\n        let resultLength = 0;\n        for (let i = 0; i < length; i++) {\n          resultLength += arrayByteLength(arr[i]);\n        }\n        let pos = 0;\n        const data = new Uint8Array(resultLength);\n        for (let i = 0; i < length; i++) {\n          let item = arr[i];\n          if (!(item instanceof Uint8Array)) {\n            if (typeof item === \"string\") {\n              item = stringToBytes(item);\n            } else {\n              item = new Uint8Array(item);\n            }\n          }\n          const itemLength = item.byteLength;\n          data.set(item, pos);\n          pos += itemLength;\n        }\n        return data;\n      }\n      function string32(value) {\n        return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n      }\n      function objectSize(obj) {\n        return Object.keys(obj).length;\n      }\n      function objectFromMap(map) {\n        const obj = Object.create(null);\n        for (const [key, value] of map) {\n          obj[key] = value;\n        }\n        return obj;\n      }\n      function isLittleEndian() {\n        const buffer8 = new Uint8Array(4);\n        buffer8[0] = 1;\n        const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n        return view32[0] === 1;\n      }\n      const IsLittleEndianCached = {\n        get value() {\n          return shadow(this, \"value\", isLittleEndian());\n        }\n      };\n      exports.IsLittleEndianCached = IsLittleEndianCached;\n      function isEvalSupported() {\n        try {\n          new Function(\"\");\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      const IsEvalSupportedCached = {\n        get value() {\n          return shadow(this, \"value\", isEvalSupported());\n        }\n      };\n      exports.IsEvalSupportedCached = IsEvalSupportedCached;\n      const hexNumbers = [...Array(256).keys()].map(n => n.toString(16).padStart(2, \"0\"));\n      class Util {\n        static makeHexColor(r, g, b) {\n          return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n        }\n        static transform(m1, m2) {\n          return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n        }\n        static applyTransform(p, m) {\n          const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n          const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n          return [xt, yt];\n        }\n        static applyInverseTransform(p, m) {\n          const d = m[0] * m[3] - m[1] * m[2];\n          const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n          const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n          return [xt, yt];\n        }\n        static getAxialAlignedBoundingBox(r, m) {\n          const p1 = Util.applyTransform(r, m);\n          const p2 = Util.applyTransform(r.slice(2, 4), m);\n          const p3 = Util.applyTransform([r[0], r[3]], m);\n          const p4 = Util.applyTransform([r[2], r[1]], m);\n          return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n        }\n        static inverseTransform(m) {\n          const d = m[0] * m[3] - m[1] * m[2];\n          return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n        }\n        static apply3dTransform(m, v) {\n          return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[3] * v[0] + m[4] * v[1] + m[5] * v[2], m[6] * v[0] + m[7] * v[1] + m[8] * v[2]];\n        }\n        static singularValueDecompose2dScale(m) {\n          const transpose = [m[0], m[2], m[1], m[3]];\n          const a = m[0] * transpose[0] + m[1] * transpose[2];\n          const b = m[0] * transpose[1] + m[1] * transpose[3];\n          const c = m[2] * transpose[0] + m[3] * transpose[2];\n          const d = m[2] * transpose[1] + m[3] * transpose[3];\n          const first = (a + d) / 2;\n          const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n          const sx = first + second || 1;\n          const sy = first - second || 1;\n          return [Math.sqrt(sx), Math.sqrt(sy)];\n        }\n        static normalizeRect(rect) {\n          const r = rect.slice(0);\n          if (rect[0] > rect[2]) {\n            r[0] = rect[2];\n            r[2] = rect[0];\n          }\n          if (rect[1] > rect[3]) {\n            r[1] = rect[3];\n            r[3] = rect[1];\n          }\n          return r;\n        }\n        static intersect(rect1, rect2) {\n          function compare(a, b) {\n            return a - b;\n          }\n          const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n          const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n          const result = [];\n          rect1 = Util.normalizeRect(rect1);\n          rect2 = Util.normalizeRect(rect2);\n          if (orderedX[0] === rect1[0] && orderedX[1] === rect2[0] || orderedX[0] === rect2[0] && orderedX[1] === rect1[0]) {\n            result[0] = orderedX[1];\n            result[2] = orderedX[2];\n          } else {\n            return null;\n          }\n          if (orderedY[0] === rect1[1] && orderedY[1] === rect2[1] || orderedY[0] === rect2[1] && orderedY[1] === rect1[1]) {\n            result[1] = orderedY[1];\n            result[3] = orderedY[2];\n          } else {\n            return null;\n          }\n          return result;\n        }\n      }\n      exports.Util = Util;\n      const PDFStringTranslateTable = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac];\n      function stringToPDFString(str) {\n        const length = str.length,\n          strBuf = [];\n        if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n          for (let i = 2; i < length; i += 2) {\n            strBuf.push(String.fromCharCode(str.charCodeAt(i) << 8 | str.charCodeAt(i + 1)));\n          }\n        } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n          for (let i = 2; i < length; i += 2) {\n            strBuf.push(String.fromCharCode(str.charCodeAt(i + 1) << 8 | str.charCodeAt(i)));\n          }\n        } else {\n          for (let i = 0; i < length; ++i) {\n            const code = PDFStringTranslateTable[str.charCodeAt(i)];\n            strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n          }\n        }\n        return strBuf.join(\"\");\n      }\n      function escapeString(str) {\n        return str.replace(/([()\\\\\\n\\r])/g, match => {\n          if (match === \"\\n\") {\n            return \"\\\\n\";\n          } else if (match === \"\\r\") {\n            return \"\\\\r\";\n          }\n          return `\\\\${match}`;\n        });\n      }\n      function isAscii(str) {\n        return /^[\\x00-\\x7F]*$/.test(str);\n      }\n      function stringToUTF16BEString(str) {\n        const buf = [\"\\xFE\\xFF\"];\n        for (let i = 0, ii = str.length; i < ii; i++) {\n          const char = str.charCodeAt(i);\n          buf.push(String.fromCharCode(char >> 8 & 0xff), String.fromCharCode(char & 0xff));\n        }\n        return buf.join(\"\");\n      }\n      function stringToUTF8String(str) {\n        return decodeURIComponent(escape(str));\n      }\n      function utf8StringToString(str) {\n        return unescape(encodeURIComponent(str));\n      }\n      function isBool(v) {\n        return typeof v === \"boolean\";\n      }\n      function isNum(v) {\n        return typeof v === \"number\";\n      }\n      function isString(v) {\n        return typeof v === \"string\";\n      }\n      function isArrayBuffer(v) {\n        return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n      }\n      function isArrayEqual(arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n          return false;\n        }\n        for (let i = 0, ii = arr1.length; i < ii; i++) {\n          if (arr1[i] !== arr2[i]) {\n            return false;\n          }\n        }\n        return true;\n      }\n      function getModificationDate(date = new Date()) {\n        const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n        return buffer.join(\"\");\n      }\n      function createPromiseCapability() {\n        const capability = Object.create(null);\n        let isSettled = false;\n        Object.defineProperty(capability, \"settled\", {\n          get() {\n            return isSettled;\n          }\n        });\n        capability.promise = new Promise(function (resolve, reject) {\n          capability.resolve = function (data) {\n            isSettled = true;\n            resolve(data);\n          };\n          capability.reject = function (reason) {\n            isSettled = true;\n            reject(reason);\n          };\n        });\n        return capability;\n      }\n      function createObjectURL(data, contentType = \"\", forceDataSchema = false) {\n        if (URL.createObjectURL && !forceDataSchema) {\n          return URL.createObjectURL(new Blob([data], {\n            type: contentType\n          }));\n        }\n        const digits = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        let buffer = `data:${contentType};base64,`;\n        for (let i = 0, ii = data.length; i < ii; i += 3) {\n          const b1 = data[i] & 0xff;\n          const b2 = data[i + 1] & 0xff;\n          const b3 = data[i + 2] & 0xff;\n          const d1 = b1 >> 2,\n            d2 = (b1 & 3) << 4 | b2 >> 4;\n          const d3 = i + 1 < ii ? (b2 & 0xf) << 2 | b3 >> 6 : 64;\n          const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n          buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n        }\n        return buffer;\n      }\n\n      /***/\n    }), (/* 3 */\n    /***/(__unused_webpack_module, __unused_webpack_exports, __w_pdfjs_require__) => {\n      var _is_node = __w_pdfjs_require__(4);\n      ;\n\n      /***/\n    }), (/* 4 */\n    /***/(__unused_webpack_module, exports) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.isNodeJS = void 0;\n      const isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\n      exports.isNodeJS = isNodeJS;\n\n      /***/\n    }), (/* 5 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BaseSVGFactory = exports.BaseStandardFontDataFactory = exports.BaseCMapReaderFactory = exports.BaseCanvasFactory = void 0;\n      var _util = __w_pdfjs_require__(2);\n      class BaseCanvasFactory {\n        constructor() {\n          if (this.constructor === BaseCanvasFactory) {\n            (0, _util.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n          }\n        }\n        create(width, height) {\n          if (width <= 0 || height <= 0) {\n            throw new Error(\"Invalid canvas size\");\n          }\n          const canvas = this._createCanvas(width, height);\n          return {\n            canvas,\n            context: canvas.getContext(\"2d\")\n          };\n        }\n        reset(canvasAndContext, width, height) {\n          if (!canvasAndContext.canvas) {\n            throw new Error(\"Canvas is not specified\");\n          }\n          if (width <= 0 || height <= 0) {\n            throw new Error(\"Invalid canvas size\");\n          }\n          canvasAndContext.canvas.width = width;\n          canvasAndContext.canvas.height = height;\n        }\n        destroy(canvasAndContext) {\n          if (!canvasAndContext.canvas) {\n            throw new Error(\"Canvas is not specified\");\n          }\n          canvasAndContext.canvas.width = 0;\n          canvasAndContext.canvas.height = 0;\n          canvasAndContext.canvas = null;\n          canvasAndContext.context = null;\n        }\n        _createCanvas(width, height) {\n          (0, _util.unreachable)(\"Abstract method `_createCanvas` called.\");\n        }\n      }\n      exports.BaseCanvasFactory = BaseCanvasFactory;\n      class BaseCMapReaderFactory {\n        constructor({\n          baseUrl = null,\n          isCompressed = false\n        }) {\n          if (this.constructor === BaseCMapReaderFactory) {\n            (0, _util.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n          }\n          this.baseUrl = baseUrl;\n          this.isCompressed = isCompressed;\n        }\n        async fetch({\n          name\n        }) {\n          if (!this.baseUrl) {\n            throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n          }\n          if (!name) {\n            throw new Error(\"CMap name must be specified.\");\n          }\n          const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n          const compressionType = this.isCompressed ? _util.CMapCompressionType.BINARY : _util.CMapCompressionType.NONE;\n          return this._fetchData(url, compressionType).catch(reason => {\n            throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n          });\n        }\n        _fetchData(url, compressionType) {\n          (0, _util.unreachable)(\"Abstract method `_fetchData` called.\");\n        }\n      }\n      exports.BaseCMapReaderFactory = BaseCMapReaderFactory;\n      class BaseStandardFontDataFactory {\n        constructor({\n          baseUrl = null\n        }) {\n          if (this.constructor === BaseStandardFontDataFactory) {\n            (0, _util.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n          }\n          this.baseUrl = baseUrl;\n        }\n        async fetch({\n          filename\n        }) {\n          if (!this.baseUrl) {\n            throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n          }\n          if (!filename) {\n            throw new Error(\"Font filename must be specified.\");\n          }\n          const url = `${this.baseUrl}${filename}`;\n          return this._fetchData(url).catch(reason => {\n            throw new Error(`Unable to load font data at: ${url}`);\n          });\n        }\n        _fetchData(url) {\n          (0, _util.unreachable)(\"Abstract method `_fetchData` called.\");\n        }\n      }\n      exports.BaseStandardFontDataFactory = BaseStandardFontDataFactory;\n      class BaseSVGFactory {\n        constructor() {\n          if (this.constructor === BaseSVGFactory) {\n            (0, _util.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n          }\n        }\n        create(width, height) {\n          if (width <= 0 || height <= 0) {\n            throw new Error(\"Invalid SVG dimensions\");\n          }\n          const svg = this._createSVG(\"svg:svg\");\n          svg.setAttribute(\"version\", \"1.1\");\n          svg.setAttribute(\"width\", `${width}px`);\n          svg.setAttribute(\"height\", `${height}px`);\n          svg.setAttribute(\"preserveAspectRatio\", \"none\");\n          svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n          return svg;\n        }\n        createElement(type) {\n          if (typeof type !== \"string\") {\n            throw new Error(\"Invalid SVG element type\");\n          }\n          return this._createSVG(type);\n        }\n        _createSVG(type) {\n          (0, _util.unreachable)(\"Abstract method `_createSVG` called.\");\n        }\n      }\n      exports.BaseSVGFactory = BaseSVGFactory;\n\n      /***/\n    }), (/* 6 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getDocument = getDocument;\n      exports.setPDFNetworkStreamFactory = setPDFNetworkStreamFactory;\n      exports.version = exports.RenderTask = exports.PDFWorker = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFDocumentLoadingTask = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.DefaultStandardFontDataFactory = exports.DefaultCMapReaderFactory = exports.DefaultCanvasFactory = exports.build = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _display_utils = __w_pdfjs_require__(1);\n      var _font_loader = __w_pdfjs_require__(7);\n      var _node_utils = __w_pdfjs_require__(8);\n      var _annotation_storage = __w_pdfjs_require__(9);\n      var _canvas = __w_pdfjs_require__(10);\n      var _worker_options = __w_pdfjs_require__(12);\n      var _is_node = __w_pdfjs_require__(4);\n      var _message_handler = __w_pdfjs_require__(13);\n      var _metadata = __w_pdfjs_require__(14);\n      var _optional_content_config = __w_pdfjs_require__(15);\n      var _transport_stream = __w_pdfjs_require__(16);\n      var _xfa_text = __w_pdfjs_require__(17);\n      const DEFAULT_RANGE_CHUNK_SIZE = 65536;\n      const RENDERING_CANCELLED_TIMEOUT = 100;\n      const DefaultCanvasFactory = _is_node.isNodeJS ? _node_utils.NodeCanvasFactory : _display_utils.DOMCanvasFactory;\n      exports.DefaultCanvasFactory = DefaultCanvasFactory;\n      const DefaultCMapReaderFactory = _is_node.isNodeJS ? _node_utils.NodeCMapReaderFactory : _display_utils.DOMCMapReaderFactory;\n      exports.DefaultCMapReaderFactory = DefaultCMapReaderFactory;\n      const DefaultStandardFontDataFactory = _is_node.isNodeJS ? _node_utils.NodeStandardFontDataFactory : _display_utils.DOMStandardFontDataFactory;\n      exports.DefaultStandardFontDataFactory = DefaultStandardFontDataFactory;\n      let createPDFNetworkStream;\n      function setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n        createPDFNetworkStream = pdfNetworkStreamFactory;\n      }\n      function getDocument(src) {\n        const task = new PDFDocumentLoadingTask();\n        let source;\n        if (typeof src === \"string\" || src instanceof URL) {\n          source = {\n            url: src\n          };\n        } else if ((0, _util.isArrayBuffer)(src)) {\n          source = {\n            data: src\n          };\n        } else if (src instanceof PDFDataRangeTransport) {\n          source = {\n            range: src\n          };\n        } else {\n          if (typeof src !== \"object\") {\n            throw new Error(\"Invalid parameter in getDocument, \" + \"need either string, URL, Uint8Array, or parameter object.\");\n          }\n          if (!src.url && !src.data && !src.range) {\n            throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n          }\n          source = src;\n        }\n        const params = Object.create(null);\n        let rangeTransport = null,\n          worker = null;\n        for (const key in source) {\n          const value = source[key];\n          switch (key) {\n            case \"url\":\n              if (typeof window !== \"undefined\") {\n                try {\n                  params[key] = new URL(value, window.location).href;\n                  continue;\n                } catch (ex) {\n                  (0, _util.warn)(`Cannot create valid URL: \"${ex}\".`);\n                }\n              } else if (typeof value === \"string\" || value instanceof URL) {\n                params[key] = value.toString();\n                continue;\n              }\n              throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n            case \"range\":\n              rangeTransport = value;\n              continue;\n            case \"worker\":\n              worker = value;\n              continue;\n            case \"data\":\n              if (_is_node.isNodeJS && typeof Buffer !== \"undefined\" && value instanceof Buffer) {\n                params[key] = new Uint8Array(value);\n              } else if (value instanceof Uint8Array) {\n                break;\n              } else if (typeof value === \"string\") {\n                params[key] = (0, _util.stringToBytes)(value);\n              } else if (typeof value === \"object\" && value !== null && !isNaN(value.length)) {\n                params[key] = new Uint8Array(value);\n              } else if ((0, _util.isArrayBuffer)(value)) {\n                params[key] = new Uint8Array(value);\n              } else {\n                throw new Error(\"Invalid PDF binary data: either typed array, \" + \"string, or array-like object is expected in the data property.\");\n              }\n              continue;\n          }\n          params[key] = value;\n        }\n        params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n        params.CMapReaderFactory = params.CMapReaderFactory || DefaultCMapReaderFactory;\n        params.StandardFontDataFactory = params.StandardFontDataFactory || DefaultStandardFontDataFactory;\n        params.ignoreErrors = params.stopAtErrors !== true;\n        params.fontExtraProperties = params.fontExtraProperties === true;\n        params.pdfBug = params.pdfBug === true;\n        params.enableXfa = params.enableXfa === true;\n        if (typeof params.docBaseUrl !== \"string\" || (0, _display_utils.isDataScheme)(params.docBaseUrl)) {\n          params.docBaseUrl = null;\n        }\n        if (!Number.isInteger(params.maxImageSize)) {\n          params.maxImageSize = -1;\n        }\n        if (typeof params.useWorkerFetch !== \"boolean\") {\n          params.useWorkerFetch = params.CMapReaderFactory === _display_utils.DOMCMapReaderFactory && params.StandardFontDataFactory === _display_utils.DOMStandardFontDataFactory;\n        }\n        if (typeof params.isEvalSupported !== \"boolean\") {\n          params.isEvalSupported = true;\n        }\n        if (typeof params.disableFontFace !== \"boolean\") {\n          params.disableFontFace = _is_node.isNodeJS;\n        }\n        if (typeof params.useSystemFonts !== \"boolean\") {\n          params.useSystemFonts = !_is_node.isNodeJS && !params.disableFontFace;\n        }\n        if (typeof params.ownerDocument === \"undefined\") {\n          params.ownerDocument = globalThis.document;\n        }\n        if (typeof params.disableRange !== \"boolean\") {\n          params.disableRange = false;\n        }\n        if (typeof params.disableStream !== \"boolean\") {\n          params.disableStream = false;\n        }\n        if (typeof params.disableAutoFetch !== \"boolean\") {\n          params.disableAutoFetch = false;\n        }\n        (0, _util.setVerbosityLevel)(params.verbosity);\n        if (!worker) {\n          const workerParams = {\n            verbosity: params.verbosity,\n            port: _worker_options.GlobalWorkerOptions.workerPort\n          };\n          worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n          task._worker = worker;\n        }\n        const docId = task.docId;\n        worker.promise.then(function () {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n          const workerIdPromise = _fetchDocument(worker, params, rangeTransport, docId);\n          const networkStreamPromise = new Promise(function (resolve) {\n            let networkStream;\n            if (rangeTransport) {\n              networkStream = new _transport_stream.PDFDataTransportStream({\n                length: params.length,\n                initialData: params.initialData,\n                progressiveDone: params.progressiveDone,\n                contentDispositionFilename: params.contentDispositionFilename,\n                disableRange: params.disableRange,\n                disableStream: params.disableStream\n              }, rangeTransport);\n            } else if (!params.data) {\n              networkStream = createPDFNetworkStream({\n                url: params.url,\n                length: params.length,\n                httpHeaders: params.httpHeaders,\n                withCredentials: params.withCredentials,\n                rangeChunkSize: params.rangeChunkSize,\n                disableRange: params.disableRange,\n                disableStream: params.disableStream\n              });\n            }\n            resolve(networkStream);\n          });\n          return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n            if (task.destroyed) {\n              throw new Error(\"Loading aborted\");\n            }\n            const messageHandler = new _message_handler.MessageHandler(docId, workerId, worker.port);\n            messageHandler.postMessageTransfers = worker.postMessageTransfers;\n            const transport = new WorkerTransport(messageHandler, task, networkStream, params);\n            task._transport = transport;\n            messageHandler.send(\"Ready\", null);\n          });\n        }).catch(task._capability.reject);\n        return task;\n      }\n      async function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n        if (worker.destroyed) {\n          throw new Error(\"Worker was destroyed\");\n        }\n        if (pdfDataRangeTransport) {\n          source.length = pdfDataRangeTransport.length;\n          source.initialData = pdfDataRangeTransport.initialData;\n          source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n          source.contentDispositionFilename = pdfDataRangeTransport.contentDispositionFilename;\n        }\n        const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", {\n          docId,\n          apiVersion: '2.11.338',\n          source: {\n            data: source.data,\n            url: source.url,\n            password: source.password,\n            disableAutoFetch: source.disableAutoFetch,\n            rangeChunkSize: source.rangeChunkSize,\n            length: source.length\n          },\n          maxImageSize: source.maxImageSize,\n          disableFontFace: source.disableFontFace,\n          postMessageTransfers: worker.postMessageTransfers,\n          docBaseUrl: source.docBaseUrl,\n          ignoreErrors: source.ignoreErrors,\n          isEvalSupported: source.isEvalSupported,\n          fontExtraProperties: source.fontExtraProperties,\n          enableXfa: source.enableXfa,\n          useSystemFonts: source.useSystemFonts,\n          cMapUrl: source.useWorkerFetch ? source.cMapUrl : null,\n          standardFontDataUrl: source.useWorkerFetch ? source.standardFontDataUrl : null\n        });\n        if (worker.destroyed) {\n          throw new Error(\"Worker was destroyed\");\n        }\n        return workerId;\n      }\n      class PDFDocumentLoadingTask {\n        static get idCounters() {\n          return (0, _util.shadow)(this, \"idCounters\", {\n            doc: 0\n          });\n        }\n        constructor() {\n          this._capability = (0, _util.createPromiseCapability)();\n          this._transport = null;\n          this._worker = null;\n          this.docId = `d${PDFDocumentLoadingTask.idCounters.doc++}`;\n          this.destroyed = false;\n          this.onPassword = null;\n          this.onProgress = null;\n          this.onUnsupportedFeature = null;\n        }\n        get promise() {\n          return this._capability.promise;\n        }\n        async destroy() {\n          this.destroyed = true;\n          await this._transport?.destroy();\n          this._transport = null;\n          if (this._worker) {\n            this._worker.destroy();\n            this._worker = null;\n          }\n        }\n      }\n      exports.PDFDocumentLoadingTask = PDFDocumentLoadingTask;\n      class PDFDataRangeTransport {\n        constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n          this.length = length;\n          this.initialData = initialData;\n          this.progressiveDone = progressiveDone;\n          this.contentDispositionFilename = contentDispositionFilename;\n          this._rangeListeners = [];\n          this._progressListeners = [];\n          this._progressiveReadListeners = [];\n          this._progressiveDoneListeners = [];\n          this._readyCapability = (0, _util.createPromiseCapability)();\n        }\n        addRangeListener(listener) {\n          this._rangeListeners.push(listener);\n        }\n        addProgressListener(listener) {\n          this._progressListeners.push(listener);\n        }\n        addProgressiveReadListener(listener) {\n          this._progressiveReadListeners.push(listener);\n        }\n        addProgressiveDoneListener(listener) {\n          this._progressiveDoneListeners.push(listener);\n        }\n        onDataRange(begin, chunk) {\n          for (const listener of this._rangeListeners) {\n            listener(begin, chunk);\n          }\n        }\n        onDataProgress(loaded, total) {\n          this._readyCapability.promise.then(() => {\n            for (const listener of this._progressListeners) {\n              listener(loaded, total);\n            }\n          });\n        }\n        onDataProgressiveRead(chunk) {\n          this._readyCapability.promise.then(() => {\n            for (const listener of this._progressiveReadListeners) {\n              listener(chunk);\n            }\n          });\n        }\n        onDataProgressiveDone() {\n          this._readyCapability.promise.then(() => {\n            for (const listener of this._progressiveDoneListeners) {\n              listener();\n            }\n          });\n        }\n        transportReady() {\n          this._readyCapability.resolve();\n        }\n        requestDataRange(begin, end) {\n          (0, _util.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n        }\n        abort() {}\n      }\n      exports.PDFDataRangeTransport = PDFDataRangeTransport;\n      class PDFDocumentProxy {\n        constructor(pdfInfo, transport) {\n          this._pdfInfo = pdfInfo;\n          this._transport = transport;\n          Object.defineProperty(this, \"fingerprint\", {\n            get() {\n              (0, _display_utils.deprecated)(\"`PDFDocumentProxy.fingerprint`, \" + \"please use `PDFDocumentProxy.fingerprints` instead.\");\n              return this.fingerprints[0];\n            }\n          });\n        }\n        get annotationStorage() {\n          return this._transport.annotationStorage;\n        }\n        get numPages() {\n          return this._pdfInfo.numPages;\n        }\n        get fingerprints() {\n          return this._pdfInfo.fingerprints;\n        }\n        get isPureXfa() {\n          return !!this._transport._htmlForXfa;\n        }\n        get allXfaHtml() {\n          return this._transport._htmlForXfa;\n        }\n        getPage(pageNumber) {\n          return this._transport.getPage(pageNumber);\n        }\n        getPageIndex(ref) {\n          return this._transport.getPageIndex(ref);\n        }\n        getDestinations() {\n          return this._transport.getDestinations();\n        }\n        getDestination(id) {\n          return this._transport.getDestination(id);\n        }\n        getPageLabels() {\n          return this._transport.getPageLabels();\n        }\n        getPageLayout() {\n          return this._transport.getPageLayout();\n        }\n        getPageMode() {\n          return this._transport.getPageMode();\n        }\n        getViewerPreferences() {\n          return this._transport.getViewerPreferences();\n        }\n        getOpenAction() {\n          return this._transport.getOpenAction();\n        }\n        getAttachments() {\n          return this._transport.getAttachments();\n        }\n        getJavaScript() {\n          return this._transport.getJavaScript();\n        }\n        getJSActions() {\n          return this._transport.getDocJSActions();\n        }\n        getOutline() {\n          return this._transport.getOutline();\n        }\n        getOptionalContentConfig() {\n          return this._transport.getOptionalContentConfig();\n        }\n        getPermissions() {\n          return this._transport.getPermissions();\n        }\n        getMetadata() {\n          return this._transport.getMetadata();\n        }\n        getMarkInfo() {\n          return this._transport.getMarkInfo();\n        }\n        getData() {\n          return this._transport.getData();\n        }\n        getDownloadInfo() {\n          return this._transport.downloadInfoCapability.promise;\n        }\n        getStats() {\n          return this._transport.getStats();\n        }\n        cleanup(keepLoadedFonts = false) {\n          return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n        }\n        destroy() {\n          return this.loadingTask.destroy();\n        }\n        get loadingParams() {\n          return this._transport.loadingParams;\n        }\n        get loadingTask() {\n          return this._transport.loadingTask;\n        }\n        saveDocument() {\n          if (this._transport.annotationStorage.size <= 0) {\n            (0, _display_utils.deprecated)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n          }\n          return this._transport.saveDocument();\n        }\n        getFieldObjects() {\n          return this._transport.getFieldObjects();\n        }\n        hasJSActions() {\n          return this._transport.hasJSActions();\n        }\n        getCalculationOrderIds() {\n          return this._transport.getCalculationOrderIds();\n        }\n      }\n      exports.PDFDocumentProxy = PDFDocumentProxy;\n      class PDFPageProxy {\n        constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n          this._pageIndex = pageIndex;\n          this._pageInfo = pageInfo;\n          this._ownerDocument = ownerDocument;\n          this._transport = transport;\n          this._stats = pdfBug ? new _display_utils.StatTimer() : null;\n          this._pdfBug = pdfBug;\n          this.commonObjs = transport.commonObjs;\n          this.objs = new PDFObjects();\n          this.cleanupAfterRender = false;\n          this.pendingCleanup = false;\n          this._intentStates = new Map();\n          this._annotationPromises = new Map();\n          this.destroyed = false;\n        }\n        get pageNumber() {\n          return this._pageIndex + 1;\n        }\n        get rotate() {\n          return this._pageInfo.rotate;\n        }\n        get ref() {\n          return this._pageInfo.ref;\n        }\n        get userUnit() {\n          return this._pageInfo.userUnit;\n        }\n        get view() {\n          return this._pageInfo.view;\n        }\n        getViewport({\n          scale,\n          rotation = this.rotate,\n          offsetX = 0,\n          offsetY = 0,\n          dontFlip = false\n        } = {}) {\n          return new _display_utils.PageViewport({\n            viewBox: this.view,\n            scale,\n            rotation,\n            offsetX,\n            offsetY,\n            dontFlip\n          });\n        }\n        getAnnotations({\n          intent = \"display\"\n        } = {}) {\n          const intentArgs = this._transport.getRenderingIntent(intent);\n          let promise = this._annotationPromises.get(intentArgs.cacheKey);\n          if (!promise) {\n            promise = this._transport.getAnnotations(this._pageIndex, intentArgs.renderingIntent);\n            this._annotationPromises.set(intentArgs.cacheKey, promise);\n            promise = promise.then(annotations => {\n              for (const annotation of annotations) {\n                if (annotation.titleObj !== undefined) {\n                  Object.defineProperty(annotation, \"title\", {\n                    get() {\n                      (0, _display_utils.deprecated)(\"`title`-property on annotation, please use `titleObj` instead.\");\n                      return annotation.titleObj.str;\n                    }\n                  });\n                }\n                if (annotation.contentsObj !== undefined) {\n                  Object.defineProperty(annotation, \"contents\", {\n                    get() {\n                      (0, _display_utils.deprecated)(\"`contents`-property on annotation, please use `contentsObj` instead.\");\n                      return annotation.contentsObj.str;\n                    }\n                  });\n                }\n              }\n              return annotations;\n            });\n          }\n          return promise;\n        }\n        getJSActions() {\n          return this._jsActionsPromise ||= this._transport.getPageJSActions(this._pageIndex);\n        }\n        async getXfa() {\n          return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n        }\n        render({\n          canvasContext,\n          viewport,\n          intent = \"display\",\n          annotationMode = _util.AnnotationMode.ENABLE,\n          transform = null,\n          imageLayer = null,\n          canvasFactory = null,\n          background = null,\n          optionalContentConfigPromise = null\n        }) {\n          if (arguments[0]?.renderInteractiveForms !== undefined) {\n            (0, _display_utils.deprecated)(\"render no longer accepts the `renderInteractiveForms`-option, \" + \"please use the `annotationMode`-option instead.\");\n            if (arguments[0].renderInteractiveForms === true && annotationMode === _util.AnnotationMode.ENABLE) {\n              annotationMode = _util.AnnotationMode.ENABLE_FORMS;\n            }\n          }\n          if (arguments[0]?.includeAnnotationStorage !== undefined) {\n            (0, _display_utils.deprecated)(\"render no longer accepts the `includeAnnotationStorage`-option, \" + \"please use the `annotationMode`-option instead.\");\n            if (arguments[0].includeAnnotationStorage === true && annotationMode === _util.AnnotationMode.ENABLE) {\n              annotationMode = _util.AnnotationMode.ENABLE_STORAGE;\n            }\n          }\n          if (this._stats) {\n            this._stats.time(\"Overall\");\n          }\n          const intentArgs = this._transport.getRenderingIntent(intent, annotationMode);\n          this.pendingCleanup = false;\n          if (!optionalContentConfigPromise) {\n            optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n          }\n          let intentState = this._intentStates.get(intentArgs.cacheKey);\n          if (!intentState) {\n            intentState = Object.create(null);\n            this._intentStates.set(intentArgs.cacheKey, intentState);\n          }\n          if (intentState.streamReaderCancelTimeout) {\n            clearTimeout(intentState.streamReaderCancelTimeout);\n            intentState.streamReaderCancelTimeout = null;\n          }\n          const canvasFactoryInstance = canvasFactory || new DefaultCanvasFactory({\n            ownerDocument: this._ownerDocument\n          });\n          const intentPrint = !!(intentArgs.renderingIntent & _util.RenderingIntentFlag.PRINT);\n          if (!intentState.displayReadyCapability) {\n            intentState.displayReadyCapability = (0, _util.createPromiseCapability)();\n            intentState.operatorList = {\n              fnArray: [],\n              argsArray: [],\n              lastChunk: false\n            };\n            if (this._stats) {\n              this._stats.time(\"Page Request\");\n            }\n            this._pumpOperatorList(intentArgs);\n          }\n          const complete = error => {\n            intentState.renderTasks.delete(internalRenderTask);\n            if (this.cleanupAfterRender || intentPrint) {\n              this.pendingCleanup = true;\n            }\n            this._tryCleanup();\n            if (error) {\n              internalRenderTask.capability.reject(error);\n              this._abortOperatorList({\n                intentState,\n                reason: error instanceof Error ? error : new Error(error)\n              });\n            } else {\n              internalRenderTask.capability.resolve();\n            }\n            if (this._stats) {\n              this._stats.timeEnd(\"Rendering\");\n              this._stats.timeEnd(\"Overall\");\n            }\n          };\n          const internalRenderTask = new InternalRenderTask({\n            callback: complete,\n            params: {\n              canvasContext,\n              viewport,\n              transform,\n              imageLayer,\n              background\n            },\n            objs: this.objs,\n            commonObjs: this.commonObjs,\n            operatorList: intentState.operatorList,\n            pageIndex: this._pageIndex,\n            canvasFactory: canvasFactoryInstance,\n            useRequestAnimationFrame: !intentPrint,\n            pdfBug: this._pdfBug\n          });\n          (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n          const renderTask = internalRenderTask.task;\n          Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n            if (this.pendingCleanup) {\n              complete();\n              return;\n            }\n            if (this._stats) {\n              this._stats.time(\"Rendering\");\n            }\n            internalRenderTask.initializeGraphics({\n              transparency,\n              optionalContentConfig\n            });\n            internalRenderTask.operatorListChanged();\n          }).catch(complete);\n          return renderTask;\n        }\n        getOperatorList({\n          intent = \"display\",\n          annotationMode = _util.AnnotationMode.ENABLE\n        } = {}) {\n          function operatorListChanged() {\n            if (intentState.operatorList.lastChunk) {\n              intentState.opListReadCapability.resolve(intentState.operatorList);\n              intentState.renderTasks.delete(opListTask);\n            }\n          }\n          const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, true);\n          let intentState = this._intentStates.get(intentArgs.cacheKey);\n          if (!intentState) {\n            intentState = Object.create(null);\n            this._intentStates.set(intentArgs.cacheKey, intentState);\n          }\n          let opListTask;\n          if (!intentState.opListReadCapability) {\n            opListTask = Object.create(null);\n            opListTask.operatorListChanged = operatorListChanged;\n            intentState.opListReadCapability = (0, _util.createPromiseCapability)();\n            (intentState.renderTasks ||= new Set()).add(opListTask);\n            intentState.operatorList = {\n              fnArray: [],\n              argsArray: [],\n              lastChunk: false\n            };\n            if (this._stats) {\n              this._stats.time(\"Page Request\");\n            }\n            this._pumpOperatorList(intentArgs);\n          }\n          return intentState.opListReadCapability.promise;\n        }\n        streamTextContent({\n          normalizeWhitespace = false,\n          disableCombineTextItems = false,\n          includeMarkedContent = false\n        } = {}) {\n          const TEXT_CONTENT_CHUNK_SIZE = 100;\n          return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n            pageIndex: this._pageIndex,\n            normalizeWhitespace: normalizeWhitespace === true,\n            combineTextItems: disableCombineTextItems !== true,\n            includeMarkedContent: includeMarkedContent === true\n          }, {\n            highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n            size(textContent) {\n              return textContent.items.length;\n            }\n          });\n        }\n        getTextContent(params = {}) {\n          if (this._transport._htmlForXfa) {\n            return this.getXfa().then(xfa => {\n              return _xfa_text.XfaText.textContent(xfa);\n            });\n          }\n          const readableStream = this.streamTextContent(params);\n          return new Promise(function (resolve, reject) {\n            function pump() {\n              reader.read().then(function ({\n                value,\n                done\n              }) {\n                if (done) {\n                  resolve(textContent);\n                  return;\n                }\n                Object.assign(textContent.styles, value.styles);\n                textContent.items.push(...value.items);\n                pump();\n              }, reject);\n            }\n            const reader = readableStream.getReader();\n            const textContent = {\n              items: [],\n              styles: Object.create(null)\n            };\n            pump();\n          });\n        }\n        getStructTree() {\n          return this._structTreePromise ||= this._transport.getStructTree(this._pageIndex);\n        }\n        _destroy() {\n          this.destroyed = true;\n          this._transport.pageCache[this._pageIndex] = null;\n          const waitOn = [];\n          for (const intentState of this._intentStates.values()) {\n            this._abortOperatorList({\n              intentState,\n              reason: new Error(\"Page was destroyed.\"),\n              force: true\n            });\n            if (intentState.opListReadCapability) {\n              continue;\n            }\n            for (const internalRenderTask of intentState.renderTasks) {\n              waitOn.push(internalRenderTask.completed);\n              internalRenderTask.cancel();\n            }\n          }\n          this.objs.clear();\n          this._annotationPromises.clear();\n          this._jsActionsPromise = null;\n          this._structTreePromise = null;\n          this.pendingCleanup = false;\n          return Promise.all(waitOn);\n        }\n        cleanup(resetStats = false) {\n          this.pendingCleanup = true;\n          return this._tryCleanup(resetStats);\n        }\n        _tryCleanup(resetStats = false) {\n          if (!this.pendingCleanup) {\n            return false;\n          }\n          for (const {\n            renderTasks,\n            operatorList\n          } of this._intentStates.values()) {\n            if (renderTasks.size > 0 || !operatorList.lastChunk) {\n              return false;\n            }\n          }\n          this._intentStates.clear();\n          this.objs.clear();\n          this._annotationPromises.clear();\n          this._jsActionsPromise = null;\n          this._structTreePromise = null;\n          if (resetStats && this._stats) {\n            this._stats = new _display_utils.StatTimer();\n          }\n          this.pendingCleanup = false;\n          return true;\n        }\n        _startRenderPage(transparency, cacheKey) {\n          const intentState = this._intentStates.get(cacheKey);\n          if (!intentState) {\n            return;\n          }\n          if (this._stats) {\n            this._stats.timeEnd(\"Page Request\");\n          }\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.resolve(transparency);\n          }\n        }\n        _renderPageChunk(operatorListChunk, intentState) {\n          for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n            intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n            intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n          }\n          intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          if (operatorListChunk.lastChunk) {\n            this._tryCleanup();\n          }\n        }\n        _pumpOperatorList({\n          renderingIntent,\n          cacheKey\n        }) {\n          const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n            pageIndex: this._pageIndex,\n            intent: renderingIntent,\n            cacheKey,\n            annotationStorage: renderingIntent & _util.RenderingIntentFlag.ANNOTATIONS_STORAGE ? this._transport.annotationStorage.serializable : null\n          });\n          const reader = readableStream.getReader();\n          const intentState = this._intentStates.get(cacheKey);\n          intentState.streamReader = reader;\n          const pump = () => {\n            reader.read().then(({\n              value,\n              done\n            }) => {\n              if (done) {\n                intentState.streamReader = null;\n                return;\n              }\n              if (this._transport.destroyed) {\n                return;\n              }\n              this._renderPageChunk(value, intentState);\n              pump();\n            }, reason => {\n              intentState.streamReader = null;\n              if (this._transport.destroyed) {\n                return;\n              }\n              if (intentState.operatorList) {\n                intentState.operatorList.lastChunk = true;\n                for (const internalRenderTask of intentState.renderTasks) {\n                  internalRenderTask.operatorListChanged();\n                }\n                this._tryCleanup();\n              }\n              if (intentState.displayReadyCapability) {\n                intentState.displayReadyCapability.reject(reason);\n              } else if (intentState.opListReadCapability) {\n                intentState.opListReadCapability.reject(reason);\n              } else {\n                throw reason;\n              }\n            });\n          };\n          pump();\n        }\n        _abortOperatorList({\n          intentState,\n          reason,\n          force = false\n        }) {\n          if (!intentState.streamReader) {\n            return;\n          }\n          if (!force) {\n            if (intentState.renderTasks.size > 0) {\n              return;\n            }\n            if (reason instanceof _display_utils.RenderingCancelledException) {\n              intentState.streamReaderCancelTimeout = setTimeout(() => {\n                this._abortOperatorList({\n                  intentState,\n                  reason,\n                  force: true\n                });\n                intentState.streamReaderCancelTimeout = null;\n              }, RENDERING_CANCELLED_TIMEOUT);\n              return;\n            }\n          }\n          intentState.streamReader.cancel(new _util.AbortException(reason.message)).catch(() => {});\n          intentState.streamReader = null;\n          if (this._transport.destroyed) {\n            return;\n          }\n          for (const [curCacheKey, curIntentState] of this._intentStates) {\n            if (curIntentState === intentState) {\n              this._intentStates.delete(curCacheKey);\n              break;\n            }\n          }\n          this.cleanup();\n        }\n        get stats() {\n          return this._stats;\n        }\n      }\n      exports.PDFPageProxy = PDFPageProxy;\n      class LoopbackPort {\n        constructor() {\n          this._listeners = [];\n          this._deferred = Promise.resolve(undefined);\n        }\n        postMessage(obj, transfers) {\n          function cloneValue(value) {\n            if (typeof value === \"function\" || typeof value === \"symbol\" || value instanceof URL) {\n              throw new Error(`LoopbackPort.postMessage - cannot clone: ${value?.toString()}`);\n            }\n            if (typeof value !== \"object\" || value === null) {\n              return value;\n            }\n            if (cloned.has(value)) {\n              return cloned.get(value);\n            }\n            let buffer, result;\n            if ((buffer = value.buffer) && (0, _util.isArrayBuffer)(buffer)) {\n              if (transfers?.includes(buffer)) {\n                result = new value.constructor(buffer, value.byteOffset, value.byteLength);\n              } else {\n                result = new value.constructor(value);\n              }\n              cloned.set(value, result);\n              return result;\n            }\n            if (value instanceof Map) {\n              result = new Map();\n              cloned.set(value, result);\n              for (const [key, val] of value) {\n                result.set(key, cloneValue(val));\n              }\n              return result;\n            }\n            if (value instanceof Set) {\n              result = new Set();\n              cloned.set(value, result);\n              for (const val of value) {\n                result.add(cloneValue(val));\n              }\n              return result;\n            }\n            result = Array.isArray(value) ? [] : Object.create(null);\n            cloned.set(value, result);\n            for (const i in value) {\n              let desc,\n                p = value;\n              while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n                p = Object.getPrototypeOf(p);\n              }\n              if (typeof desc.value === \"undefined\") {\n                continue;\n              }\n              if (typeof desc.value === \"function\" && !value.hasOwnProperty?.(i)) {\n                continue;\n              }\n              result[i] = cloneValue(desc.value);\n            }\n            return result;\n          }\n          const cloned = new WeakMap();\n          const event = {\n            data: cloneValue(obj)\n          };\n          this._deferred.then(() => {\n            for (const listener of this._listeners) {\n              listener.call(this, event);\n            }\n          });\n        }\n        addEventListener(name, listener) {\n          this._listeners.push(listener);\n        }\n        removeEventListener(name, listener) {\n          const i = this._listeners.indexOf(listener);\n          this._listeners.splice(i, 1);\n        }\n        terminate() {\n          this._listeners.length = 0;\n        }\n      }\n      exports.LoopbackPort = LoopbackPort;\n      const PDFWorkerUtil = {\n        isWorkerDisabled: false,\n        fallbackWorkerSrc: null,\n        fakeWorkerId: 0\n      };\n      {\n        if (_is_node.isNodeJS && typeof require === \"function\") {\n          PDFWorkerUtil.isWorkerDisabled = true;\n          PDFWorkerUtil.fallbackWorkerSrc = \"./pdf.worker.js\";\n        } else if (typeof document === \"object\") {\n          const pdfjsFilePath = document?.currentScript?.src;\n          if (pdfjsFilePath) {\n            PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, \".worker$1$2\");\n          }\n        }\n        PDFWorkerUtil.createCDNWrapper = function (url) {\n          const wrapper = `importScripts(\"${url}\");`;\n          return URL.createObjectURL(new Blob([wrapper]));\n        };\n      }\n      class PDFWorker {\n        static get _workerPorts() {\n          return (0, _util.shadow)(this, \"_workerPorts\", new WeakMap());\n        }\n        constructor({\n          name = null,\n          port = null,\n          verbosity = (0, _util.getVerbosityLevel)()\n        } = {}) {\n          if (port && PDFWorker._workerPorts.has(port)) {\n            throw new Error(\"Cannot use more than one PDFWorker per port.\");\n          }\n          this.name = name;\n          this.destroyed = false;\n          this.postMessageTransfers = true;\n          this.verbosity = verbosity;\n          this._readyCapability = (0, _util.createPromiseCapability)();\n          this._port = null;\n          this._webWorker = null;\n          this._messageHandler = null;\n          if (port) {\n            PDFWorker._workerPorts.set(port, this);\n            this._initializeFromPort(port);\n            return;\n          }\n          this._initialize();\n        }\n        get promise() {\n          return this._readyCapability.promise;\n        }\n        get port() {\n          return this._port;\n        }\n        get messageHandler() {\n          return this._messageHandler;\n        }\n        _initializeFromPort(port) {\n          this._port = port;\n          this._messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", port);\n          this._messageHandler.on(\"ready\", function () {});\n          this._readyCapability.resolve();\n        }\n        _initialize() {\n          if (typeof Worker !== \"undefined\" && !PDFWorkerUtil.isWorkerDisabled && !PDFWorker._mainThreadWorkerMessageHandler) {\n            let workerSrc = PDFWorker.workerSrc;\n            try {\n              if (!(0, _util.isSameOrigin)(window.location.href, workerSrc)) {\n                workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n              }\n              const worker = new Worker(workerSrc);\n              const messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", worker);\n              const terminateEarly = () => {\n                worker.removeEventListener(\"error\", onWorkerError);\n                messageHandler.destroy();\n                worker.terminate();\n                if (this.destroyed) {\n                  this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n                } else {\n                  this._setupFakeWorker();\n                }\n              };\n              const onWorkerError = () => {\n                if (!this._webWorker) {\n                  terminateEarly();\n                }\n              };\n              worker.addEventListener(\"error\", onWorkerError);\n              messageHandler.on(\"test\", data => {\n                worker.removeEventListener(\"error\", onWorkerError);\n                if (this.destroyed) {\n                  terminateEarly();\n                  return;\n                }\n                if (data) {\n                  this._messageHandler = messageHandler;\n                  this._port = worker;\n                  this._webWorker = worker;\n                  if (!data.supportTransfers) {\n                    this.postMessageTransfers = false;\n                  }\n                  this._readyCapability.resolve();\n                  messageHandler.send(\"configure\", {\n                    verbosity: this.verbosity\n                  });\n                } else {\n                  this._setupFakeWorker();\n                  messageHandler.destroy();\n                  worker.terminate();\n                }\n              });\n              messageHandler.on(\"ready\", data => {\n                worker.removeEventListener(\"error\", onWorkerError);\n                if (this.destroyed) {\n                  terminateEarly();\n                  return;\n                }\n                try {\n                  sendTest();\n                } catch (e) {\n                  this._setupFakeWorker();\n                }\n              });\n              const sendTest = () => {\n                const testObj = new Uint8Array([this.postMessageTransfers ? 255 : 0]);\n                try {\n                  messageHandler.send(\"test\", testObj, [testObj.buffer]);\n                } catch (ex) {\n                  (0, _util.warn)(\"Cannot use postMessage transfers.\");\n                  testObj[0] = 0;\n                  messageHandler.send(\"test\", testObj);\n                }\n              };\n              sendTest();\n              return;\n            } catch (e) {\n              (0, _util.info)(\"The worker has been disabled.\");\n            }\n          }\n          this._setupFakeWorker();\n        }\n        _setupFakeWorker() {\n          if (!PDFWorkerUtil.isWorkerDisabled) {\n            (0, _util.warn)(\"Setting up fake worker.\");\n            PDFWorkerUtil.isWorkerDisabled = true;\n          }\n          PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n              return;\n            }\n            const port = new LoopbackPort();\n            this._port = port;\n            const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n            const workerHandler = new _message_handler.MessageHandler(id + \"_worker\", id, port);\n            WorkerMessageHandler.setup(workerHandler, port);\n            const messageHandler = new _message_handler.MessageHandler(id, id + \"_worker\", port);\n            this._messageHandler = messageHandler;\n            this._readyCapability.resolve();\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          }).catch(reason => {\n            this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n          });\n        }\n        destroy() {\n          this.destroyed = true;\n          if (this._webWorker) {\n            this._webWorker.terminate();\n            this._webWorker = null;\n          }\n          PDFWorker._workerPorts.delete(this._port);\n          this._port = null;\n          if (this._messageHandler) {\n            this._messageHandler.destroy();\n            this._messageHandler = null;\n          }\n        }\n        static fromPort(params) {\n          if (!params?.port) {\n            throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n          }\n          if (this._workerPorts.has(params.port)) {\n            return this._workerPorts.get(params.port);\n          }\n          return new PDFWorker(params);\n        }\n        static get workerSrc() {\n          if (_worker_options.GlobalWorkerOptions.workerSrc) {\n            return _worker_options.GlobalWorkerOptions.workerSrc;\n          }\n          if (PDFWorkerUtil.fallbackWorkerSrc !== null) {\n            if (!_is_node.isNodeJS) {\n              (0, _display_utils.deprecated)('No \"GlobalWorkerOptions.workerSrc\" specified.');\n            }\n            return PDFWorkerUtil.fallbackWorkerSrc;\n          }\n          throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n        }\n        static get _mainThreadWorkerMessageHandler() {\n          try {\n            return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n          } catch (ex) {\n            return null;\n          }\n        }\n        static get _setupFakeWorkerGlobal() {\n          const loader = async () => {\n            const mainWorkerMessageHandler = this._mainThreadWorkerMessageHandler;\n            if (mainWorkerMessageHandler) {\n              return mainWorkerMessageHandler;\n            }\n            if (_is_node.isNodeJS && typeof require === \"function\") {\n              const worker = eval(\"require\")(this.workerSrc);\n              return worker.WorkerMessageHandler;\n            }\n            await (0, _display_utils.loadScript)(this.workerSrc);\n            return window.pdfjsWorker.WorkerMessageHandler;\n          };\n          return (0, _util.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n        }\n      }\n      exports.PDFWorker = PDFWorker;\n      {\n        PDFWorker.getWorkerSrc = function () {\n          (0, _display_utils.deprecated)(\"`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.\");\n          return this.workerSrc;\n        };\n      }\n      class WorkerTransport {\n        constructor(messageHandler, loadingTask, networkStream, params) {\n          this.messageHandler = messageHandler;\n          this.loadingTask = loadingTask;\n          this.commonObjs = new PDFObjects();\n          this.fontLoader = new _font_loader.FontLoader({\n            docId: loadingTask.docId,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            ownerDocument: params.ownerDocument,\n            styleElement: params.styleElement\n          });\n          this._params = params;\n          if (!params.useWorkerFetch) {\n            this.CMapReaderFactory = new params.CMapReaderFactory({\n              baseUrl: params.cMapUrl,\n              isCompressed: params.cMapPacked\n            });\n            this.StandardFontDataFactory = new params.StandardFontDataFactory({\n              baseUrl: params.standardFontDataUrl\n            });\n          }\n          this.destroyed = false;\n          this.destroyCapability = null;\n          this._passwordCapability = null;\n          this._networkStream = networkStream;\n          this._fullReader = null;\n          this._lastProgress = null;\n          this.pageCache = [];\n          this.pagePromises = [];\n          this.downloadInfoCapability = (0, _util.createPromiseCapability)();\n          this.setupMessageHandler();\n        }\n        get annotationStorage() {\n          return (0, _util.shadow)(this, \"annotationStorage\", new _annotation_storage.AnnotationStorage());\n        }\n        getRenderingIntent(intent, annotationMode = _util.AnnotationMode.ENABLE, isOpList = false) {\n          let renderingIntent = _util.RenderingIntentFlag.DISPLAY;\n          let lastModified = \"\";\n          switch (intent) {\n            case \"any\":\n              renderingIntent = _util.RenderingIntentFlag.ANY;\n              break;\n            case \"display\":\n              break;\n            case \"print\":\n              renderingIntent = _util.RenderingIntentFlag.PRINT;\n              break;\n            default:\n              (0, _util.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n          }\n          switch (annotationMode) {\n            case _util.AnnotationMode.DISABLE:\n              renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n              break;\n            case _util.AnnotationMode.ENABLE:\n              break;\n            case _util.AnnotationMode.ENABLE_FORMS:\n              renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_FORMS;\n              break;\n            case _util.AnnotationMode.ENABLE_STORAGE:\n              renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n              lastModified = this.annotationStorage.lastModified;\n              break;\n            default:\n              (0, _util.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n          }\n          if (isOpList) {\n            renderingIntent += _util.RenderingIntentFlag.OPLIST;\n          }\n          return {\n            renderingIntent,\n            cacheKey: `${renderingIntent}_${lastModified}`\n          };\n        }\n        destroy() {\n          if (this.destroyCapability) {\n            return this.destroyCapability.promise;\n          }\n          this.destroyed = true;\n          this.destroyCapability = (0, _util.createPromiseCapability)();\n          if (this._passwordCapability) {\n            this._passwordCapability.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n          }\n          const waitOn = [];\n          for (const page of this.pageCache) {\n            if (page) {\n              waitOn.push(page._destroy());\n            }\n          }\n          this.pageCache.length = 0;\n          this.pagePromises.length = 0;\n          if (this.hasOwnProperty(\"annotationStorage\")) {\n            this.annotationStorage.resetModified();\n          }\n          const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n          waitOn.push(terminated);\n          Promise.all(waitOn).then(() => {\n            this.commonObjs.clear();\n            this.fontLoader.clear();\n            this._getFieldObjectsPromise = null;\n            this._hasJSActionsPromise = null;\n            if (this._networkStream) {\n              this._networkStream.cancelAllRequests(new _util.AbortException(\"Worker was terminated.\"));\n            }\n            if (this.messageHandler) {\n              this.messageHandler.destroy();\n              this.messageHandler = null;\n            }\n            this.destroyCapability.resolve();\n          }, this.destroyCapability.reject);\n          return this.destroyCapability.promise;\n        }\n        setupMessageHandler() {\n          const {\n            messageHandler,\n            loadingTask\n          } = this;\n          messageHandler.on(\"GetReader\", (data, sink) => {\n            (0, _util.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n            this._fullReader = this._networkStream.getFullReader();\n            this._fullReader.onProgress = evt => {\n              this._lastProgress = {\n                loaded: evt.loaded,\n                total: evt.total\n              };\n            };\n            sink.onPull = () => {\n              this._fullReader.read().then(function ({\n                value,\n                done\n              }) {\n                if (done) {\n                  sink.close();\n                  return;\n                }\n                (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetReader - expected an ArrayBuffer.\");\n                sink.enqueue(new Uint8Array(value), 1, [value]);\n              }).catch(reason => {\n                sink.error(reason);\n              });\n            };\n            sink.onCancel = reason => {\n              this._fullReader.cancel(reason);\n              sink.ready.catch(readyReason => {\n                if (this.destroyed) {\n                  return;\n                }\n                throw readyReason;\n              });\n            };\n          });\n          messageHandler.on(\"ReaderHeadersReady\", data => {\n            const headersCapability = (0, _util.createPromiseCapability)();\n            const fullReader = this._fullReader;\n            fullReader.headersReady.then(() => {\n              if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n                if (this._lastProgress && loadingTask.onProgress) {\n                  loadingTask.onProgress(this._lastProgress);\n                }\n                fullReader.onProgress = evt => {\n                  if (loadingTask.onProgress) {\n                    loadingTask.onProgress({\n                      loaded: evt.loaded,\n                      total: evt.total\n                    });\n                  }\n                };\n              }\n              headersCapability.resolve({\n                isStreamingSupported: fullReader.isStreamingSupported,\n                isRangeSupported: fullReader.isRangeSupported,\n                contentLength: fullReader.contentLength\n              });\n            }, headersCapability.reject);\n            return headersCapability.promise;\n          });\n          messageHandler.on(\"GetRangeReader\", (data, sink) => {\n            (0, _util.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n            const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n            if (!rangeReader) {\n              sink.close();\n              return;\n            }\n            sink.onPull = () => {\n              rangeReader.read().then(function ({\n                value,\n                done\n              }) {\n                if (done) {\n                  sink.close();\n                  return;\n                }\n                (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetRangeReader - expected an ArrayBuffer.\");\n                sink.enqueue(new Uint8Array(value), 1, [value]);\n              }).catch(reason => {\n                sink.error(reason);\n              });\n            };\n            sink.onCancel = reason => {\n              rangeReader.cancel(reason);\n              sink.ready.catch(readyReason => {\n                if (this.destroyed) {\n                  return;\n                }\n                throw readyReason;\n              });\n            };\n          });\n          messageHandler.on(\"GetDoc\", ({\n            pdfInfo\n          }) => {\n            this._numPages = pdfInfo.numPages;\n            this._htmlForXfa = pdfInfo.htmlForXfa;\n            delete pdfInfo.htmlForXfa;\n            loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n          });\n          messageHandler.on(\"DocException\", function (ex) {\n            let reason;\n            switch (ex.name) {\n              case \"PasswordException\":\n                reason = new _util.PasswordException(ex.message, ex.code);\n                break;\n              case \"InvalidPDFException\":\n                reason = new _util.InvalidPDFException(ex.message);\n                break;\n              case \"MissingPDFException\":\n                reason = new _util.MissingPDFException(ex.message);\n                break;\n              case \"UnexpectedResponseException\":\n                reason = new _util.UnexpectedResponseException(ex.message, ex.status);\n                break;\n              case \"UnknownErrorException\":\n                reason = new _util.UnknownErrorException(ex.message, ex.details);\n                break;\n              default:\n                (0, _util.unreachable)(\"DocException - expected a valid Error.\");\n            }\n            loadingTask._capability.reject(reason);\n          });\n          messageHandler.on(\"PasswordRequest\", exception => {\n            this._passwordCapability = (0, _util.createPromiseCapability)();\n            if (loadingTask.onPassword) {\n              const updatePassword = password => {\n                this._passwordCapability.resolve({\n                  password\n                });\n              };\n              try {\n                loadingTask.onPassword(updatePassword, exception.code);\n              } catch (ex) {\n                this._passwordCapability.reject(ex);\n              }\n            } else {\n              this._passwordCapability.reject(new _util.PasswordException(exception.message, exception.code));\n            }\n            return this._passwordCapability.promise;\n          });\n          messageHandler.on(\"DataLoaded\", data => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: data.length,\n                total: data.length\n              });\n            }\n            this.downloadInfoCapability.resolve(data);\n          });\n          messageHandler.on(\"StartRenderPage\", data => {\n            if (this.destroyed) {\n              return;\n            }\n            const page = this.pageCache[data.pageIndex];\n            page._startRenderPage(data.transparency, data.cacheKey);\n          });\n          messageHandler.on(\"commonobj\", data => {\n            if (this.destroyed) {\n              return;\n            }\n            const [id, type, exportedData] = data;\n            if (this.commonObjs.has(id)) {\n              return;\n            }\n            switch (type) {\n              case \"Font\":\n                const params = this._params;\n                if (\"error\" in exportedData) {\n                  const exportedError = exportedData.error;\n                  (0, _util.warn)(`Error during font loading: ${exportedError}`);\n                  this.commonObjs.resolve(id, exportedError);\n                  break;\n                }\n                let fontRegistry = null;\n                if (params.pdfBug && globalThis.FontInspector?.enabled) {\n                  fontRegistry = {\n                    registerFont(font, url) {\n                      globalThis.FontInspector.fontAdded(font, url);\n                    }\n                  };\n                }\n                const font = new _font_loader.FontFaceObject(exportedData, {\n                  isEvalSupported: params.isEvalSupported,\n                  disableFontFace: params.disableFontFace,\n                  ignoreErrors: params.ignoreErrors,\n                  onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n                  fontRegistry\n                });\n                this.fontLoader.bind(font).catch(reason => {\n                  return messageHandler.sendWithPromise(\"FontFallback\", {\n                    id\n                  });\n                }).finally(() => {\n                  if (!params.fontExtraProperties && font.data) {\n                    font.data = null;\n                  }\n                  this.commonObjs.resolve(id, font);\n                });\n                break;\n              case \"FontPath\":\n              case \"Image\":\n                this.commonObjs.resolve(id, exportedData);\n                break;\n              default:\n                throw new Error(`Got unknown common object type ${type}`);\n            }\n          });\n          messageHandler.on(\"obj\", data => {\n            if (this.destroyed) {\n              return undefined;\n            }\n            const [id, pageIndex, type, imageData] = data;\n            const pageProxy = this.pageCache[pageIndex];\n            if (pageProxy.objs.has(id)) {\n              return undefined;\n            }\n            switch (type) {\n              case \"Image\":\n                pageProxy.objs.resolve(id, imageData);\n                const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n                if (imageData?.data?.length > MAX_IMAGE_SIZE_TO_STORE) {\n                  pageProxy.cleanupAfterRender = true;\n                }\n                break;\n              case \"Pattern\":\n                pageProxy.objs.resolve(id, imageData);\n                break;\n              default:\n                throw new Error(`Got unknown object type ${type}`);\n            }\n            return undefined;\n          });\n          messageHandler.on(\"DocProgress\", data => {\n            if (this.destroyed) {\n              return;\n            }\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: data.loaded,\n                total: data.total\n              });\n            }\n          });\n          messageHandler.on(\"UnsupportedFeature\", this._onUnsupportedFeature.bind(this));\n          messageHandler.on(\"FetchBuiltInCMap\", data => {\n            if (this.destroyed) {\n              return Promise.reject(new Error(\"Worker was destroyed.\"));\n            }\n            if (!this.CMapReaderFactory) {\n              return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n            }\n            return this.CMapReaderFactory.fetch(data);\n          });\n          messageHandler.on(\"FetchStandardFontData\", data => {\n            if (this.destroyed) {\n              return Promise.reject(new Error(\"Worker was destroyed.\"));\n            }\n            if (!this.StandardFontDataFactory) {\n              return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n            }\n            return this.StandardFontDataFactory.fetch(data);\n          });\n        }\n        _onUnsupportedFeature({\n          featureId\n        }) {\n          if (this.destroyed) {\n            return;\n          }\n          if (this.loadingTask.onUnsupportedFeature) {\n            this.loadingTask.onUnsupportedFeature(featureId);\n          }\n        }\n        getData() {\n          return this.messageHandler.sendWithPromise(\"GetData\", null);\n        }\n        getPage(pageNumber) {\n          if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n            return Promise.reject(new Error(\"Invalid page request\"));\n          }\n          const pageIndex = pageNumber - 1;\n          if (pageIndex in this.pagePromises) {\n            return this.pagePromises[pageIndex];\n          }\n          const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n            pageIndex\n          }).then(pageInfo => {\n            if (this.destroyed) {\n              throw new Error(\"Transport destroyed\");\n            }\n            const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.ownerDocument, this._params.pdfBug);\n            this.pageCache[pageIndex] = page;\n            return page;\n          });\n          this.pagePromises[pageIndex] = promise;\n          return promise;\n        }\n        getPageIndex(ref) {\n          return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n            ref\n          });\n        }\n        getAnnotations(pageIndex, intent) {\n          return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n            pageIndex,\n            intent\n          });\n        }\n        saveDocument() {\n          return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n            isPureXfa: !!this._htmlForXfa,\n            numPages: this._numPages,\n            annotationStorage: this.annotationStorage.serializable,\n            filename: this._fullReader?.filename ?? null\n          }).finally(() => {\n            this.annotationStorage.resetModified();\n          });\n        }\n        getFieldObjects() {\n          return this._getFieldObjectsPromise ||= this.messageHandler.sendWithPromise(\"GetFieldObjects\", null);\n        }\n        hasJSActions() {\n          return this._hasJSActionsPromise ||= this.messageHandler.sendWithPromise(\"HasJSActions\", null);\n        }\n        getCalculationOrderIds() {\n          return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n        }\n        getDestinations() {\n          return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n        }\n        getDestination(id) {\n          if (typeof id !== \"string\") {\n            return Promise.reject(new Error(\"Invalid destination request.\"));\n          }\n          return this.messageHandler.sendWithPromise(\"GetDestination\", {\n            id\n          });\n        }\n        getPageLabels() {\n          return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n        }\n        getPageLayout() {\n          return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n        }\n        getPageMode() {\n          return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n        }\n        getViewerPreferences() {\n          return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n        }\n        getOpenAction() {\n          return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n        }\n        getAttachments() {\n          return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n        }\n        getJavaScript() {\n          return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n        }\n        getDocJSActions() {\n          return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n        }\n        getPageJSActions(pageIndex) {\n          return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n            pageIndex\n          });\n        }\n        getStructTree(pageIndex) {\n          return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n            pageIndex\n          });\n        }\n        getOutline() {\n          return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n        }\n        getOptionalContentConfig() {\n          return this.messageHandler.sendWithPromise(\"GetOptionalContentConfig\", null).then(results => {\n            return new _optional_content_config.OptionalContentConfig(results);\n          });\n        }\n        getPermissions() {\n          return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n        }\n        getMetadata() {\n          return this.messageHandler.sendWithPromise(\"GetMetadata\", null).then(results => {\n            return {\n              info: results[0],\n              metadata: results[1] ? new _metadata.Metadata(results[1]) : null,\n              contentDispositionFilename: this._fullReader?.filename ?? null,\n              contentLength: this._fullReader?.contentLength ?? null\n            };\n          });\n        }\n        getMarkInfo() {\n          return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n        }\n        getStats() {\n          return this.messageHandler.sendWithPromise(\"GetStats\", null);\n        }\n        async startCleanup(keepLoadedFonts = false) {\n          await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n          if (this.destroyed) {\n            return;\n          }\n          for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n            const page = this.pageCache[i];\n            if (!page) {\n              continue;\n            }\n            const cleanupSuccessful = page.cleanup();\n            if (!cleanupSuccessful) {\n              throw new Error(`startCleanup: Page ${i + 1} is currently rendering.`);\n            }\n          }\n          this.commonObjs.clear();\n          if (!keepLoadedFonts) {\n            this.fontLoader.clear();\n          }\n          this._getFieldObjectsPromise = null;\n          this._hasJSActionsPromise = null;\n        }\n        get loadingParams() {\n          const params = this._params;\n          return (0, _util.shadow)(this, \"loadingParams\", {\n            disableAutoFetch: params.disableAutoFetch,\n            enableXfa: params.enableXfa\n          });\n        }\n      }\n      class PDFObjects {\n        constructor() {\n          this._objs = Object.create(null);\n        }\n        _ensureObj(objId) {\n          if (this._objs[objId]) {\n            return this._objs[objId];\n          }\n          return this._objs[objId] = {\n            capability: (0, _util.createPromiseCapability)(),\n            data: null,\n            resolved: false\n          };\n        }\n        get(objId, callback = null) {\n          if (callback) {\n            this._ensureObj(objId).capability.promise.then(callback);\n            return null;\n          }\n          const obj = this._objs[objId];\n          if (!obj || !obj.resolved) {\n            throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n          }\n          return obj.data;\n        }\n        has(objId) {\n          const obj = this._objs[objId];\n          return obj?.resolved || false;\n        }\n        resolve(objId, data) {\n          const obj = this._ensureObj(objId);\n          obj.resolved = true;\n          obj.data = data;\n          obj.capability.resolve(data);\n        }\n        clear() {\n          this._objs = Object.create(null);\n        }\n      }\n      class RenderTask {\n        constructor(internalRenderTask) {\n          this._internalRenderTask = internalRenderTask;\n          this.onContinue = null;\n        }\n        get promise() {\n          return this._internalRenderTask.capability.promise;\n        }\n        cancel() {\n          this._internalRenderTask.cancel();\n        }\n      }\n      exports.RenderTask = RenderTask;\n      class InternalRenderTask {\n        static get canvasInUse() {\n          return (0, _util.shadow)(this, \"canvasInUse\", new WeakSet());\n        }\n        constructor({\n          callback,\n          params,\n          objs,\n          commonObjs,\n          operatorList,\n          pageIndex,\n          canvasFactory,\n          useRequestAnimationFrame = false,\n          pdfBug = false\n        }) {\n          this.callback = callback;\n          this.params = params;\n          this.objs = objs;\n          this.commonObjs = commonObjs;\n          this.operatorListIdx = null;\n          this.operatorList = operatorList;\n          this._pageIndex = pageIndex;\n          this.canvasFactory = canvasFactory;\n          this._pdfBug = pdfBug;\n          this.running = false;\n          this.graphicsReadyCallback = null;\n          this.graphicsReady = false;\n          this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n          this.cancelled = false;\n          this.capability = (0, _util.createPromiseCapability)();\n          this.task = new RenderTask(this);\n          this._cancelBound = this.cancel.bind(this);\n          this._continueBound = this._continue.bind(this);\n          this._scheduleNextBound = this._scheduleNext.bind(this);\n          this._nextBound = this._next.bind(this);\n          this._canvas = params.canvasContext.canvas;\n        }\n        get completed() {\n          return this.capability.promise.catch(function () {});\n        }\n        initializeGraphics({\n          transparency = false,\n          optionalContentConfig\n        }) {\n          if (this.cancelled) {\n            return;\n          }\n          if (this._canvas) {\n            if (InternalRenderTask.canvasInUse.has(this._canvas)) {\n              throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n            }\n            InternalRenderTask.canvasInUse.add(this._canvas);\n          }\n          if (this._pdfBug && globalThis.StepperManager?.enabled) {\n            this.stepper = globalThis.StepperManager.create(this._pageIndex);\n            this.stepper.init(this.operatorList);\n            this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n          }\n          const {\n            canvasContext,\n            viewport,\n            transform,\n            imageLayer,\n            background\n          } = this.params;\n          this.gfx = new _canvas.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, imageLayer, optionalContentConfig);\n          this.gfx.beginDrawing({\n            transform,\n            viewport,\n            transparency,\n            background\n          });\n          this.operatorListIdx = 0;\n          this.graphicsReady = true;\n          if (this.graphicsReadyCallback) {\n            this.graphicsReadyCallback();\n          }\n        }\n        cancel(error = null) {\n          this.running = false;\n          this.cancelled = true;\n          if (this.gfx) {\n            this.gfx.endDrawing();\n          }\n          if (this._canvas) {\n            InternalRenderTask.canvasInUse.delete(this._canvas);\n          }\n          this.callback(error || new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, \"canvas\"));\n        }\n        operatorListChanged() {\n          if (!this.graphicsReady) {\n            if (!this.graphicsReadyCallback) {\n              this.graphicsReadyCallback = this._continueBound;\n            }\n            return;\n          }\n          if (this.stepper) {\n            this.stepper.updateOperatorList(this.operatorList);\n          }\n          if (this.running) {\n            return;\n          }\n          this._continue();\n        }\n        _continue() {\n          this.running = true;\n          if (this.cancelled) {\n            return;\n          }\n          if (this.task.onContinue) {\n            this.task.onContinue(this._scheduleNextBound);\n          } else {\n            this._scheduleNext();\n          }\n        }\n        _scheduleNext() {\n          if (this._useRequestAnimationFrame) {\n            window.requestAnimationFrame(() => {\n              this._nextBound().catch(this._cancelBound);\n            });\n          } else {\n            Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n          }\n        }\n        async _next() {\n          if (this.cancelled) {\n            return;\n          }\n          this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n          if (this.operatorListIdx === this.operatorList.argsArray.length) {\n            this.running = false;\n            if (this.operatorList.lastChunk) {\n              this.gfx.endDrawing();\n              if (this._canvas) {\n                InternalRenderTask.canvasInUse.delete(this._canvas);\n              }\n              this.callback();\n            }\n          }\n        }\n      }\n      const version = '2.11.338';\n      exports.version = version;\n      const build = 'dedff3c98';\n      exports.build = build;\n\n      /***/\n    }), (/* 7 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontLoader = exports.FontFaceObject = void 0;\n      var _util = __w_pdfjs_require__(2);\n      class BaseFontLoader {\n        constructor({\n          docId,\n          onUnsupportedFeature,\n          ownerDocument = globalThis.document,\n          styleElement = null\n        }) {\n          if (this.constructor === BaseFontLoader) {\n            (0, _util.unreachable)(\"Cannot initialize BaseFontLoader.\");\n          }\n          this.docId = docId;\n          this._onUnsupportedFeature = onUnsupportedFeature;\n          this._document = ownerDocument;\n          this.nativeFontFaces = [];\n          this.styleElement = null;\n        }\n        addNativeFontFace(nativeFontFace) {\n          this.nativeFontFaces.push(nativeFontFace);\n          this._document.fonts.add(nativeFontFace);\n        }\n        insertRule(rule) {\n          let styleElement = this.styleElement;\n          if (!styleElement) {\n            styleElement = this.styleElement = this._document.createElement(\"style\");\n            styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n            this._document.documentElement.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n          }\n          const styleSheet = styleElement.sheet;\n          styleSheet.insertRule(rule, styleSheet.cssRules.length);\n        }\n        clear() {\n          for (const nativeFontFace of this.nativeFontFaces) {\n            this._document.fonts.delete(nativeFontFace);\n          }\n          this.nativeFontFaces.length = 0;\n          if (this.styleElement) {\n            this.styleElement.remove();\n            this.styleElement = null;\n          }\n        }\n        async bind(font) {\n          if (font.attached || font.missingFile) {\n            return;\n          }\n          font.attached = true;\n          if (this.isFontLoadingAPISupported) {\n            const nativeFontFace = font.createNativeFontFace();\n            if (nativeFontFace) {\n              this.addNativeFontFace(nativeFontFace);\n              try {\n                await nativeFontFace.loaded;\n              } catch (ex) {\n                this._onUnsupportedFeature({\n                  featureId: _util.UNSUPPORTED_FEATURES.errorFontLoadNative\n                });\n                (0, _util.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n                font.disableFontFace = true;\n                throw ex;\n              }\n            }\n            return;\n          }\n          const rule = font.createFontFaceRule();\n          if (rule) {\n            this.insertRule(rule);\n            if (this.isSyncFontLoadingSupported) {\n              return;\n            }\n            await new Promise(resolve => {\n              const request = this._queueLoadingCallback(resolve);\n              this._prepareFontLoadEvent([rule], [font], request);\n            });\n          }\n        }\n        _queueLoadingCallback(callback) {\n          (0, _util.unreachable)(\"Abstract method `_queueLoadingCallback`.\");\n        }\n        get isFontLoadingAPISupported() {\n          const hasFonts = !!this._document?.fonts;\n          return (0, _util.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n        }\n        get isSyncFontLoadingSupported() {\n          (0, _util.unreachable)(\"Abstract method `isSyncFontLoadingSupported`.\");\n        }\n        get _loadTestFont() {\n          (0, _util.unreachable)(\"Abstract method `_loadTestFont`.\");\n        }\n        _prepareFontLoadEvent(rules, fontsToLoad, request) {\n          (0, _util.unreachable)(\"Abstract method `_prepareFontLoadEvent`.\");\n        }\n      }\n      let FontLoader;\n      exports.FontLoader = FontLoader;\n      {\n        exports.FontLoader = FontLoader = class GenericFontLoader extends BaseFontLoader {\n          constructor(params) {\n            super(params);\n            this.loadingContext = {\n              requests: [],\n              nextRequestId: 0\n            };\n            this.loadTestFontId = 0;\n          }\n          get isSyncFontLoadingSupported() {\n            let supported = false;\n            if (typeof navigator === \"undefined\") {\n              supported = true;\n            } else {\n              const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n              if (m?.[1] >= 14) {\n                supported = true;\n              }\n            }\n            return (0, _util.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n          }\n          _queueLoadingCallback(callback) {\n            function completeRequest() {\n              (0, _util.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n              request.done = true;\n              while (context.requests.length > 0 && context.requests[0].done) {\n                const otherRequest = context.requests.shift();\n                setTimeout(otherRequest.callback, 0);\n              }\n            }\n            const context = this.loadingContext;\n            const request = {\n              id: `pdfjs-font-loading-${context.nextRequestId++}`,\n              done: false,\n              complete: completeRequest,\n              callback\n            };\n            context.requests.push(request);\n            return request;\n          }\n          get _loadTestFont() {\n            const getLoadTestFont = function () {\n              return atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n            };\n            return (0, _util.shadow)(this, \"_loadTestFont\", getLoadTestFont());\n          }\n          _prepareFontLoadEvent(rules, fonts, request) {\n            function int32(data, offset) {\n              return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n            }\n            function spliceString(s, offset, remove, insert) {\n              const chunk1 = s.substring(0, offset);\n              const chunk2 = s.substring(offset + remove);\n              return chunk1 + insert + chunk2;\n            }\n            let i, ii;\n            const canvas = this._document.createElement(\"canvas\");\n            canvas.width = 1;\n            canvas.height = 1;\n            const ctx = canvas.getContext(\"2d\");\n            let called = 0;\n            function isFontReady(name, callback) {\n              called++;\n              if (called > 30) {\n                (0, _util.warn)(\"Load test font never loaded.\");\n                callback();\n                return;\n              }\n              ctx.font = \"30px \" + name;\n              ctx.fillText(\".\", 0, 20);\n              const imageData = ctx.getImageData(0, 0, 1, 1);\n              if (imageData.data[3] > 0) {\n                callback();\n                return;\n              }\n              setTimeout(isFontReady.bind(null, name, callback));\n            }\n            const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n            let data = this._loadTestFont;\n            const COMMENT_OFFSET = 976;\n            data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n            const CFF_CHECKSUM_OFFSET = 16;\n            const XXXX_VALUE = 0x58585858;\n            let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n            for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n              checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n            }\n            if (i < loadTestFontId.length) {\n              checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n            }\n            data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0, _util.string32)(checksum));\n            const url = `url(data:font/opentype;base64,${btoa(data)});`;\n            const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n            this.insertRule(rule);\n            const names = [];\n            for (const font of fonts) {\n              names.push(font.loadedName);\n            }\n            names.push(loadTestFontId);\n            const div = this._document.createElement(\"div\");\n            div.style.visibility = \"hidden\";\n            div.style.width = div.style.height = \"10px\";\n            div.style.position = \"absolute\";\n            div.style.top = div.style.left = \"0px\";\n            for (const name of names) {\n              const span = this._document.createElement(\"span\");\n              span.textContent = \"Hi\";\n              span.style.fontFamily = name;\n              div.appendChild(span);\n            }\n            this._document.body.appendChild(div);\n            isFontReady(loadTestFontId, () => {\n              this._document.body.removeChild(div);\n              request.complete();\n            });\n          }\n        };\n      }\n      class FontFaceObject {\n        constructor(translatedData, {\n          isEvalSupported = true,\n          disableFontFace = false,\n          ignoreErrors = false,\n          onUnsupportedFeature,\n          fontRegistry = null\n        }) {\n          this.compiledGlyphs = Object.create(null);\n          for (const i in translatedData) {\n            this[i] = translatedData[i];\n          }\n          this.isEvalSupported = isEvalSupported !== false;\n          this.disableFontFace = disableFontFace === true;\n          this.ignoreErrors = ignoreErrors === true;\n          this._onUnsupportedFeature = onUnsupportedFeature;\n          this.fontRegistry = fontRegistry;\n        }\n        createNativeFontFace() {\n          if (!this.data || this.disableFontFace) {\n            return null;\n          }\n          let nativeFontFace;\n          if (!this.cssFontInfo) {\n            nativeFontFace = new FontFace(this.loadedName, this.data, {});\n          } else {\n            const css = {\n              weight: this.cssFontInfo.fontWeight\n            };\n            if (this.cssFontInfo.italicAngle) {\n              css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n            }\n            nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n          }\n          if (this.fontRegistry) {\n            this.fontRegistry.registerFont(this);\n          }\n          return nativeFontFace;\n        }\n        createFontFaceRule() {\n          if (!this.data || this.disableFontFace) {\n            return null;\n          }\n          const data = (0, _util.bytesToString)(this.data);\n          const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n          let rule;\n          if (!this.cssFontInfo) {\n            rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n          } else {\n            let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n            if (this.cssFontInfo.italicAngle) {\n              css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n            }\n            rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n          }\n          if (this.fontRegistry) {\n            this.fontRegistry.registerFont(this, url);\n          }\n          return rule;\n        }\n        getPathGenerator(objs, character) {\n          if (this.compiledGlyphs[character] !== undefined) {\n            return this.compiledGlyphs[character];\n          }\n          let cmds;\n          try {\n            cmds = objs.get(this.loadedName + \"_path_\" + character);\n          } catch (ex) {\n            if (!this.ignoreErrors) {\n              throw ex;\n            }\n            this._onUnsupportedFeature({\n              featureId: _util.UNSUPPORTED_FEATURES.errorFontGetPath\n            });\n            (0, _util.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n            return this.compiledGlyphs[character] = function (c, size) {};\n          }\n          if (this.isEvalSupported && _util.IsEvalSupportedCached.value) {\n            const jsBuf = [];\n            for (const current of cmds) {\n              const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n              jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n            }\n            return this.compiledGlyphs[character] = new Function(\"c\", \"size\", jsBuf.join(\"\"));\n          }\n          return this.compiledGlyphs[character] = function (c, size) {\n            for (const current of cmds) {\n              if (current.cmd === \"scale\") {\n                current.args = [size, -size];\n              }\n              c[current.cmd].apply(c, current.args);\n            }\n          };\n        }\n      }\n      exports.FontFaceObject = FontFaceObject;\n\n      /***/\n    }), (/* 8 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.NodeStandardFontDataFactory = exports.NodeCMapReaderFactory = exports.NodeCanvasFactory = void 0;\n      var _base_factory = __w_pdfjs_require__(5);\n      var _is_node = __w_pdfjs_require__(4);\n      var _util = __w_pdfjs_require__(2);\n      let NodeCanvasFactory = class {\n        constructor() {\n          (0, _util.unreachable)(\"Not implemented: NodeCanvasFactory\");\n        }\n      };\n      exports.NodeCanvasFactory = NodeCanvasFactory;\n      let NodeCMapReaderFactory = class {\n        constructor() {\n          (0, _util.unreachable)(\"Not implemented: NodeCMapReaderFactory\");\n        }\n      };\n      exports.NodeCMapReaderFactory = NodeCMapReaderFactory;\n      let NodeStandardFontDataFactory = class {\n        constructor() {\n          (0, _util.unreachable)(\"Not implemented: NodeStandardFontDataFactory\");\n        }\n      };\n      exports.NodeStandardFontDataFactory = NodeStandardFontDataFactory;\n      if (_is_node.isNodeJS) {\n        const fetchData = function (url) {\n          return new Promise((resolve, reject) => {\n            const fs = require(\"fs\");\n            fs.readFile(url, (error, data) => {\n              if (error || !data) {\n                reject(new Error(error));\n                return;\n              }\n              resolve(new Uint8Array(data));\n            });\n          });\n        };\n        exports.NodeCanvasFactory = NodeCanvasFactory = class extends _base_factory.BaseCanvasFactory {\n          _createCanvas(width, height) {\n            const Canvas = require(\"canvas\");\n            return Canvas.createCanvas(width, height);\n          }\n        };\n        exports.NodeCMapReaderFactory = NodeCMapReaderFactory = class extends _base_factory.BaseCMapReaderFactory {\n          _fetchData(url, compressionType) {\n            return fetchData(url).then(data => {\n              return {\n                cMapData: data,\n                compressionType\n              };\n            });\n          }\n        };\n        exports.NodeStandardFontDataFactory = NodeStandardFontDataFactory = class extends _base_factory.BaseStandardFontDataFactory {\n          _fetchData(url) {\n            return fetchData(url);\n          }\n        };\n      }\n\n      /***/\n    }), (/* 9 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AnnotationStorage = void 0;\n      var _util = __w_pdfjs_require__(2);\n      class AnnotationStorage {\n        constructor() {\n          this._storage = new Map();\n          this._timeStamp = Date.now();\n          this._modified = false;\n          this.onSetModified = null;\n          this.onResetModified = null;\n        }\n        getValue(key, defaultValue) {\n          const value = this._storage.get(key);\n          if (value === undefined) {\n            return defaultValue;\n          }\n          return Object.assign(defaultValue, value);\n        }\n        setValue(key, value) {\n          const obj = this._storage.get(key);\n          let modified = false;\n          if (obj !== undefined) {\n            for (const [entry, val] of Object.entries(value)) {\n              if (obj[entry] !== val) {\n                modified = true;\n                obj[entry] = val;\n              }\n            }\n          } else {\n            modified = true;\n            this._storage.set(key, value);\n          }\n          if (modified) {\n            this._timeStamp = Date.now();\n            this._setModified();\n          }\n        }\n        getAll() {\n          return this._storage.size > 0 ? (0, _util.objectFromMap)(this._storage) : null;\n        }\n        get size() {\n          return this._storage.size;\n        }\n        _setModified() {\n          if (!this._modified) {\n            this._modified = true;\n            if (typeof this.onSetModified === \"function\") {\n              this.onSetModified();\n            }\n          }\n        }\n        resetModified() {\n          if (this._modified) {\n            this._modified = false;\n            if (typeof this.onResetModified === \"function\") {\n              this.onResetModified();\n            }\n          }\n        }\n        get serializable() {\n          return this._storage.size > 0 ? this._storage : null;\n        }\n        get lastModified() {\n          return this._timeStamp.toString();\n        }\n      }\n      exports.AnnotationStorage = AnnotationStorage;\n\n      /***/\n    }), (/* 10 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CanvasGraphics = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _pattern_helper = __w_pdfjs_require__(11);\n      var _display_utils = __w_pdfjs_require__(1);\n      const MIN_FONT_SIZE = 16;\n      const MAX_FONT_SIZE = 100;\n      const MAX_GROUP_SIZE = 4096;\n      const MAX_CACHED_CANVAS_PATTERNS = 2;\n      const EXECUTION_TIME = 15;\n      const EXECUTION_STEPS = 10;\n      const COMPILE_TYPE3_GLYPHS = true;\n      const MAX_SIZE_TO_COMPILE = 1000;\n      const FULL_CHUNK_HEIGHT = 16;\n      const LINEWIDTH_SCALE_FACTOR = 1.000001;\n      function addContextCurrentTransform(ctx) {\n        if (ctx.mozCurrentTransform) {\n          return;\n        }\n        ctx._originalSave = ctx.save;\n        ctx._originalRestore = ctx.restore;\n        ctx._originalRotate = ctx.rotate;\n        ctx._originalScale = ctx.scale;\n        ctx._originalTranslate = ctx.translate;\n        ctx._originalTransform = ctx.transform;\n        ctx._originalSetTransform = ctx.setTransform;\n        ctx._originalResetTransform = ctx.resetTransform;\n        ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n        ctx._transformStack = [];\n        try {\n          const desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ctx), \"lineWidth\");\n          ctx._setLineWidth = desc.set;\n          ctx._getLineWidth = desc.get;\n          Object.defineProperty(ctx, \"lineWidth\", {\n            set: function setLineWidth(width) {\n              this._setLineWidth(width * LINEWIDTH_SCALE_FACTOR);\n            },\n            get: function getLineWidth() {\n              return this._getLineWidth();\n            }\n          });\n        } catch (_) {}\n        Object.defineProperty(ctx, \"mozCurrentTransform\", {\n          get: function getCurrentTransform() {\n            return this._transformMatrix;\n          }\n        });\n        Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n          get: function getCurrentTransformInverse() {\n            const [a, b, c, d, e, f] = this._transformMatrix;\n            const ad_bc = a * d - b * c;\n            const bc_ad = b * c - a * d;\n            return [d / ad_bc, b / bc_ad, c / bc_ad, a / ad_bc, (d * e - c * f) / bc_ad, (b * e - a * f) / ad_bc];\n          }\n        });\n        ctx.save = function ctxSave() {\n          const old = this._transformMatrix;\n          this._transformStack.push(old);\n          this._transformMatrix = old.slice(0, 6);\n          this._originalSave();\n        };\n        ctx.restore = function ctxRestore() {\n          const prev = this._transformStack.pop();\n          if (prev) {\n            this._transformMatrix = prev;\n            this._originalRestore();\n          }\n        };\n        ctx.translate = function ctxTranslate(x, y) {\n          const m = this._transformMatrix;\n          m[4] = m[0] * x + m[2] * y + m[4];\n          m[5] = m[1] * x + m[3] * y + m[5];\n          this._originalTranslate(x, y);\n        };\n        ctx.scale = function ctxScale(x, y) {\n          const m = this._transformMatrix;\n          m[0] *= x;\n          m[1] *= x;\n          m[2] *= y;\n          m[3] *= y;\n          this._originalScale(x, y);\n        };\n        ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n          const m = this._transformMatrix;\n          this._transformMatrix = [m[0] * a + m[2] * b, m[1] * a + m[3] * b, m[0] * c + m[2] * d, m[1] * c + m[3] * d, m[0] * e + m[2] * f + m[4], m[1] * e + m[3] * f + m[5]];\n          ctx._originalTransform(a, b, c, d, e, f);\n        };\n        ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n          this._transformMatrix = [a, b, c, d, e, f];\n          ctx._originalSetTransform(a, b, c, d, e, f);\n        };\n        ctx.resetTransform = function ctxResetTransform() {\n          this._transformMatrix = [1, 0, 0, 1, 0, 0];\n          ctx._originalResetTransform();\n        };\n        ctx.rotate = function ctxRotate(angle) {\n          const cosValue = Math.cos(angle);\n          const sinValue = Math.sin(angle);\n          const m = this._transformMatrix;\n          this._transformMatrix = [m[0] * cosValue + m[2] * sinValue, m[1] * cosValue + m[3] * sinValue, m[0] * -sinValue + m[2] * cosValue, m[1] * -sinValue + m[3] * cosValue, m[4], m[5]];\n          this._originalRotate(angle);\n        };\n      }\n      class CachedCanvases {\n        constructor(canvasFactory) {\n          this.canvasFactory = canvasFactory;\n          this.cache = Object.create(null);\n        }\n        getCanvas(id, width, height, trackTransform) {\n          let canvasEntry;\n          if (this.cache[id] !== undefined) {\n            canvasEntry = this.cache[id];\n            this.canvasFactory.reset(canvasEntry, width, height);\n            canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n          } else {\n            canvasEntry = this.canvasFactory.create(width, height);\n            this.cache[id] = canvasEntry;\n          }\n          if (trackTransform) {\n            addContextCurrentTransform(canvasEntry.context);\n          }\n          return canvasEntry;\n        }\n        clear() {\n          for (const id in this.cache) {\n            const canvasEntry = this.cache[id];\n            this.canvasFactory.destroy(canvasEntry);\n            delete this.cache[id];\n          }\n        }\n      }\n      class LRUCache {\n        constructor(maxSize = 0) {\n          this._cache = new Map();\n          this._maxSize = maxSize;\n        }\n        has(key) {\n          return this._cache.has(key);\n        }\n        get(key) {\n          if (this._cache.has(key)) {\n            const value = this._cache.get(key);\n            this._cache.delete(key);\n            this._cache.set(key, value);\n          }\n          return this._cache.get(key);\n        }\n        set(key, value) {\n          if (this._maxSize <= 0) {\n            return;\n          }\n          if (this._cache.size + 1 > this._maxSize) {\n            this._cache.delete(this._cache.keys().next().value);\n          }\n          this._cache.set(key, value);\n        }\n        clear() {\n          this._cache.clear();\n        }\n      }\n      function compileType3Glyph(imgData) {\n        const POINT_TO_PROCESS_LIMIT = 1000;\n        const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n        const width = imgData.width,\n          height = imgData.height,\n          width1 = width + 1;\n        let i, ii, j, j0;\n        const points = new Uint8Array(width1 * (height + 1));\n        const lineSize = width + 7 & ~7,\n          data0 = imgData.data;\n        const data = new Uint8Array(lineSize * height);\n        let pos = 0;\n        for (i = 0, ii = data0.length; i < ii; i++) {\n          const elem = data0[i];\n          let mask = 128;\n          while (mask > 0) {\n            data[pos++] = elem & mask ? 0 : 255;\n            mask >>= 1;\n          }\n        }\n        let count = 0;\n        pos = 0;\n        if (data[pos] !== 0) {\n          points[0] = 1;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j] = data[pos] ? 2 : 1;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j] = 2;\n          ++count;\n        }\n        for (i = 1; i < height; i++) {\n          pos = i * lineSize;\n          j0 = i * width1;\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0] = data[pos] ? 1 : 8;\n            ++count;\n          }\n          let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n          for (j = 1; j < width; j++) {\n            sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n            if (POINT_TYPES[sum]) {\n              points[j0 + j] = POINT_TYPES[sum];\n              ++count;\n            }\n            pos++;\n          }\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0 + j] = data[pos] ? 2 : 4;\n            ++count;\n          }\n          if (count > POINT_TO_PROCESS_LIMIT) {\n            return null;\n          }\n        }\n        pos = lineSize * (height - 1);\n        j0 = i * width1;\n        if (data[pos] !== 0) {\n          points[j0] = 8;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j0 + j] = data[pos] ? 4 : 8;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j0 + j] = 4;\n          ++count;\n        }\n        if (count > POINT_TO_PROCESS_LIMIT) {\n          return null;\n        }\n        const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n        const outlines = [];\n        for (i = 0; count && i <= height; i++) {\n          let p = i * width1;\n          const end = p + width;\n          while (p < end && !points[p]) {\n            p++;\n          }\n          if (p === end) {\n            continue;\n          }\n          const coords = [p % width1, i];\n          const p0 = p;\n          let type = points[p];\n          do {\n            const step = steps[type];\n            do {\n              p += step;\n            } while (!points[p]);\n            const pp = points[p];\n            if (pp !== 5 && pp !== 10) {\n              type = pp;\n              points[p] = 0;\n            } else {\n              type = pp & 0x33 * type >> 4;\n              points[p] &= type >> 2 | type << 2;\n            }\n            coords.push(p % width1, p / width1 | 0);\n            if (!points[p]) {\n              --count;\n            }\n          } while (p0 !== p);\n          outlines.push(coords);\n          --i;\n        }\n        const drawOutline = function (c) {\n          c.save();\n          c.scale(1 / width, -1 / height);\n          c.translate(0, -height);\n          c.beginPath();\n          for (let k = 0, kk = outlines.length; k < kk; k++) {\n            const o = outlines[k];\n            c.moveTo(o[0], o[1]);\n            for (let l = 2, ll = o.length; l < ll; l += 2) {\n              c.lineTo(o[l], o[l + 1]);\n            }\n          }\n          c.fill();\n          c.beginPath();\n          c.restore();\n        };\n        return drawOutline;\n      }\n      class CanvasExtraState {\n        constructor() {\n          this.alphaIsShape = false;\n          this.fontSize = 0;\n          this.fontSizeScale = 1;\n          this.textMatrix = _util.IDENTITY_MATRIX;\n          this.textMatrixScale = 1;\n          this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n          this.leading = 0;\n          this.x = 0;\n          this.y = 0;\n          this.lineX = 0;\n          this.lineY = 0;\n          this.charSpacing = 0;\n          this.wordSpacing = 0;\n          this.textHScale = 1;\n          this.textRenderingMode = _util.TextRenderingMode.FILL;\n          this.textRise = 0;\n          this.fillColor = \"#000000\";\n          this.strokeColor = \"#000000\";\n          this.patternFill = false;\n          this.fillAlpha = 1;\n          this.strokeAlpha = 1;\n          this.lineWidth = 1;\n          this.activeSMask = null;\n          this.resumeSMaskCtx = null;\n          this.transferMaps = null;\n        }\n        clone() {\n          return Object.create(this);\n        }\n        setCurrentPoint(x, y) {\n          this.x = x;\n          this.y = y;\n        }\n      }\n      function putBinaryImageData(ctx, imgData, transferMaps = null) {\n        if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n          ctx.putImageData(imgData, 0, 0);\n          return;\n        }\n        const height = imgData.height,\n          width = imgData.width;\n        const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n        const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n        const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n        const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n        let srcPos = 0,\n          destPos;\n        const src = imgData.data;\n        const dest = chunkImgData.data;\n        let i, j, thisChunkHeight, elemsInThisChunk;\n        let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n        if (transferMaps) {\n          switch (transferMaps.length) {\n            case 1:\n              transferMapRed = transferMaps[0];\n              transferMapGreen = transferMaps[0];\n              transferMapBlue = transferMaps[0];\n              transferMapGray = transferMaps[0];\n              break;\n            case 4:\n              transferMapRed = transferMaps[0];\n              transferMapGreen = transferMaps[1];\n              transferMapBlue = transferMaps[2];\n              transferMapGray = transferMaps[3];\n              break;\n          }\n        }\n        if (imgData.kind === _util.ImageKind.GRAYSCALE_1BPP) {\n          const srcLength = src.byteLength;\n          const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n          const dest32DataLength = dest32.length;\n          const fullSrcDiff = width + 7 >> 3;\n          let white = 0xffffffff;\n          let black = _util.IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n          if (transferMapGray) {\n            if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n              [white, black] = [black, white];\n            }\n          }\n          for (i = 0; i < totalChunks; i++) {\n            thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n            destPos = 0;\n            for (j = 0; j < thisChunkHeight; j++) {\n              const srcDiff = srcLength - srcPos;\n              let k = 0;\n              const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n              const kEndUnrolled = kEnd & ~7;\n              let mask = 0;\n              let srcByte = 0;\n              for (; k < kEndUnrolled; k += 8) {\n                srcByte = src[srcPos++];\n                dest32[destPos++] = srcByte & 128 ? white : black;\n                dest32[destPos++] = srcByte & 64 ? white : black;\n                dest32[destPos++] = srcByte & 32 ? white : black;\n                dest32[destPos++] = srcByte & 16 ? white : black;\n                dest32[destPos++] = srcByte & 8 ? white : black;\n                dest32[destPos++] = srcByte & 4 ? white : black;\n                dest32[destPos++] = srcByte & 2 ? white : black;\n                dest32[destPos++] = srcByte & 1 ? white : black;\n              }\n              for (; k < kEnd; k++) {\n                if (mask === 0) {\n                  srcByte = src[srcPos++];\n                  mask = 128;\n                }\n                dest32[destPos++] = srcByte & mask ? white : black;\n                mask >>= 1;\n              }\n            }\n            while (destPos < dest32DataLength) {\n              dest32[destPos++] = 0;\n            }\n            ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n          }\n        } else if (imgData.kind === _util.ImageKind.RGBA_32BPP) {\n          const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n          j = 0;\n          elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n          for (i = 0; i < fullChunks; i++) {\n            dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n            srcPos += elemsInThisChunk;\n            if (hasTransferMaps) {\n              for (let k = 0; k < elemsInThisChunk; k += 4) {\n                if (transferMapRed) {\n                  dest[k + 0] = transferMapRed[dest[k + 0]];\n                }\n                if (transferMapGreen) {\n                  dest[k + 1] = transferMapGreen[dest[k + 1]];\n                }\n                if (transferMapBlue) {\n                  dest[k + 2] = transferMapBlue[dest[k + 2]];\n                }\n              }\n            }\n            ctx.putImageData(chunkImgData, 0, j);\n            j += FULL_CHUNK_HEIGHT;\n          }\n          if (i < totalChunks) {\n            elemsInThisChunk = width * partialChunkHeight * 4;\n            dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n            if (hasTransferMaps) {\n              for (let k = 0; k < elemsInThisChunk; k += 4) {\n                if (transferMapRed) {\n                  dest[k + 0] = transferMapRed[dest[k + 0]];\n                }\n                if (transferMapGreen) {\n                  dest[k + 1] = transferMapGreen[dest[k + 1]];\n                }\n                if (transferMapBlue) {\n                  dest[k + 2] = transferMapBlue[dest[k + 2]];\n                }\n              }\n            }\n            ctx.putImageData(chunkImgData, 0, j);\n          }\n        } else if (imgData.kind === _util.ImageKind.RGB_24BPP) {\n          const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n          thisChunkHeight = FULL_CHUNK_HEIGHT;\n          elemsInThisChunk = width * thisChunkHeight;\n          for (i = 0; i < totalChunks; i++) {\n            if (i >= fullChunks) {\n              thisChunkHeight = partialChunkHeight;\n              elemsInThisChunk = width * thisChunkHeight;\n            }\n            destPos = 0;\n            for (j = elemsInThisChunk; j--;) {\n              dest[destPos++] = src[srcPos++];\n              dest[destPos++] = src[srcPos++];\n              dest[destPos++] = src[srcPos++];\n              dest[destPos++] = 255;\n            }\n            if (hasTransferMaps) {\n              for (let k = 0; k < destPos; k += 4) {\n                if (transferMapRed) {\n                  dest[k + 0] = transferMapRed[dest[k + 0]];\n                }\n                if (transferMapGreen) {\n                  dest[k + 1] = transferMapGreen[dest[k + 1]];\n                }\n                if (transferMapBlue) {\n                  dest[k + 2] = transferMapBlue[dest[k + 2]];\n                }\n              }\n            }\n            ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n          }\n        } else {\n          throw new Error(`bad image kind: ${imgData.kind}`);\n        }\n      }\n      function putBinaryImageMask(ctx, imgData) {\n        const height = imgData.height,\n          width = imgData.width;\n        const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n        const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n        const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n        const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n        let srcPos = 0;\n        const src = imgData.data;\n        const dest = chunkImgData.data;\n        for (let i = 0; i < totalChunks; i++) {\n          const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n          let destPos = 3;\n          for (let j = 0; j < thisChunkHeight; j++) {\n            let elem,\n              mask = 0;\n            for (let k = 0; k < width; k++) {\n              if (!mask) {\n                elem = src[srcPos++];\n                mask = 128;\n              }\n              dest[destPos] = elem & mask ? 0 : 255;\n              destPos += 4;\n              mask >>= 1;\n            }\n          }\n          ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n        }\n      }\n      function copyCtxState(sourceCtx, destCtx) {\n        const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\"];\n        for (let i = 0, ii = properties.length; i < ii; i++) {\n          const property = properties[i];\n          if (sourceCtx[property] !== undefined) {\n            destCtx[property] = sourceCtx[property];\n          }\n        }\n        if (sourceCtx.setLineDash !== undefined) {\n          destCtx.setLineDash(sourceCtx.getLineDash());\n          destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n        }\n      }\n      function resetCtxToDefault(ctx) {\n        ctx.strokeStyle = \"#000000\";\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRule = \"nonzero\";\n        ctx.globalAlpha = 1;\n        ctx.lineWidth = 1;\n        ctx.lineCap = \"butt\";\n        ctx.lineJoin = \"miter\";\n        ctx.miterLimit = 10;\n        ctx.globalCompositeOperation = \"source-over\";\n        ctx.font = \"10px sans-serif\";\n        if (ctx.setLineDash !== undefined) {\n          ctx.setLineDash([]);\n          ctx.lineDashOffset = 0;\n        }\n      }\n      function composeSMaskBackdrop(bytes, r0, g0, b0) {\n        const length = bytes.length;\n        for (let i = 3; i < length; i += 4) {\n          const alpha = bytes[i];\n          if (alpha === 0) {\n            bytes[i - 3] = r0;\n            bytes[i - 2] = g0;\n            bytes[i - 1] = b0;\n          } else if (alpha < 255) {\n            const alpha_ = 255 - alpha;\n            bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n            bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n            bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n          }\n        }\n      }\n      function composeSMaskAlpha(maskData, layerData, transferMap) {\n        const length = maskData.length;\n        const scale = 1 / 255;\n        for (let i = 3; i < length; i += 4) {\n          const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n          layerData[i] = layerData[i] * alpha * scale | 0;\n        }\n      }\n      function composeSMaskLuminosity(maskData, layerData, transferMap) {\n        const length = maskData.length;\n        for (let i = 3; i < length; i += 4) {\n          const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n          layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n        }\n      }\n      function genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap) {\n        const hasBackdrop = !!backdrop;\n        const r0 = hasBackdrop ? backdrop[0] : 0;\n        const g0 = hasBackdrop ? backdrop[1] : 0;\n        const b0 = hasBackdrop ? backdrop[2] : 0;\n        let composeFn;\n        if (subtype === \"Luminosity\") {\n          composeFn = composeSMaskLuminosity;\n        } else {\n          composeFn = composeSMaskAlpha;\n        }\n        const PIXELS_TO_PROCESS = 1048576;\n        const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n        for (let row = 0; row < height; row += chunkSize) {\n          const chunkHeight = Math.min(chunkSize, height - row);\n          const maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n          const layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n          if (hasBackdrop) {\n            composeSMaskBackdrop(maskData.data, r0, g0, b0);\n          }\n          composeFn(maskData.data, layerData.data, transferMap);\n          maskCtx.putImageData(layerData, 0, row);\n        }\n      }\n      function composeSMask(ctx, smask, layerCtx) {\n        const mask = smask.canvas;\n        const maskCtx = smask.context;\n        ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY, smask.offsetX, smask.offsetY);\n        genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height, smask.subtype, smask.backdrop, smask.transferMap);\n        ctx.drawImage(mask, 0, 0);\n      }\n      function getImageSmoothingEnabled(transform, interpolate) {\n        const scale = _util.Util.singularValueDecompose2dScale(transform);\n        scale[0] = Math.fround(scale[0]);\n        scale[1] = Math.fround(scale[1]);\n        const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * _display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n        if (interpolate !== undefined) {\n          return interpolate;\n        } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n          return true;\n        }\n        return false;\n      }\n      const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n      const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n      const NORMAL_CLIP = {};\n      const EO_CLIP = {};\n      class CanvasGraphics {\n        constructor(canvasCtx, commonObjs, objs, canvasFactory, imageLayer, optionalContentConfig) {\n          this.ctx = canvasCtx;\n          this.current = new CanvasExtraState();\n          this.stateStack = [];\n          this.pendingClip = null;\n          this.pendingEOFill = false;\n          this.res = null;\n          this.xobjs = null;\n          this.commonObjs = commonObjs;\n          this.objs = objs;\n          this.canvasFactory = canvasFactory;\n          this.imageLayer = imageLayer;\n          this.groupStack = [];\n          this.processingType3 = null;\n          this.baseTransform = null;\n          this.baseTransformStack = [];\n          this.groupLevel = 0;\n          this.smaskStack = [];\n          this.smaskCounter = 0;\n          this.tempSMask = null;\n          this.contentVisible = true;\n          this.markedContentStack = [];\n          this.optionalContentConfig = optionalContentConfig;\n          this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n          this.cachedCanvasPatterns = new LRUCache(MAX_CACHED_CANVAS_PATTERNS);\n          this.cachedPatterns = new Map();\n          if (canvasCtx) {\n            addContextCurrentTransform(canvasCtx);\n          }\n          this._cachedGetSinglePixelWidth = null;\n        }\n        beginDrawing({\n          transform,\n          viewport,\n          transparency = false,\n          background = null\n        }) {\n          const width = this.ctx.canvas.width;\n          const height = this.ctx.canvas.height;\n          this.ctx.save();\n          this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n          this.ctx.fillRect(0, 0, width, height);\n          this.ctx.restore();\n          if (transparency) {\n            const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height, true);\n            this.compositeCtx = this.ctx;\n            this.transparentCanvas = transparentCanvas.canvas;\n            this.ctx = transparentCanvas.context;\n            this.ctx.save();\n            this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n          }\n          this.ctx.save();\n          resetCtxToDefault(this.ctx);\n          if (transform) {\n            this.ctx.transform.apply(this.ctx, transform);\n          }\n          this.ctx.transform.apply(this.ctx, viewport.transform);\n          this.baseTransform = this.ctx.mozCurrentTransform.slice();\n          this._combinedScaleFactor = Math.hypot(this.baseTransform[0], this.baseTransform[2]);\n          if (this.imageLayer) {\n            this.imageLayer.beginLayout();\n          }\n        }\n        executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n          const argsArray = operatorList.argsArray;\n          const fnArray = operatorList.fnArray;\n          let i = executionStartIdx || 0;\n          const argsArrayLen = argsArray.length;\n          if (argsArrayLen === i) {\n            return i;\n          }\n          const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n          const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n          let steps = 0;\n          const commonObjs = this.commonObjs;\n          const objs = this.objs;\n          let fnId;\n          while (true) {\n            if (stepper !== undefined && i === stepper.nextBreakPoint) {\n              stepper.breakIt(i, continueCallback);\n              return i;\n            }\n            fnId = fnArray[i];\n            if (fnId !== _util.OPS.dependency) {\n              this[fnId].apply(this, argsArray[i]);\n            } else {\n              for (const depObjId of argsArray[i]) {\n                const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n                if (!objsPool.has(depObjId)) {\n                  objsPool.get(depObjId, continueCallback);\n                  return i;\n                }\n              }\n            }\n            i++;\n            if (i === argsArrayLen) {\n              return i;\n            }\n            if (chunkOperations && ++steps > EXECUTION_STEPS) {\n              if (Date.now() > endTime) {\n                continueCallback();\n                return i;\n              }\n              steps = 0;\n            }\n          }\n        }\n        endDrawing() {\n          while (this.stateStack.length || this.current.activeSMask !== null) {\n            this.restore();\n          }\n          this.ctx.restore();\n          if (this.transparentCanvas) {\n            this.ctx = this.compositeCtx;\n            this.ctx.save();\n            this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n            this.ctx.drawImage(this.transparentCanvas, 0, 0);\n            this.ctx.restore();\n            this.transparentCanvas = null;\n          }\n          this.cachedCanvases.clear();\n          this.cachedCanvasPatterns.clear();\n          this.cachedPatterns.clear();\n          if (this.imageLayer) {\n            this.imageLayer.endLayout();\n          }\n        }\n        _scaleImage(img, inverseTransform) {\n          const width = img.width;\n          const height = img.height;\n          let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n          let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n          let paintWidth = width,\n            paintHeight = height;\n          let tmpCanvasId = \"prescale1\";\n          let tmpCanvas, tmpCtx;\n          while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n            let newWidth = paintWidth,\n              newHeight = paintHeight;\n            if (widthScale > 2 && paintWidth > 1) {\n              newWidth = Math.ceil(paintWidth / 2);\n              widthScale /= paintWidth / newWidth;\n            }\n            if (heightScale > 2 && paintHeight > 1) {\n              newHeight = Math.ceil(paintHeight / 2);\n              heightScale /= paintHeight / newHeight;\n            }\n            tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n            tmpCtx = tmpCanvas.context;\n            tmpCtx.clearRect(0, 0, newWidth, newHeight);\n            tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n            img = tmpCanvas.canvas;\n            paintWidth = newWidth;\n            paintHeight = newHeight;\n            tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n          }\n          return {\n            img,\n            paintWidth,\n            paintHeight\n          };\n        }\n        _createMaskCanvas(img) {\n          const ctx = this.ctx;\n          const width = img.width,\n            height = img.height;\n          const fillColor = this.current.fillColor;\n          const isPatternFill = this.current.patternFill;\n          const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n          const maskCtx = maskCanvas.context;\n          putBinaryImageMask(maskCtx, img);\n          const objToCanvas = ctx.mozCurrentTransform;\n          let maskToCanvas = _util.Util.transform(objToCanvas, [1 / width, 0, 0, -1 / height, 0, 0]);\n          maskToCanvas = _util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n          const cord1 = _util.Util.applyTransform([0, 0], maskToCanvas);\n          const cord2 = _util.Util.applyTransform([width, height], maskToCanvas);\n          const rect = _util.Util.normalizeRect([cord1[0], cord1[1], cord2[0], cord2[1]]);\n          const drawnWidth = Math.ceil(rect[2] - rect[0]);\n          const drawnHeight = Math.ceil(rect[3] - rect[1]);\n          const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight, true);\n          const fillCtx = fillCanvas.context;\n          const offsetX = Math.min(cord1[0], cord2[0]);\n          const offsetY = Math.min(cord1[1], cord2[1]);\n          fillCtx.translate(-offsetX, -offsetY);\n          fillCtx.transform.apply(fillCtx, maskToCanvas);\n          const scaled = this._scaleImage(maskCanvas.canvas, fillCtx.mozCurrentTransformInverse);\n          fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(fillCtx.mozCurrentTransform, img.interpolate);\n          fillCtx.drawImage(scaled.img, 0, 0, scaled.img.width, scaled.img.height, 0, 0, width, height);\n          fillCtx.globalCompositeOperation = \"source-in\";\n          const inverse = _util.Util.transform(fillCtx.mozCurrentTransformInverse, [1, 0, 0, 1, -offsetX, -offsetY]);\n          fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, false) : fillColor;\n          fillCtx.fillRect(0, 0, width, height);\n          return {\n            canvas: fillCanvas.canvas,\n            offsetX: Math.round(offsetX),\n            offsetY: Math.round(offsetY)\n          };\n        }\n        setLineWidth(width) {\n          this.current.lineWidth = width;\n          this.ctx.lineWidth = width;\n        }\n        setLineCap(style) {\n          this.ctx.lineCap = LINE_CAP_STYLES[style];\n        }\n        setLineJoin(style) {\n          this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n        }\n        setMiterLimit(limit) {\n          this.ctx.miterLimit = limit;\n        }\n        setDash(dashArray, dashPhase) {\n          const ctx = this.ctx;\n          if (ctx.setLineDash !== undefined) {\n            ctx.setLineDash(dashArray);\n            ctx.lineDashOffset = dashPhase;\n          }\n        }\n        setRenderingIntent(intent) {}\n        setFlatness(flatness) {}\n        setGState(states) {\n          for (let i = 0, ii = states.length; i < ii; i++) {\n            const state = states[i];\n            const key = state[0];\n            const value = state[1];\n            switch (key) {\n              case \"LW\":\n                this.setLineWidth(value);\n                break;\n              case \"LC\":\n                this.setLineCap(value);\n                break;\n              case \"LJ\":\n                this.setLineJoin(value);\n                break;\n              case \"ML\":\n                this.setMiterLimit(value);\n                break;\n              case \"D\":\n                this.setDash(value[0], value[1]);\n                break;\n              case \"RI\":\n                this.setRenderingIntent(value);\n                break;\n              case \"FL\":\n                this.setFlatness(value);\n                break;\n              case \"Font\":\n                this.setFont(value[0], value[1]);\n                break;\n              case \"CA\":\n                this.current.strokeAlpha = state[1];\n                break;\n              case \"ca\":\n                this.current.fillAlpha = state[1];\n                this.ctx.globalAlpha = state[1];\n                break;\n              case \"BM\":\n                this.ctx.globalCompositeOperation = value;\n                break;\n              case \"SMask\":\n                if (this.current.activeSMask) {\n                  if (this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1].activeSMask === this.current.activeSMask) {\n                    this.suspendSMaskGroup();\n                  } else {\n                    this.endSMaskGroup();\n                  }\n                }\n                this.current.activeSMask = value ? this.tempSMask : null;\n                if (this.current.activeSMask) {\n                  this.beginSMaskGroup();\n                }\n                this.tempSMask = null;\n                break;\n              case \"TR\":\n                this.current.transferMaps = value;\n            }\n          }\n        }\n        beginSMaskGroup() {\n          const activeSMask = this.current.activeSMask;\n          const drawnWidth = activeSMask.canvas.width;\n          const drawnHeight = activeSMask.canvas.height;\n          const cacheId = \"smaskGroupAt\" + this.groupLevel;\n          const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n          const currentCtx = this.ctx;\n          const currentTransform = currentCtx.mozCurrentTransform;\n          this.ctx.save();\n          const groupCtx = scratchCanvas.context;\n          groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n          groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n          groupCtx.transform.apply(groupCtx, currentTransform);\n          activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n          copyCtxState(currentCtx, groupCtx);\n          this.ctx = groupCtx;\n          this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n          this.groupStack.push(currentCtx);\n          this.groupLevel++;\n        }\n        suspendSMaskGroup() {\n          const groupCtx = this.ctx;\n          this.groupLevel--;\n          this.ctx = this.groupStack.pop();\n          composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n          this.ctx.restore();\n          this.ctx.save();\n          copyCtxState(groupCtx, this.ctx);\n          this.current.resumeSMaskCtx = groupCtx;\n          const deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n          this.ctx.transform.apply(this.ctx, deltaTransform);\n          groupCtx.save();\n          groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n          groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n          groupCtx.restore();\n        }\n        resumeSMaskGroup() {\n          const groupCtx = this.current.resumeSMaskCtx;\n          const currentCtx = this.ctx;\n          this.ctx = groupCtx;\n          this.groupStack.push(currentCtx);\n          this.groupLevel++;\n        }\n        endSMaskGroup() {\n          const groupCtx = this.ctx;\n          this.groupLevel--;\n          this.ctx = this.groupStack.pop();\n          composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n          this.ctx.restore();\n          copyCtxState(groupCtx, this.ctx);\n          const deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n          this.ctx.transform.apply(this.ctx, deltaTransform);\n        }\n        save() {\n          this.ctx.save();\n          const old = this.current;\n          this.stateStack.push(old);\n          this.current = old.clone();\n          this.current.resumeSMaskCtx = null;\n        }\n        restore() {\n          if (this.current.resumeSMaskCtx) {\n            this.resumeSMaskGroup();\n          }\n          if (this.current.activeSMask !== null && (this.stateStack.length === 0 || this.stateStack[this.stateStack.length - 1].activeSMask !== this.current.activeSMask)) {\n            this.endSMaskGroup();\n          }\n          if (this.stateStack.length !== 0) {\n            this.current = this.stateStack.pop();\n            this.ctx.restore();\n            this.pendingClip = null;\n            this._cachedGetSinglePixelWidth = null;\n          } else {\n            this.current.activeSMask = null;\n          }\n        }\n        transform(a, b, c, d, e, f) {\n          this.ctx.transform(a, b, c, d, e, f);\n          this._cachedGetSinglePixelWidth = null;\n        }\n        constructPath(ops, args) {\n          const ctx = this.ctx;\n          const current = this.current;\n          let x = current.x,\n            y = current.y;\n          for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n            switch (ops[i] | 0) {\n              case _util.OPS.rectangle:\n                x = args[j++];\n                y = args[j++];\n                const width = args[j++];\n                const height = args[j++];\n                const xw = x + width;\n                const yh = y + height;\n                ctx.moveTo(x, y);\n                if (width === 0 || height === 0) {\n                  ctx.lineTo(xw, yh);\n                } else {\n                  ctx.lineTo(xw, y);\n                  ctx.lineTo(xw, yh);\n                  ctx.lineTo(x, yh);\n                }\n                ctx.closePath();\n                break;\n              case _util.OPS.moveTo:\n                x = args[j++];\n                y = args[j++];\n                ctx.moveTo(x, y);\n                break;\n              case _util.OPS.lineTo:\n                x = args[j++];\n                y = args[j++];\n                ctx.lineTo(x, y);\n                break;\n              case _util.OPS.curveTo:\n                x = args[j + 4];\n                y = args[j + 5];\n                ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n                j += 6;\n                break;\n              case _util.OPS.curveTo2:\n                ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n                x = args[j + 2];\n                y = args[j + 3];\n                j += 4;\n                break;\n              case _util.OPS.curveTo3:\n                x = args[j + 2];\n                y = args[j + 3];\n                ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n                j += 4;\n                break;\n              case _util.OPS.closePath:\n                ctx.closePath();\n                break;\n            }\n          }\n          current.setCurrentPoint(x, y);\n        }\n        closePath() {\n          this.ctx.closePath();\n        }\n        stroke(consumePath) {\n          consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n          const ctx = this.ctx;\n          const strokeColor = this.current.strokeColor;\n          ctx.globalAlpha = this.current.strokeAlpha;\n          if (this.contentVisible) {\n            if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n              const lineWidth = this.getSinglePixelWidth();\n              ctx.save();\n              ctx.strokeStyle = strokeColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse);\n              ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n              ctx.stroke();\n              ctx.restore();\n            } else {\n              const lineWidth = this.getSinglePixelWidth();\n              if (lineWidth < 0 && -lineWidth >= this.current.lineWidth) {\n                ctx.save();\n                ctx.resetTransform();\n                ctx.lineWidth = Math.round(this._combinedScaleFactor);\n                ctx.stroke();\n                ctx.restore();\n              } else {\n                ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n                ctx.stroke();\n              }\n            }\n          }\n          if (consumePath) {\n            this.consumePath();\n          }\n          ctx.globalAlpha = this.current.fillAlpha;\n        }\n        closeStroke() {\n          this.closePath();\n          this.stroke();\n        }\n        fill(consumePath) {\n          consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n          const ctx = this.ctx;\n          const fillColor = this.current.fillColor;\n          const isPatternFill = this.current.patternFill;\n          let needRestore = false;\n          if (isPatternFill) {\n            ctx.save();\n            ctx.fillStyle = fillColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse);\n            needRestore = true;\n          }\n          if (this.contentVisible) {\n            if (this.pendingEOFill) {\n              ctx.fill(\"evenodd\");\n              this.pendingEOFill = false;\n            } else {\n              ctx.fill();\n            }\n          }\n          if (needRestore) {\n            ctx.restore();\n          }\n          if (consumePath) {\n            this.consumePath();\n          }\n        }\n        eoFill() {\n          this.pendingEOFill = true;\n          this.fill();\n        }\n        fillStroke() {\n          this.fill(false);\n          this.stroke(false);\n          this.consumePath();\n        }\n        eoFillStroke() {\n          this.pendingEOFill = true;\n          this.fillStroke();\n        }\n        closeFillStroke() {\n          this.closePath();\n          this.fillStroke();\n        }\n        closeEOFillStroke() {\n          this.pendingEOFill = true;\n          this.closePath();\n          this.fillStroke();\n        }\n        endPath() {\n          this.consumePath();\n        }\n        clip() {\n          this.pendingClip = NORMAL_CLIP;\n        }\n        eoClip() {\n          this.pendingClip = EO_CLIP;\n        }\n        beginText() {\n          this.current.textMatrix = _util.IDENTITY_MATRIX;\n          this.current.textMatrixScale = 1;\n          this.current.x = this.current.lineX = 0;\n          this.current.y = this.current.lineY = 0;\n        }\n        endText() {\n          const paths = this.pendingTextPaths;\n          const ctx = this.ctx;\n          if (paths === undefined) {\n            ctx.beginPath();\n            return;\n          }\n          ctx.save();\n          ctx.beginPath();\n          for (let i = 0; i < paths.length; i++) {\n            const path = paths[i];\n            ctx.setTransform.apply(ctx, path.transform);\n            ctx.translate(path.x, path.y);\n            path.addToPath(ctx, path.fontSize);\n          }\n          ctx.restore();\n          ctx.clip();\n          ctx.beginPath();\n          delete this.pendingTextPaths;\n        }\n        setCharSpacing(spacing) {\n          this.current.charSpacing = spacing;\n        }\n        setWordSpacing(spacing) {\n          this.current.wordSpacing = spacing;\n        }\n        setHScale(scale) {\n          this.current.textHScale = scale / 100;\n        }\n        setLeading(leading) {\n          this.current.leading = -leading;\n        }\n        setFont(fontRefName, size) {\n          const fontObj = this.commonObjs.get(fontRefName);\n          const current = this.current;\n          if (!fontObj) {\n            throw new Error(`Can't find font for ${fontRefName}`);\n          }\n          current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n          if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n            (0, _util.warn)(\"Invalid font matrix for font \" + fontRefName);\n          }\n          if (size < 0) {\n            size = -size;\n            current.fontDirection = -1;\n          } else {\n            current.fontDirection = 1;\n          }\n          this.current.font = fontObj;\n          this.current.fontSize = size;\n          if (fontObj.isType3Font) {\n            return;\n          }\n          const name = fontObj.loadedName || \"sans-serif\";\n          let bold = \"normal\";\n          if (fontObj.black) {\n            bold = \"900\";\n          } else if (fontObj.bold) {\n            bold = \"bold\";\n          }\n          const italic = fontObj.italic ? \"italic\" : \"normal\";\n          const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n          let browserFontSize = size;\n          if (size < MIN_FONT_SIZE) {\n            browserFontSize = MIN_FONT_SIZE;\n          } else if (size > MAX_FONT_SIZE) {\n            browserFontSize = MAX_FONT_SIZE;\n          }\n          this.current.fontSizeScale = size / browserFontSize;\n          this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n        }\n        setTextRenderingMode(mode) {\n          this.current.textRenderingMode = mode;\n        }\n        setTextRise(rise) {\n          this.current.textRise = rise;\n        }\n        moveText(x, y) {\n          this.current.x = this.current.lineX += x;\n          this.current.y = this.current.lineY += y;\n        }\n        setLeadingMoveText(x, y) {\n          this.setLeading(-y);\n          this.moveText(x, y);\n        }\n        setTextMatrix(a, b, c, d, e, f) {\n          this.current.textMatrix = [a, b, c, d, e, f];\n          this.current.textMatrixScale = Math.hypot(a, b);\n          this.current.x = this.current.lineX = 0;\n          this.current.y = this.current.lineY = 0;\n        }\n        nextLine() {\n          this.moveText(0, this.current.leading);\n        }\n        paintChar(character, x, y, patternTransform, resetLineWidthToOne) {\n          const ctx = this.ctx;\n          const current = this.current;\n          const font = current.font;\n          const textRenderingMode = current.textRenderingMode;\n          const fontSize = current.fontSize / current.fontSizeScale;\n          const fillStrokeMode = textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n          const isAddToPathSet = !!(textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG);\n          const patternFill = current.patternFill && !font.missingFile;\n          let addToPath;\n          if (font.disableFontFace || isAddToPathSet || patternFill) {\n            addToPath = font.getPathGenerator(this.commonObjs, character);\n          }\n          if (font.disableFontFace || patternFill) {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.beginPath();\n            addToPath(ctx, fontSize);\n            if (patternTransform) {\n              ctx.setTransform.apply(ctx, patternTransform);\n            }\n            if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              ctx.fill();\n            }\n            if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              if (resetLineWidthToOne) {\n                ctx.resetTransform();\n                ctx.lineWidth = Math.round(this._combinedScaleFactor);\n              }\n              ctx.stroke();\n            }\n            ctx.restore();\n          } else {\n            if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              ctx.fillText(character, x, y);\n            }\n            if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              if (resetLineWidthToOne) {\n                ctx.save();\n                ctx.moveTo(x, y);\n                ctx.resetTransform();\n                ctx.lineWidth = Math.round(this._combinedScaleFactor);\n                ctx.strokeText(character, 0, 0);\n                ctx.restore();\n              } else {\n                ctx.strokeText(character, x, y);\n              }\n            }\n          }\n          if (isAddToPathSet) {\n            const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n            paths.push({\n              transform: ctx.mozCurrentTransform,\n              x,\n              y,\n              fontSize,\n              addToPath\n            });\n          }\n        }\n        get isFontSubpixelAAEnabled() {\n          const {\n            context: ctx\n          } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n          ctx.scale(1.5, 1);\n          ctx.fillText(\"I\", 0, 10);\n          const data = ctx.getImageData(0, 0, 10, 10).data;\n          let enabled = false;\n          for (let i = 3; i < data.length; i += 4) {\n            if (data[i] > 0 && data[i] < 255) {\n              enabled = true;\n              break;\n            }\n          }\n          return (0, _util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n        }\n        showText(glyphs) {\n          const current = this.current;\n          const font = current.font;\n          if (font.isType3Font) {\n            return this.showType3Text(glyphs);\n          }\n          const fontSize = current.fontSize;\n          if (fontSize === 0) {\n            return undefined;\n          }\n          const ctx = this.ctx;\n          const fontSizeScale = current.fontSizeScale;\n          const charSpacing = current.charSpacing;\n          const wordSpacing = current.wordSpacing;\n          const fontDirection = current.fontDirection;\n          const textHScale = current.textHScale * fontDirection;\n          const glyphsLength = glyphs.length;\n          const vertical = font.vertical;\n          const spacingDir = vertical ? 1 : -1;\n          const defaultVMetrics = font.defaultVMetrics;\n          const widthAdvanceScale = fontSize * current.fontMatrix[0];\n          const simpleFillText = current.textRenderingMode === _util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n          ctx.save();\n          let patternTransform;\n          if (current.patternFill) {\n            ctx.save();\n            const pattern = current.fillColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse);\n            patternTransform = ctx.mozCurrentTransform;\n            ctx.restore();\n            ctx.fillStyle = pattern;\n          }\n          ctx.transform.apply(ctx, current.textMatrix);\n          ctx.translate(current.x, current.y + current.textRise);\n          if (fontDirection > 0) {\n            ctx.scale(textHScale, -1);\n          } else {\n            ctx.scale(textHScale, 1);\n          }\n          let lineWidth = current.lineWidth;\n          let resetLineWidthToOne = false;\n          const scale = current.textMatrixScale;\n          if (scale === 0 || lineWidth === 0) {\n            const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n            if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              this._cachedGetSinglePixelWidth = null;\n              lineWidth = this.getSinglePixelWidth();\n              resetLineWidthToOne = lineWidth < 0;\n            }\n          } else {\n            lineWidth /= scale;\n          }\n          if (fontSizeScale !== 1.0) {\n            ctx.scale(fontSizeScale, fontSizeScale);\n            lineWidth /= fontSizeScale;\n          }\n          ctx.lineWidth = lineWidth;\n          let x = 0,\n            i;\n          for (i = 0; i < glyphsLength; ++i) {\n            const glyph = glyphs[i];\n            if ((0, _util.isNum)(glyph)) {\n              x += spacingDir * glyph * fontSize / 1000;\n              continue;\n            }\n            let restoreNeeded = false;\n            const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n            const character = glyph.fontChar;\n            const accent = glyph.accent;\n            let scaledX, scaledY;\n            let width = glyph.width;\n            if (vertical) {\n              const vmetric = glyph.vmetric || defaultVMetrics;\n              const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n              const vy = vmetric[2] * widthAdvanceScale;\n              width = vmetric ? -vmetric[0] : width;\n              scaledX = vx / fontSizeScale;\n              scaledY = (x + vy) / fontSizeScale;\n            } else {\n              scaledX = x / fontSizeScale;\n              scaledY = 0;\n            }\n            if (font.remeasure && width > 0) {\n              const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n              if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n                const characterScaleX = width / measuredWidth;\n                restoreNeeded = true;\n                ctx.save();\n                ctx.scale(characterScaleX, 1);\n                scaledX /= characterScaleX;\n              } else if (width !== measuredWidth) {\n                scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n              }\n            }\n            if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n              if (simpleFillText && !accent) {\n                ctx.fillText(character, scaledX, scaledY);\n              } else {\n                this.paintChar(character, scaledX, scaledY, patternTransform, resetLineWidthToOne);\n                if (accent) {\n                  const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n                  const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n                  this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform, resetLineWidthToOne);\n                }\n              }\n            }\n            let charWidth;\n            if (vertical) {\n              charWidth = width * widthAdvanceScale - spacing * fontDirection;\n            } else {\n              charWidth = width * widthAdvanceScale + spacing * fontDirection;\n            }\n            x += charWidth;\n            if (restoreNeeded) {\n              ctx.restore();\n            }\n          }\n          if (vertical) {\n            current.y -= x;\n          } else {\n            current.x += x * textHScale;\n          }\n          ctx.restore();\n          return undefined;\n        }\n        showType3Text(glyphs) {\n          const ctx = this.ctx;\n          const current = this.current;\n          const font = current.font;\n          const fontSize = current.fontSize;\n          const fontDirection = current.fontDirection;\n          const spacingDir = font.vertical ? 1 : -1;\n          const charSpacing = current.charSpacing;\n          const wordSpacing = current.wordSpacing;\n          const textHScale = current.textHScale * fontDirection;\n          const fontMatrix = current.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n          const glyphsLength = glyphs.length;\n          const isTextInvisible = current.textRenderingMode === _util.TextRenderingMode.INVISIBLE;\n          let i, glyph, width, spacingLength;\n          if (isTextInvisible || fontSize === 0) {\n            return;\n          }\n          this._cachedGetSinglePixelWidth = null;\n          ctx.save();\n          ctx.transform.apply(ctx, current.textMatrix);\n          ctx.translate(current.x, current.y);\n          ctx.scale(textHScale, fontDirection);\n          for (i = 0; i < glyphsLength; ++i) {\n            glyph = glyphs[i];\n            if ((0, _util.isNum)(glyph)) {\n              spacingLength = spacingDir * glyph * fontSize / 1000;\n              this.ctx.translate(spacingLength, 0);\n              current.x += spacingLength * textHScale;\n              continue;\n            }\n            const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n            const operatorList = font.charProcOperatorList[glyph.operatorListId];\n            if (!operatorList) {\n              (0, _util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n              continue;\n            }\n            if (this.contentVisible) {\n              this.processingType3 = glyph;\n              this.save();\n              ctx.scale(fontSize, fontSize);\n              ctx.transform.apply(ctx, fontMatrix);\n              this.executeOperatorList(operatorList);\n              this.restore();\n            }\n            const transformed = _util.Util.applyTransform([glyph.width, 0], fontMatrix);\n            width = transformed[0] * fontSize + spacing;\n            ctx.translate(width, 0);\n            current.x += width * textHScale;\n          }\n          ctx.restore();\n          this.processingType3 = null;\n        }\n        setCharWidth(xWidth, yWidth) {}\n        setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n          this.ctx.rect(llx, lly, urx - llx, ury - lly);\n          this.clip();\n          this.endPath();\n        }\n        getColorN_Pattern(IR) {\n          let pattern;\n          if (IR[0] === \"TilingPattern\") {\n            const color = IR[1];\n            const baseTransform = this.baseTransform || this.ctx.mozCurrentTransform.slice();\n            const canvasGraphicsFactory = {\n              createCanvasGraphics: ctx => {\n                return new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory);\n              }\n            };\n            pattern = new _pattern_helper.TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n          } else {\n            pattern = this._getPattern(IR[1], IR[2]);\n          }\n          return pattern;\n        }\n        setStrokeColorN() {\n          this.current.strokeColor = this.getColorN_Pattern(arguments);\n        }\n        setFillColorN() {\n          this.current.fillColor = this.getColorN_Pattern(arguments);\n          this.current.patternFill = true;\n        }\n        setStrokeRGBColor(r, g, b) {\n          const color = _util.Util.makeHexColor(r, g, b);\n          this.ctx.strokeStyle = color;\n          this.current.strokeColor = color;\n        }\n        setFillRGBColor(r, g, b) {\n          const color = _util.Util.makeHexColor(r, g, b);\n          this.ctx.fillStyle = color;\n          this.current.fillColor = color;\n          this.current.patternFill = false;\n        }\n        _getPattern(objId, matrix = null) {\n          let pattern;\n          if (this.cachedPatterns.has(objId)) {\n            pattern = this.cachedPatterns.get(objId);\n          } else {\n            pattern = (0, _pattern_helper.getShadingPattern)(this.objs.get(objId), this.cachedCanvasPatterns);\n            this.cachedPatterns.set(objId, pattern);\n          }\n          if (matrix) {\n            pattern.matrix = matrix;\n          }\n          return pattern;\n        }\n        shadingFill(objId) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const ctx = this.ctx;\n          this.save();\n          const pattern = this._getPattern(objId);\n          ctx.fillStyle = pattern.getPattern(ctx, this, ctx.mozCurrentTransformInverse, true);\n          const inv = ctx.mozCurrentTransformInverse;\n          if (inv) {\n            const canvas = ctx.canvas;\n            const width = canvas.width;\n            const height = canvas.height;\n            const bl = _util.Util.applyTransform([0, 0], inv);\n            const br = _util.Util.applyTransform([0, height], inv);\n            const ul = _util.Util.applyTransform([width, 0], inv);\n            const ur = _util.Util.applyTransform([width, height], inv);\n            const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n            const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n            const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n            const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n            this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n          } else {\n            this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n          }\n          this.restore();\n        }\n        beginInlineImage() {\n          (0, _util.unreachable)(\"Should not call beginInlineImage\");\n        }\n        beginImageData() {\n          (0, _util.unreachable)(\"Should not call beginImageData\");\n        }\n        paintFormXObjectBegin(matrix, bbox) {\n          if (!this.contentVisible) {\n            return;\n          }\n          this.save();\n          this.baseTransformStack.push(this.baseTransform);\n          if (Array.isArray(matrix) && matrix.length === 6) {\n            this.transform.apply(this, matrix);\n          }\n          this.baseTransform = this.ctx.mozCurrentTransform;\n          if (bbox) {\n            const width = bbox[2] - bbox[0];\n            const height = bbox[3] - bbox[1];\n            this.ctx.rect(bbox[0], bbox[1], width, height);\n            this.clip();\n            this.endPath();\n          }\n        }\n        paintFormXObjectEnd() {\n          if (!this.contentVisible) {\n            return;\n          }\n          this.restore();\n          this.baseTransform = this.baseTransformStack.pop();\n        }\n        beginGroup(group) {\n          if (!this.contentVisible) {\n            return;\n          }\n          this.save();\n          const currentCtx = this.ctx;\n          if (!group.isolated) {\n            (0, _util.info)(\"TODO: Support non-isolated groups.\");\n          }\n          if (group.knockout) {\n            (0, _util.warn)(\"Knockout groups not supported.\");\n          }\n          const currentTransform = currentCtx.mozCurrentTransform;\n          if (group.matrix) {\n            currentCtx.transform.apply(currentCtx, group.matrix);\n          }\n          if (!group.bbox) {\n            throw new Error(\"Bounding box is required.\");\n          }\n          let bounds = _util.Util.getAxialAlignedBoundingBox(group.bbox, currentCtx.mozCurrentTransform);\n          const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n          bounds = _util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n          const offsetX = Math.floor(bounds[0]);\n          const offsetY = Math.floor(bounds[1]);\n          let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n          let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n          let scaleX = 1,\n            scaleY = 1;\n          if (drawnWidth > MAX_GROUP_SIZE) {\n            scaleX = drawnWidth / MAX_GROUP_SIZE;\n            drawnWidth = MAX_GROUP_SIZE;\n          }\n          if (drawnHeight > MAX_GROUP_SIZE) {\n            scaleY = drawnHeight / MAX_GROUP_SIZE;\n            drawnHeight = MAX_GROUP_SIZE;\n          }\n          let cacheId = \"groupAt\" + this.groupLevel;\n          if (group.smask) {\n            cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n          }\n          const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n          const groupCtx = scratchCanvas.context;\n          groupCtx.scale(1 / scaleX, 1 / scaleY);\n          groupCtx.translate(-offsetX, -offsetY);\n          groupCtx.transform.apply(groupCtx, currentTransform);\n          if (group.smask) {\n            this.smaskStack.push({\n              canvas: scratchCanvas.canvas,\n              context: groupCtx,\n              offsetX,\n              offsetY,\n              scaleX,\n              scaleY,\n              subtype: group.smask.subtype,\n              backdrop: group.smask.backdrop,\n              transferMap: group.smask.transferMap || null,\n              startTransformInverse: null\n            });\n          } else {\n            currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n            currentCtx.translate(offsetX, offsetY);\n            currentCtx.scale(scaleX, scaleY);\n          }\n          copyCtxState(currentCtx, groupCtx);\n          this.ctx = groupCtx;\n          this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n          this.groupStack.push(currentCtx);\n          this.groupLevel++;\n          this.current.activeSMask = null;\n        }\n        endGroup(group) {\n          if (!this.contentVisible) {\n            return;\n          }\n          this.groupLevel--;\n          const groupCtx = this.ctx;\n          this.ctx = this.groupStack.pop();\n          this.ctx.imageSmoothingEnabled = false;\n          if (group.smask) {\n            this.tempSMask = this.smaskStack.pop();\n          } else {\n            this.ctx.drawImage(groupCtx.canvas, 0, 0);\n          }\n          this.restore();\n        }\n        beginAnnotations() {\n          this.save();\n          if (this.baseTransform) {\n            this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n          }\n        }\n        endAnnotations() {\n          this.restore();\n        }\n        beginAnnotation(id, rect, transform, matrix) {\n          this.save();\n          resetCtxToDefault(this.ctx);\n          this.current = new CanvasExtraState();\n          if (Array.isArray(rect) && rect.length === 4) {\n            const width = rect[2] - rect[0];\n            const height = rect[3] - rect[1];\n            this.ctx.rect(rect[0], rect[1], width, height);\n            this.clip();\n            this.endPath();\n          }\n          this.transform.apply(this, transform);\n          this.transform.apply(this, matrix);\n        }\n        endAnnotation() {\n          this.restore();\n        }\n        paintImageMaskXObject(img) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const ctx = this.ctx;\n          const width = img.width,\n            height = img.height;\n          const glyph = this.processingType3;\n          if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n            if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n              glyph.compiled = compileType3Glyph({\n                data: img.data,\n                width,\n                height\n              });\n            } else {\n              glyph.compiled = null;\n            }\n          }\n          if (glyph?.compiled) {\n            glyph.compiled(ctx);\n            return;\n          }\n          const mask = this._createMaskCanvas(img);\n          const maskCanvas = mask.canvas;\n          ctx.save();\n          ctx.setTransform(1, 0, 0, 1, 0, 0);\n          ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n          ctx.restore();\n        }\n        paintImageMaskXObjectRepeat(imgData, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const ctx = this.ctx;\n          ctx.save();\n          const currentTransform = ctx.mozCurrentTransform;\n          ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n          const mask = this._createMaskCanvas(imgData);\n          ctx.setTransform(1, 0, 0, 1, 0, 0);\n          for (let i = 0, ii = positions.length; i < ii; i += 2) {\n            const trans = _util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n            const [x, y] = _util.Util.applyTransform([0, 0], trans);\n            ctx.drawImage(mask.canvas, x, y);\n          }\n          ctx.restore();\n        }\n        paintImageMaskXObjectGroup(images) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const ctx = this.ctx;\n          const fillColor = this.current.fillColor;\n          const isPatternFill = this.current.patternFill;\n          for (let i = 0, ii = images.length; i < ii; i++) {\n            const image = images[i];\n            const width = image.width,\n              height = image.height;\n            const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n            const maskCtx = maskCanvas.context;\n            maskCtx.save();\n            putBinaryImageMask(maskCtx, image);\n            maskCtx.globalCompositeOperation = \"source-in\";\n            maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, ctx.mozCurrentTransformInverse, false) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n            maskCtx.restore();\n            ctx.save();\n            ctx.transform.apply(ctx, image.transform);\n            ctx.scale(1, -1);\n            ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n            ctx.restore();\n          }\n        }\n        paintImageXObject(objId) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n          if (!imgData) {\n            (0, _util.warn)(\"Dependent image isn't ready yet\");\n            return;\n          }\n          this.paintInlineImageXObject(imgData);\n        }\n        paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n          if (!imgData) {\n            (0, _util.warn)(\"Dependent image isn't ready yet\");\n            return;\n          }\n          const width = imgData.width;\n          const height = imgData.height;\n          const map = [];\n          for (let i = 0, ii = positions.length; i < ii; i += 2) {\n            map.push({\n              transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n              x: 0,\n              y: 0,\n              w: width,\n              h: height\n            });\n          }\n          this.paintInlineImageXObjectGroup(imgData, map);\n        }\n        paintInlineImageXObject(imgData) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const width = imgData.width;\n          const height = imgData.height;\n          const ctx = this.ctx;\n          this.save();\n          ctx.scale(1 / width, -1 / height);\n          let imgToPaint;\n          if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n            imgToPaint = imgData;\n          } else {\n            const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n            const tmpCtx = tmpCanvas.context;\n            putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n            imgToPaint = tmpCanvas.canvas;\n          }\n          const scaled = this._scaleImage(imgToPaint, ctx.mozCurrentTransformInverse);\n          ctx.imageSmoothingEnabled = getImageSmoothingEnabled(ctx.mozCurrentTransform, imgData.interpolate);\n          ctx.drawImage(scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n          if (this.imageLayer) {\n            const position = this.getCanvasPosition(0, -height);\n            this.imageLayer.appendImage({\n              imgData,\n              left: position[0],\n              top: position[1],\n              width: width / ctx.mozCurrentTransformInverse[0],\n              height: height / ctx.mozCurrentTransformInverse[3]\n            });\n          }\n          this.restore();\n        }\n        paintInlineImageXObjectGroup(imgData, map) {\n          if (!this.contentVisible) {\n            return;\n          }\n          const ctx = this.ctx;\n          const w = imgData.width;\n          const h = imgData.height;\n          const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n          const tmpCtx = tmpCanvas.context;\n          putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n          for (let i = 0, ii = map.length; i < ii; i++) {\n            const entry = map[i];\n            ctx.save();\n            ctx.transform.apply(ctx, entry.transform);\n            ctx.scale(1, -1);\n            ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n            if (this.imageLayer) {\n              const position = this.getCanvasPosition(entry.x, entry.y);\n              this.imageLayer.appendImage({\n                imgData,\n                left: position[0],\n                top: position[1],\n                width: w,\n                height: h\n              });\n            }\n            ctx.restore();\n          }\n        }\n        paintSolidColorImageMask() {\n          if (!this.contentVisible) {\n            return;\n          }\n          this.ctx.fillRect(0, 0, 1, 1);\n        }\n        markPoint(tag) {}\n        markPointProps(tag, properties) {}\n        beginMarkedContent(tag) {\n          this.markedContentStack.push({\n            visible: true\n          });\n        }\n        beginMarkedContentProps(tag, properties) {\n          if (tag === \"OC\") {\n            this.markedContentStack.push({\n              visible: this.optionalContentConfig.isVisible(properties)\n            });\n          } else {\n            this.markedContentStack.push({\n              visible: true\n            });\n          }\n          this.contentVisible = this.isContentVisible();\n        }\n        endMarkedContent() {\n          this.markedContentStack.pop();\n          this.contentVisible = this.isContentVisible();\n        }\n        beginCompat() {}\n        endCompat() {}\n        consumePath() {\n          const ctx = this.ctx;\n          if (this.pendingClip) {\n            if (this.pendingClip === EO_CLIP) {\n              ctx.clip(\"evenodd\");\n            } else {\n              ctx.clip();\n            }\n            this.pendingClip = null;\n          }\n          ctx.beginPath();\n        }\n        getSinglePixelWidth() {\n          if (this._cachedGetSinglePixelWidth === null) {\n            const m = this.ctx.mozCurrentTransform;\n            const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n            const sqNorm1 = m[0] ** 2 + m[2] ** 2;\n            const sqNorm2 = m[1] ** 2 + m[3] ** 2;\n            const pixelHeight = Math.sqrt(Math.max(sqNorm1, sqNorm2)) / absDet;\n            if (sqNorm1 !== sqNorm2 && this._combinedScaleFactor * pixelHeight > 1) {\n              this._cachedGetSinglePixelWidth = -(this._combinedScaleFactor * pixelHeight);\n            } else if (absDet > Number.EPSILON) {\n              this._cachedGetSinglePixelWidth = pixelHeight;\n            } else {\n              this._cachedGetSinglePixelWidth = 1;\n            }\n          }\n          return this._cachedGetSinglePixelWidth;\n        }\n        getCanvasPosition(x, y) {\n          const transform = this.ctx.mozCurrentTransform;\n          return [transform[0] * x + transform[2] * y + transform[4], transform[1] * x + transform[3] * y + transform[5]];\n        }\n        isContentVisible() {\n          for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n            if (!this.markedContentStack[i].visible) {\n              return false;\n            }\n          }\n          return true;\n        }\n      }\n      exports.CanvasGraphics = CanvasGraphics;\n      for (const op in _util.OPS) {\n        if (CanvasGraphics.prototype[op] !== undefined) {\n          CanvasGraphics.prototype[_util.OPS[op]] = CanvasGraphics.prototype[op];\n        }\n      }\n\n      /***/\n    }), (/* 11 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getShadingPattern = getShadingPattern;\n      exports.TilingPattern = void 0;\n      var _util = __w_pdfjs_require__(2);\n      function applyBoundingBox(ctx, bbox) {\n        if (!bbox || typeof Path2D === \"undefined\") {\n          return;\n        }\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n        const region = new Path2D();\n        region.rect(bbox[0], bbox[1], width, height);\n        ctx.clip(region);\n      }\n      class BaseShadingPattern {\n        constructor() {\n          if (this.constructor === BaseShadingPattern) {\n            (0, _util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n          }\n        }\n        getPattern() {\n          (0, _util.unreachable)(\"Abstract method `getPattern` called.\");\n        }\n      }\n      class RadialAxialShadingPattern extends BaseShadingPattern {\n        constructor(IR, cachedCanvasPatterns) {\n          super();\n          this._type = IR[1];\n          this._bbox = IR[2];\n          this._colorStops = IR[3];\n          this._p0 = IR[4];\n          this._p1 = IR[5];\n          this._r0 = IR[6];\n          this._r1 = IR[7];\n          this.matrix = null;\n          this.cachedCanvasPatterns = cachedCanvasPatterns;\n        }\n        _createGradient(ctx) {\n          let grad;\n          if (this._type === \"axial\") {\n            grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n          } else if (this._type === \"radial\") {\n            grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n          }\n          for (const colorStop of this._colorStops) {\n            grad.addColorStop(colorStop[0], colorStop[1]);\n          }\n          return grad;\n        }\n        getPattern(ctx, owner, inverse, shadingFill = false) {\n          let pattern;\n          if (!shadingFill) {\n            if (this.cachedCanvasPatterns.has(this)) {\n              pattern = this.cachedCanvasPatterns.get(this);\n            } else {\n              const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", owner.ctx.canvas.width, owner.ctx.canvas.height, true);\n              const tmpCtx = tmpCanvas.context;\n              tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n              tmpCtx.beginPath();\n              tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n              tmpCtx.setTransform.apply(tmpCtx, owner.baseTransform);\n              if (this.matrix) {\n                tmpCtx.transform.apply(tmpCtx, this.matrix);\n              }\n              applyBoundingBox(tmpCtx, this._bbox);\n              tmpCtx.fillStyle = this._createGradient(tmpCtx);\n              tmpCtx.fill();\n              pattern = ctx.createPattern(tmpCanvas.canvas, \"repeat\");\n              this.cachedCanvasPatterns.set(this, pattern);\n            }\n          } else {\n            applyBoundingBox(ctx, this._bbox);\n            pattern = this._createGradient(ctx);\n          }\n          if (!shadingFill) {\n            const domMatrix = new DOMMatrix(inverse);\n            try {\n              pattern.setTransform(domMatrix);\n            } catch (ex) {\n              (0, _util.warn)(`RadialAxialShadingPattern.getPattern: \"${ex?.message}\".`);\n            }\n          }\n          return pattern;\n        }\n      }\n      function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n        const coords = context.coords,\n          colors = context.colors;\n        const bytes = data.data,\n          rowSize = data.width * 4;\n        let tmp;\n        if (coords[p1 + 1] > coords[p2 + 1]) {\n          tmp = p1;\n          p1 = p2;\n          p2 = tmp;\n          tmp = c1;\n          c1 = c2;\n          c2 = tmp;\n        }\n        if (coords[p2 + 1] > coords[p3 + 1]) {\n          tmp = p2;\n          p2 = p3;\n          p3 = tmp;\n          tmp = c2;\n          c2 = c3;\n          c3 = tmp;\n        }\n        if (coords[p1 + 1] > coords[p2 + 1]) {\n          tmp = p1;\n          p1 = p2;\n          p2 = tmp;\n          tmp = c1;\n          c1 = c2;\n          c2 = tmp;\n        }\n        const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n        const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n        const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n        const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n        const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n        const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n        if (y1 >= y3) {\n          return;\n        }\n        const c1r = colors[c1],\n          c1g = colors[c1 + 1],\n          c1b = colors[c1 + 2];\n        const c2r = colors[c2],\n          c2g = colors[c2 + 1],\n          c2b = colors[c2 + 2];\n        const c3r = colors[c3],\n          c3g = colors[c3 + 1],\n          c3b = colors[c3 + 2];\n        const minY = Math.round(y1),\n          maxY = Math.round(y3);\n        let xa, car, cag, cab;\n        let xb, cbr, cbg, cbb;\n        for (let y = minY; y <= maxY; y++) {\n          if (y < y2) {\n            let k;\n            if (y < y1) {\n              k = 0;\n            } else {\n              k = (y1 - y) / (y1 - y2);\n            }\n            xa = x1 - (x1 - x2) * k;\n            car = c1r - (c1r - c2r) * k;\n            cag = c1g - (c1g - c2g) * k;\n            cab = c1b - (c1b - c2b) * k;\n          } else {\n            let k;\n            if (y > y3) {\n              k = 1;\n            } else if (y2 === y3) {\n              k = 0;\n            } else {\n              k = (y2 - y) / (y2 - y3);\n            }\n            xa = x2 - (x2 - x3) * k;\n            car = c2r - (c2r - c3r) * k;\n            cag = c2g - (c2g - c3g) * k;\n            cab = c2b - (c2b - c3b) * k;\n          }\n          let k;\n          if (y < y1) {\n            k = 0;\n          } else if (y > y3) {\n            k = 1;\n          } else {\n            k = (y1 - y) / (y1 - y3);\n          }\n          xb = x1 - (x1 - x3) * k;\n          cbr = c1r - (c1r - c3r) * k;\n          cbg = c1g - (c1g - c3g) * k;\n          cbb = c1b - (c1b - c3b) * k;\n          const x1_ = Math.round(Math.min(xa, xb));\n          const x2_ = Math.round(Math.max(xa, xb));\n          let j = rowSize * y + x1_ * 4;\n          for (let x = x1_; x <= x2_; x++) {\n            k = (xa - x) / (xa - xb);\n            if (k < 0) {\n              k = 0;\n            } else if (k > 1) {\n              k = 1;\n            }\n            bytes[j++] = car - (car - cbr) * k | 0;\n            bytes[j++] = cag - (cag - cbg) * k | 0;\n            bytes[j++] = cab - (cab - cbb) * k | 0;\n            bytes[j++] = 255;\n          }\n        }\n      }\n      function drawFigure(data, figure, context) {\n        const ps = figure.coords;\n        const cs = figure.colors;\n        let i, ii;\n        switch (figure.type) {\n          case \"lattice\":\n            const verticesPerRow = figure.verticesPerRow;\n            const rows = Math.floor(ps.length / verticesPerRow) - 1;\n            const cols = verticesPerRow - 1;\n            for (i = 0; i < rows; i++) {\n              let q = i * verticesPerRow;\n              for (let j = 0; j < cols; j++, q++) {\n                drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n                drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n              }\n            }\n            break;\n          case \"triangles\":\n            for (i = 0, ii = ps.length; i < ii; i += 3) {\n              drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n            }\n            break;\n          default:\n            throw new Error(\"illegal figure\");\n        }\n      }\n      class MeshShadingPattern extends BaseShadingPattern {\n        constructor(IR) {\n          super();\n          this._coords = IR[2];\n          this._colors = IR[3];\n          this._figures = IR[4];\n          this._bounds = IR[5];\n          this._bbox = IR[7];\n          this._background = IR[8];\n          this.matrix = null;\n        }\n        _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n          const EXPECTED_SCALE = 1.1;\n          const MAX_PATTERN_SIZE = 3000;\n          const BORDER_SIZE = 2;\n          const offsetX = Math.floor(this._bounds[0]);\n          const offsetY = Math.floor(this._bounds[1]);\n          const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n          const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n          const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          const scaleX = boundsWidth / width;\n          const scaleY = boundsHeight / height;\n          const context = {\n            coords: this._coords,\n            colors: this._colors,\n            offsetX: -offsetX,\n            offsetY: -offsetY,\n            scaleX: 1 / scaleX,\n            scaleY: 1 / scaleY\n          };\n          const paddedWidth = width + BORDER_SIZE * 2;\n          const paddedHeight = height + BORDER_SIZE * 2;\n          const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n          const tmpCtx = tmpCanvas.context;\n          const data = tmpCtx.createImageData(width, height);\n          if (backgroundColor) {\n            const bytes = data.data;\n            for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n              bytes[i] = backgroundColor[0];\n              bytes[i + 1] = backgroundColor[1];\n              bytes[i + 2] = backgroundColor[2];\n              bytes[i + 3] = 255;\n            }\n          }\n          for (const figure of this._figures) {\n            drawFigure(data, figure, context);\n          }\n          tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n          const canvas = tmpCanvas.canvas;\n          return {\n            canvas,\n            offsetX: offsetX - BORDER_SIZE * scaleX,\n            offsetY: offsetY - BORDER_SIZE * scaleY,\n            scaleX,\n            scaleY\n          };\n        }\n        getPattern(ctx, owner, inverse, shadingFill = false) {\n          applyBoundingBox(ctx, this._bbox);\n          let scale;\n          if (shadingFill) {\n            scale = _util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n          } else {\n            scale = _util.Util.singularValueDecompose2dScale(owner.baseTransform);\n            if (this.matrix) {\n              const matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n              scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n            }\n          }\n          const temporaryPatternCanvas = this._createMeshCanvas(scale, shadingFill ? null : this._background, owner.cachedCanvases);\n          if (!shadingFill) {\n            ctx.setTransform.apply(ctx, owner.baseTransform);\n            if (this.matrix) {\n              ctx.transform.apply(ctx, this.matrix);\n            }\n          }\n          ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n          ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n          return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n        }\n      }\n      class DummyShadingPattern extends BaseShadingPattern {\n        getPattern() {\n          return \"hotpink\";\n        }\n      }\n      function getShadingPattern(IR, cachedCanvasPatterns) {\n        switch (IR[0]) {\n          case \"RadialAxial\":\n            return new RadialAxialShadingPattern(IR, cachedCanvasPatterns);\n          case \"Mesh\":\n            return new MeshShadingPattern(IR);\n          case \"Dummy\":\n            return new DummyShadingPattern();\n        }\n        throw new Error(`Unknown IR type: ${IR[0]}`);\n      }\n      const PaintType = {\n        COLORED: 1,\n        UNCOLORED: 2\n      };\n      class TilingPattern {\n        static get MAX_PATTERN_SIZE() {\n          return (0, _util.shadow)(this, \"MAX_PATTERN_SIZE\", 3000);\n        }\n        constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n          this.operatorList = IR[2];\n          this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n          this.bbox = IR[4];\n          this.xstep = IR[5];\n          this.ystep = IR[6];\n          this.paintType = IR[7];\n          this.tilingType = IR[8];\n          this.color = color;\n          this.ctx = ctx;\n          this.canvasGraphicsFactory = canvasGraphicsFactory;\n          this.baseTransform = baseTransform;\n        }\n        createPatternCanvas(owner) {\n          const operatorList = this.operatorList;\n          const bbox = this.bbox;\n          const xstep = this.xstep;\n          const ystep = this.ystep;\n          const paintType = this.paintType;\n          const tilingType = this.tilingType;\n          const color = this.color;\n          const canvasGraphicsFactory = this.canvasGraphicsFactory;\n          (0, _util.info)(\"TilingType: \" + tilingType);\n          const x0 = bbox[0],\n            y0 = bbox[1],\n            x1 = bbox[2],\n            y1 = bbox[3];\n          const matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n          const curMatrixScale = _util.Util.singularValueDecompose2dScale(this.baseTransform);\n          const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n          const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n          const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n          const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n          const tmpCtx = tmpCanvas.context;\n          const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n          graphics.groupLevel = owner.groupLevel;\n          this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n          let adjustedX0 = x0;\n          let adjustedY0 = y0;\n          let adjustedX1 = x1;\n          let adjustedY1 = y1;\n          if (x0 < 0) {\n            adjustedX0 = 0;\n            adjustedX1 += Math.abs(x0);\n          }\n          if (y0 < 0) {\n            adjustedY0 = 0;\n            adjustedY1 += Math.abs(y0);\n          }\n          tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n          graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n          this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n          graphics.baseTransform = graphics.ctx.mozCurrentTransform.slice();\n          graphics.executeOperatorList(operatorList);\n          graphics.endDrawing();\n          return {\n            canvas: tmpCanvas.canvas,\n            scaleX: dimx.scale,\n            scaleY: dimy.scale,\n            offsetX: adjustedX0,\n            offsetY: adjustedY0\n          };\n        }\n        getSizeAndScale(step, realOutputSize, scale) {\n          step = Math.abs(step);\n          const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n          let size = Math.ceil(step * scale);\n          if (size >= maxSize) {\n            size = maxSize;\n          } else {\n            scale = size / step;\n          }\n          return {\n            scale,\n            size\n          };\n        }\n        clipBbox(graphics, x0, y0, x1, y1) {\n          const bboxWidth = x1 - x0;\n          const bboxHeight = y1 - y0;\n          graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n          graphics.clip();\n          graphics.endPath();\n        }\n        setFillAndStrokeStyleToContext(graphics, paintType, color) {\n          const context = graphics.ctx,\n            current = graphics.current;\n          switch (paintType) {\n            case PaintType.COLORED:\n              const ctx = this.ctx;\n              context.fillStyle = ctx.fillStyle;\n              context.strokeStyle = ctx.strokeStyle;\n              current.fillColor = ctx.fillStyle;\n              current.strokeColor = ctx.strokeStyle;\n              break;\n            case PaintType.UNCOLORED:\n              const cssColor = _util.Util.makeHexColor(color[0], color[1], color[2]);\n              context.fillStyle = cssColor;\n              context.strokeStyle = cssColor;\n              current.fillColor = cssColor;\n              current.strokeColor = cssColor;\n              break;\n            default:\n              throw new _util.FormatError(`Unsupported paint type: ${paintType}`);\n          }\n        }\n        getPattern(ctx, owner, inverse, shadingFill = false) {\n          let matrix = inverse;\n          if (!shadingFill) {\n            matrix = _util.Util.transform(matrix, owner.baseTransform);\n            if (this.matrix) {\n              matrix = _util.Util.transform(matrix, this.matrix);\n            }\n          }\n          const temporaryPatternCanvas = this.createPatternCanvas(owner);\n          let domMatrix = new DOMMatrix(matrix);\n          domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n          domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n          const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n          try {\n            pattern.setTransform(domMatrix);\n          } catch (ex) {\n            (0, _util.warn)(`TilingPattern.getPattern: \"${ex?.message}\".`);\n          }\n          return pattern;\n        }\n      }\n      exports.TilingPattern = TilingPattern;\n\n      /***/\n    }), (/* 12 */\n    /***/(__unused_webpack_module, exports) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GlobalWorkerOptions = void 0;\n      const GlobalWorkerOptions = Object.create(null);\n      exports.GlobalWorkerOptions = GlobalWorkerOptions;\n      GlobalWorkerOptions.workerPort = GlobalWorkerOptions.workerPort === undefined ? null : GlobalWorkerOptions.workerPort;\n      GlobalWorkerOptions.workerSrc = GlobalWorkerOptions.workerSrc === undefined ? \"\" : GlobalWorkerOptions.workerSrc;\n\n      /***/\n    }), (/* 13 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MessageHandler = void 0;\n      var _util = __w_pdfjs_require__(2);\n      const CallbackKind = {\n        UNKNOWN: 0,\n        DATA: 1,\n        ERROR: 2\n      };\n      const StreamKind = {\n        UNKNOWN: 0,\n        CANCEL: 1,\n        CANCEL_COMPLETE: 2,\n        CLOSE: 3,\n        ENQUEUE: 4,\n        ERROR: 5,\n        PULL: 6,\n        PULL_COMPLETE: 7,\n        START_COMPLETE: 8\n      };\n      function wrapReason(reason) {\n        if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n          (0, _util.warn)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n          return reason;\n        }\n        switch (reason.name) {\n          case \"AbortException\":\n            return new _util.AbortException(reason.message);\n          case \"MissingPDFException\":\n            return new _util.MissingPDFException(reason.message);\n          case \"PasswordException\":\n            return new _util.PasswordException(reason.message, reason.code);\n          case \"UnexpectedResponseException\":\n            return new _util.UnexpectedResponseException(reason.message, reason.status);\n          case \"UnknownErrorException\":\n            return new _util.UnknownErrorException(reason.message, reason.details);\n          default:\n            return new _util.UnknownErrorException(reason.message, reason.toString());\n        }\n      }\n      class MessageHandler {\n        constructor(sourceName, targetName, comObj) {\n          this.sourceName = sourceName;\n          this.targetName = targetName;\n          this.comObj = comObj;\n          this.callbackId = 1;\n          this.streamId = 1;\n          this.postMessageTransfers = true;\n          this.streamSinks = Object.create(null);\n          this.streamControllers = Object.create(null);\n          this.callbackCapabilities = Object.create(null);\n          this.actionHandler = Object.create(null);\n          this._onComObjOnMessage = event => {\n            const data = event.data;\n            if (data.targetName !== this.sourceName) {\n              return;\n            }\n            if (data.stream) {\n              this._processStreamMessage(data);\n              return;\n            }\n            if (data.callback) {\n              const callbackId = data.callbackId;\n              const capability = this.callbackCapabilities[callbackId];\n              if (!capability) {\n                throw new Error(`Cannot resolve callback ${callbackId}`);\n              }\n              delete this.callbackCapabilities[callbackId];\n              if (data.callback === CallbackKind.DATA) {\n                capability.resolve(data.data);\n              } else if (data.callback === CallbackKind.ERROR) {\n                capability.reject(wrapReason(data.reason));\n              } else {\n                throw new Error(\"Unexpected callback case\");\n              }\n              return;\n            }\n            const action = this.actionHandler[data.action];\n            if (!action) {\n              throw new Error(`Unknown action from worker: ${data.action}`);\n            }\n            if (data.callbackId) {\n              const cbSourceName = this.sourceName;\n              const cbTargetName = data.sourceName;\n              new Promise(function (resolve) {\n                resolve(action(data.data));\n              }).then(function (result) {\n                comObj.postMessage({\n                  sourceName: cbSourceName,\n                  targetName: cbTargetName,\n                  callback: CallbackKind.DATA,\n                  callbackId: data.callbackId,\n                  data: result\n                });\n              }, function (reason) {\n                comObj.postMessage({\n                  sourceName: cbSourceName,\n                  targetName: cbTargetName,\n                  callback: CallbackKind.ERROR,\n                  callbackId: data.callbackId,\n                  reason: wrapReason(reason)\n                });\n              });\n              return;\n            }\n            if (data.streamId) {\n              this._createStreamSink(data);\n              return;\n            }\n            action(data.data);\n          };\n          comObj.addEventListener(\"message\", this._onComObjOnMessage);\n        }\n        on(actionName, handler) {\n          const ah = this.actionHandler;\n          if (ah[actionName]) {\n            throw new Error(`There is already an actionName called \"${actionName}\"`);\n          }\n          ah[actionName] = handler;\n        }\n        send(actionName, data, transfers) {\n          this._postMessage({\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data\n          }, transfers);\n        }\n        sendWithPromise(actionName, data, transfers) {\n          const callbackId = this.callbackId++;\n          const capability = (0, _util.createPromiseCapability)();\n          this.callbackCapabilities[callbackId] = capability;\n          try {\n            this._postMessage({\n              sourceName: this.sourceName,\n              targetName: this.targetName,\n              action: actionName,\n              callbackId,\n              data\n            }, transfers);\n          } catch (ex) {\n            capability.reject(ex);\n          }\n          return capability.promise;\n        }\n        sendWithStream(actionName, data, queueingStrategy, transfers) {\n          const streamId = this.streamId++,\n            sourceName = this.sourceName,\n            targetName = this.targetName,\n            comObj = this.comObj;\n          return new ReadableStream({\n            start: controller => {\n              const startCapability = (0, _util.createPromiseCapability)();\n              this.streamControllers[streamId] = {\n                controller,\n                startCall: startCapability,\n                pullCall: null,\n                cancelCall: null,\n                isClosed: false\n              };\n              this._postMessage({\n                sourceName,\n                targetName,\n                action: actionName,\n                streamId,\n                data,\n                desiredSize: controller.desiredSize\n              }, transfers);\n              return startCapability.promise;\n            },\n            pull: controller => {\n              const pullCapability = (0, _util.createPromiseCapability)();\n              this.streamControllers[streamId].pullCall = pullCapability;\n              comObj.postMessage({\n                sourceName,\n                targetName,\n                stream: StreamKind.PULL,\n                streamId,\n                desiredSize: controller.desiredSize\n              });\n              return pullCapability.promise;\n            },\n            cancel: reason => {\n              (0, _util.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n              const cancelCapability = (0, _util.createPromiseCapability)();\n              this.streamControllers[streamId].cancelCall = cancelCapability;\n              this.streamControllers[streamId].isClosed = true;\n              comObj.postMessage({\n                sourceName,\n                targetName,\n                stream: StreamKind.CANCEL,\n                streamId,\n                reason: wrapReason(reason)\n              });\n              return cancelCapability.promise;\n            }\n          }, queueingStrategy);\n        }\n        _createStreamSink(data) {\n          const streamId = data.streamId,\n            sourceName = this.sourceName,\n            targetName = data.sourceName,\n            comObj = this.comObj;\n          const self = this,\n            action = this.actionHandler[data.action];\n          const streamSink = {\n            enqueue(chunk, size = 1, transfers) {\n              if (this.isCancelled) {\n                return;\n              }\n              const lastDesiredSize = this.desiredSize;\n              this.desiredSize -= size;\n              if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n                this.sinkCapability = (0, _util.createPromiseCapability)();\n                this.ready = this.sinkCapability.promise;\n              }\n              self._postMessage({\n                sourceName,\n                targetName,\n                stream: StreamKind.ENQUEUE,\n                streamId,\n                chunk\n              }, transfers);\n            },\n            close() {\n              if (this.isCancelled) {\n                return;\n              }\n              this.isCancelled = true;\n              comObj.postMessage({\n                sourceName,\n                targetName,\n                stream: StreamKind.CLOSE,\n                streamId\n              });\n              delete self.streamSinks[streamId];\n            },\n            error(reason) {\n              (0, _util.assert)(reason instanceof Error, \"error must have a valid reason\");\n              if (this.isCancelled) {\n                return;\n              }\n              this.isCancelled = true;\n              comObj.postMessage({\n                sourceName,\n                targetName,\n                stream: StreamKind.ERROR,\n                streamId,\n                reason: wrapReason(reason)\n              });\n            },\n            sinkCapability: (0, _util.createPromiseCapability)(),\n            onPull: null,\n            onCancel: null,\n            isCancelled: false,\n            desiredSize: data.desiredSize,\n            ready: null\n          };\n          streamSink.sinkCapability.resolve();\n          streamSink.ready = streamSink.sinkCapability.promise;\n          this.streamSinks[streamId] = streamSink;\n          new Promise(function (resolve) {\n            resolve(action(data.data, streamSink));\n          }).then(function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.START_COMPLETE,\n              streamId,\n              success: true\n            });\n          }, function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.START_COMPLETE,\n              streamId,\n              reason: wrapReason(reason)\n            });\n          });\n        }\n        _processStreamMessage(data) {\n          const streamId = data.streamId,\n            sourceName = this.sourceName,\n            targetName = data.sourceName,\n            comObj = this.comObj;\n          const streamController = this.streamControllers[streamId],\n            streamSink = this.streamSinks[streamId];\n          switch (data.stream) {\n            case StreamKind.START_COMPLETE:\n              if (data.success) {\n                streamController.startCall.resolve();\n              } else {\n                streamController.startCall.reject(wrapReason(data.reason));\n              }\n              break;\n            case StreamKind.PULL_COMPLETE:\n              if (data.success) {\n                streamController.pullCall.resolve();\n              } else {\n                streamController.pullCall.reject(wrapReason(data.reason));\n              }\n              break;\n            case StreamKind.PULL:\n              if (!streamSink) {\n                comObj.postMessage({\n                  sourceName,\n                  targetName,\n                  stream: StreamKind.PULL_COMPLETE,\n                  streamId,\n                  success: true\n                });\n                break;\n              }\n              if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n                streamSink.sinkCapability.resolve();\n              }\n              streamSink.desiredSize = data.desiredSize;\n              new Promise(function (resolve) {\n                resolve(streamSink.onPull && streamSink.onPull());\n              }).then(function () {\n                comObj.postMessage({\n                  sourceName,\n                  targetName,\n                  stream: StreamKind.PULL_COMPLETE,\n                  streamId,\n                  success: true\n                });\n              }, function (reason) {\n                comObj.postMessage({\n                  sourceName,\n                  targetName,\n                  stream: StreamKind.PULL_COMPLETE,\n                  streamId,\n                  reason: wrapReason(reason)\n                });\n              });\n              break;\n            case StreamKind.ENQUEUE:\n              (0, _util.assert)(streamController, \"enqueue should have stream controller\");\n              if (streamController.isClosed) {\n                break;\n              }\n              streamController.controller.enqueue(data.chunk);\n              break;\n            case StreamKind.CLOSE:\n              (0, _util.assert)(streamController, \"close should have stream controller\");\n              if (streamController.isClosed) {\n                break;\n              }\n              streamController.isClosed = true;\n              streamController.controller.close();\n              this._deleteStreamController(streamController, streamId);\n              break;\n            case StreamKind.ERROR:\n              (0, _util.assert)(streamController, \"error should have stream controller\");\n              streamController.controller.error(wrapReason(data.reason));\n              this._deleteStreamController(streamController, streamId);\n              break;\n            case StreamKind.CANCEL_COMPLETE:\n              if (data.success) {\n                streamController.cancelCall.resolve();\n              } else {\n                streamController.cancelCall.reject(wrapReason(data.reason));\n              }\n              this._deleteStreamController(streamController, streamId);\n              break;\n            case StreamKind.CANCEL:\n              if (!streamSink) {\n                break;\n              }\n              new Promise(function (resolve) {\n                resolve(streamSink.onCancel && streamSink.onCancel(wrapReason(data.reason)));\n              }).then(function () {\n                comObj.postMessage({\n                  sourceName,\n                  targetName,\n                  stream: StreamKind.CANCEL_COMPLETE,\n                  streamId,\n                  success: true\n                });\n              }, function (reason) {\n                comObj.postMessage({\n                  sourceName,\n                  targetName,\n                  stream: StreamKind.CANCEL_COMPLETE,\n                  streamId,\n                  reason: wrapReason(reason)\n                });\n              });\n              streamSink.sinkCapability.reject(wrapReason(data.reason));\n              streamSink.isCancelled = true;\n              delete this.streamSinks[streamId];\n              break;\n            default:\n              throw new Error(\"Unexpected stream case\");\n          }\n        }\n        async _deleteStreamController(streamController, streamId) {\n          await Promise.allSettled([streamController.startCall && streamController.startCall.promise, streamController.pullCall && streamController.pullCall.promise, streamController.cancelCall && streamController.cancelCall.promise]);\n          delete this.streamControllers[streamId];\n        }\n        _postMessage(message, transfers) {\n          if (transfers && this.postMessageTransfers) {\n            this.comObj.postMessage(message, transfers);\n          } else {\n            this.comObj.postMessage(message);\n          }\n        }\n        destroy() {\n          this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n        }\n      }\n      exports.MessageHandler = MessageHandler;\n\n      /***/\n    }), (/* 14 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Metadata = void 0;\n      var _util = __w_pdfjs_require__(2);\n      class Metadata {\n        constructor({\n          parsedData,\n          rawData\n        }) {\n          this._metadataMap = parsedData;\n          this._data = rawData;\n        }\n        getRaw() {\n          return this._data;\n        }\n        get(name) {\n          return this._metadataMap.get(name) ?? null;\n        }\n        getAll() {\n          return (0, _util.objectFromMap)(this._metadataMap);\n        }\n        has(name) {\n          return this._metadataMap.has(name);\n        }\n      }\n      exports.Metadata = Metadata;\n\n      /***/\n    }), (/* 15 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OptionalContentConfig = void 0;\n      var _util = __w_pdfjs_require__(2);\n      class OptionalContentGroup {\n        constructor(name, intent) {\n          this.visible = true;\n          this.name = name;\n          this.intent = intent;\n        }\n      }\n      class OptionalContentConfig {\n        constructor(data) {\n          this.name = null;\n          this.creator = null;\n          this._order = null;\n          this._groups = new Map();\n          if (data === null) {\n            return;\n          }\n          this.name = data.name;\n          this.creator = data.creator;\n          this._order = data.order;\n          for (const group of data.groups) {\n            this._groups.set(group.id, new OptionalContentGroup(group.name, group.intent));\n          }\n          if (data.baseState === \"OFF\") {\n            for (const group of this._groups) {\n              group.visible = false;\n            }\n          }\n          for (const on of data.on) {\n            this._groups.get(on).visible = true;\n          }\n          for (const off of data.off) {\n            this._groups.get(off).visible = false;\n          }\n        }\n        _evaluateVisibilityExpression(array) {\n          const length = array.length;\n          if (length < 2) {\n            return true;\n          }\n          const operator = array[0];\n          for (let i = 1; i < length; i++) {\n            const element = array[i];\n            let state;\n            if (Array.isArray(element)) {\n              state = this._evaluateVisibilityExpression(element);\n            } else if (this._groups.has(element)) {\n              state = this._groups.get(element).visible;\n            } else {\n              (0, _util.warn)(`Optional content group not found: ${element}`);\n              return true;\n            }\n            switch (operator) {\n              case \"And\":\n                if (!state) {\n                  return false;\n                }\n                break;\n              case \"Or\":\n                if (state) {\n                  return true;\n                }\n                break;\n              case \"Not\":\n                return !state;\n              default:\n                return true;\n            }\n          }\n          return operator === \"And\";\n        }\n        isVisible(group) {\n          if (this._groups.size === 0) {\n            return true;\n          }\n          if (!group) {\n            (0, _util.warn)(\"Optional content group not defined.\");\n            return true;\n          }\n          if (group.type === \"OCG\") {\n            if (!this._groups.has(group.id)) {\n              (0, _util.warn)(`Optional content group not found: ${group.id}`);\n              return true;\n            }\n            return this._groups.get(group.id).visible;\n          } else if (group.type === \"OCMD\") {\n            if (group.expression) {\n              return this._evaluateVisibilityExpression(group.expression);\n            }\n            if (!group.policy || group.policy === \"AnyOn\") {\n              for (const id of group.ids) {\n                if (!this._groups.has(id)) {\n                  (0, _util.warn)(`Optional content group not found: ${id}`);\n                  return true;\n                }\n                if (this._groups.get(id).visible) {\n                  return true;\n                }\n              }\n              return false;\n            } else if (group.policy === \"AllOn\") {\n              for (const id of group.ids) {\n                if (!this._groups.has(id)) {\n                  (0, _util.warn)(`Optional content group not found: ${id}`);\n                  return true;\n                }\n                if (!this._groups.get(id).visible) {\n                  return false;\n                }\n              }\n              return true;\n            } else if (group.policy === \"AnyOff\") {\n              for (const id of group.ids) {\n                if (!this._groups.has(id)) {\n                  (0, _util.warn)(`Optional content group not found: ${id}`);\n                  return true;\n                }\n                if (!this._groups.get(id).visible) {\n                  return true;\n                }\n              }\n              return false;\n            } else if (group.policy === \"AllOff\") {\n              for (const id of group.ids) {\n                if (!this._groups.has(id)) {\n                  (0, _util.warn)(`Optional content group not found: ${id}`);\n                  return true;\n                }\n                if (this._groups.get(id).visible) {\n                  return false;\n                }\n              }\n              return true;\n            }\n            (0, _util.warn)(`Unknown optional content policy ${group.policy}.`);\n            return true;\n          }\n          (0, _util.warn)(`Unknown group type ${group.type}.`);\n          return true;\n        }\n        setVisibility(id, visible = true) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return;\n          }\n          this._groups.get(id).visible = !!visible;\n        }\n        getOrder() {\n          if (!this._groups.size) {\n            return null;\n          }\n          if (this._order) {\n            return this._order.slice();\n          }\n          return Array.from(this._groups.keys());\n        }\n        getGroups() {\n          return this._groups.size > 0 ? (0, _util.objectFromMap)(this._groups) : null;\n        }\n        getGroup(id) {\n          return this._groups.get(id) || null;\n        }\n      }\n      exports.OptionalContentConfig = OptionalContentConfig;\n\n      /***/\n    }), (/* 16 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFDataTransportStream = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _display_utils = __w_pdfjs_require__(1);\n      class PDFDataTransportStream {\n        constructor(params, pdfDataRangeTransport) {\n          (0, _util.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n          this._queuedChunks = [];\n          this._progressiveDone = params.progressiveDone || false;\n          this._contentDispositionFilename = params.contentDispositionFilename || null;\n          const initialData = params.initialData;\n          if (initialData?.length > 0) {\n            const buffer = new Uint8Array(initialData).buffer;\n            this._queuedChunks.push(buffer);\n          }\n          this._pdfDataRangeTransport = pdfDataRangeTransport;\n          this._isStreamingSupported = !params.disableStream;\n          this._isRangeSupported = !params.disableRange;\n          this._contentLength = params.length;\n          this._fullRequestReader = null;\n          this._rangeReaders = [];\n          this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n            this._onReceiveData({\n              begin,\n              chunk\n            });\n          });\n          this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n            this._onProgress({\n              loaded,\n              total\n            });\n          });\n          this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n            this._onReceiveData({\n              chunk\n            });\n          });\n          this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n            this._onProgressiveDone();\n          });\n          this._pdfDataRangeTransport.transportReady();\n        }\n        _onReceiveData(args) {\n          const buffer = new Uint8Array(args.chunk).buffer;\n          if (args.begin === undefined) {\n            if (this._fullRequestReader) {\n              this._fullRequestReader._enqueue(buffer);\n            } else {\n              this._queuedChunks.push(buffer);\n            }\n          } else {\n            const found = this._rangeReaders.some(function (rangeReader) {\n              if (rangeReader._begin !== args.begin) {\n                return false;\n              }\n              rangeReader._enqueue(buffer);\n              return true;\n            });\n            (0, _util.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n          }\n        }\n        get _progressiveDataLength() {\n          return this._fullRequestReader?._loaded ?? 0;\n        }\n        _onProgress(evt) {\n          if (evt.total === undefined) {\n            const firstReader = this._rangeReaders[0];\n            if (firstReader?.onProgress) {\n              firstReader.onProgress({\n                loaded: evt.loaded\n              });\n            }\n          } else {\n            const fullReader = this._fullRequestReader;\n            if (fullReader?.onProgress) {\n              fullReader.onProgress({\n                loaded: evt.loaded,\n                total: evt.total\n              });\n            }\n          }\n        }\n        _onProgressiveDone() {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.progressiveDone();\n          }\n          this._progressiveDone = true;\n        }\n        _removeRangeReader(reader) {\n          const i = this._rangeReaders.indexOf(reader);\n          if (i >= 0) {\n            this._rangeReaders.splice(i, 1);\n          }\n        }\n        getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n          const queuedChunks = this._queuedChunks;\n          this._queuedChunks = null;\n          return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n        }\n        getRangeReader(begin, end) {\n          if (end <= this._progressiveDataLength) {\n            return null;\n          }\n          const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n          this._pdfDataRangeTransport.requestDataRange(begin, end);\n          this._rangeReaders.push(reader);\n          return reader;\n        }\n        cancelAllRequests(reason) {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.cancel(reason);\n          }\n          for (const reader of this._rangeReaders.slice(0)) {\n            reader.cancel(reason);\n          }\n          this._pdfDataRangeTransport.abort();\n        }\n      }\n      exports.PDFDataTransportStream = PDFDataTransportStream;\n      class PDFDataTransportStreamReader {\n        constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n          this._stream = stream;\n          this._done = progressiveDone || false;\n          this._filename = (0, _display_utils.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n          this._queuedChunks = queuedChunks || [];\n          this._loaded = 0;\n          for (const chunk of this._queuedChunks) {\n            this._loaded += chunk.byteLength;\n          }\n          this._requests = [];\n          this._headersReady = Promise.resolve();\n          stream._fullRequestReader = this;\n          this.onProgress = null;\n        }\n        _enqueue(chunk) {\n          if (this._done) {\n            return;\n          }\n          if (this._requests.length > 0) {\n            const requestCapability = this._requests.shift();\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._queuedChunks.push(chunk);\n          }\n          this._loaded += chunk.byteLength;\n        }\n        get headersReady() {\n          return this._headersReady;\n        }\n        get filename() {\n          return this._filename;\n        }\n        get isRangeSupported() {\n          return this._stream._isRangeSupported;\n        }\n        get isStreamingSupported() {\n          return this._stream._isStreamingSupported;\n        }\n        get contentLength() {\n          return this._stream._contentLength;\n        }\n        async read() {\n          if (this._queuedChunks.length > 0) {\n            const chunk = this._queuedChunks.shift();\n            return {\n              value: chunk,\n              done: false\n            };\n          }\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          const requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        }\n        cancel(reason) {\n          this._done = true;\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n        }\n        progressiveDone() {\n          if (this._done) {\n            return;\n          }\n          this._done = true;\n        }\n      }\n      class PDFDataTransportStreamRangeReader {\n        constructor(stream, begin, end) {\n          this._stream = stream;\n          this._begin = begin;\n          this._end = end;\n          this._queuedChunk = null;\n          this._requests = [];\n          this._done = false;\n          this.onProgress = null;\n        }\n        _enqueue(chunk) {\n          if (this._done) {\n            return;\n          }\n          if (this._requests.length === 0) {\n            this._queuedChunk = chunk;\n          } else {\n            const requestsCapability = this._requests.shift();\n            requestsCapability.resolve({\n              value: chunk,\n              done: false\n            });\n            for (const requestCapability of this._requests) {\n              requestCapability.resolve({\n                value: undefined,\n                done: true\n              });\n            }\n            this._requests.length = 0;\n          }\n          this._done = true;\n          this._stream._removeRangeReader(this);\n        }\n        get isStreamingSupported() {\n          return false;\n        }\n        async read() {\n          if (this._queuedChunk) {\n            const chunk = this._queuedChunk;\n            this._queuedChunk = null;\n            return {\n              value: chunk,\n              done: false\n            };\n          }\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          const requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        }\n        cancel(reason) {\n          this._done = true;\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n          this._stream._removeRangeReader(this);\n        }\n      }\n\n      /***/\n    }), (/* 17 */\n    /***/(__unused_webpack_module, exports) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.XfaText = void 0;\n      class XfaText {\n        static textContent(xfa) {\n          const items = [];\n          const output = {\n            items,\n            styles: Object.create(null)\n          };\n          function walk(node) {\n            if (!node) {\n              return;\n            }\n            let str = null;\n            const name = node.name;\n            if (name === \"#text\") {\n              str = node.value;\n            } else if (!XfaText.shouldBuildText(name)) {\n              return;\n            } else if (node?.attributes?.textContent) {\n              str = node.attributes.textContent;\n            } else if (node.value) {\n              str = node.value;\n            }\n            if (str !== null) {\n              items.push({\n                str\n              });\n            }\n            if (!node.children) {\n              return;\n            }\n            for (const child of node.children) {\n              walk(child);\n            }\n          }\n          walk(xfa);\n          return output;\n        }\n        static shouldBuildText(name) {\n          return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n        }\n      }\n      exports.XfaText = XfaText;\n\n      /***/\n    }), (/* 18 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AnnotationLayer = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _display_utils = __w_pdfjs_require__(1);\n      var _annotation_storage = __w_pdfjs_require__(9);\n      var _scripting_utils = __w_pdfjs_require__(19);\n      const DEFAULT_TAB_INDEX = 1000;\n      const GetElementsByNameSet = new WeakSet();\n      class AnnotationElementFactory {\n        static create(parameters) {\n          const subtype = parameters.data.annotationType;\n          switch (subtype) {\n            case _util.AnnotationType.LINK:\n              return new LinkAnnotationElement(parameters);\n            case _util.AnnotationType.TEXT:\n              return new TextAnnotationElement(parameters);\n            case _util.AnnotationType.WIDGET:\n              const fieldType = parameters.data.fieldType;\n              switch (fieldType) {\n                case \"Tx\":\n                  return new TextWidgetAnnotationElement(parameters);\n                case \"Btn\":\n                  if (parameters.data.radioButton) {\n                    return new RadioButtonWidgetAnnotationElement(parameters);\n                  } else if (parameters.data.checkBox) {\n                    return new CheckboxWidgetAnnotationElement(parameters);\n                  }\n                  return new PushButtonWidgetAnnotationElement(parameters);\n                case \"Ch\":\n                  return new ChoiceWidgetAnnotationElement(parameters);\n              }\n              return new WidgetAnnotationElement(parameters);\n            case _util.AnnotationType.POPUP:\n              return new PopupAnnotationElement(parameters);\n            case _util.AnnotationType.FREETEXT:\n              return new FreeTextAnnotationElement(parameters);\n            case _util.AnnotationType.LINE:\n              return new LineAnnotationElement(parameters);\n            case _util.AnnotationType.SQUARE:\n              return new SquareAnnotationElement(parameters);\n            case _util.AnnotationType.CIRCLE:\n              return new CircleAnnotationElement(parameters);\n            case _util.AnnotationType.POLYLINE:\n              return new PolylineAnnotationElement(parameters);\n            case _util.AnnotationType.CARET:\n              return new CaretAnnotationElement(parameters);\n            case _util.AnnotationType.INK:\n              return new InkAnnotationElement(parameters);\n            case _util.AnnotationType.POLYGON:\n              return new PolygonAnnotationElement(parameters);\n            case _util.AnnotationType.HIGHLIGHT:\n              return new HighlightAnnotationElement(parameters);\n            case _util.AnnotationType.UNDERLINE:\n              return new UnderlineAnnotationElement(parameters);\n            case _util.AnnotationType.SQUIGGLY:\n              return new SquigglyAnnotationElement(parameters);\n            case _util.AnnotationType.STRIKEOUT:\n              return new StrikeOutAnnotationElement(parameters);\n            case _util.AnnotationType.STAMP:\n              return new StampAnnotationElement(parameters);\n            case _util.AnnotationType.FILEATTACHMENT:\n              return new FileAttachmentAnnotationElement(parameters);\n            default:\n              return new AnnotationElement(parameters);\n          }\n        }\n      }\n      class AnnotationElement {\n        constructor(parameters, {\n          isRenderable = false,\n          ignoreBorder = false,\n          createQuadrilaterals = false\n        } = {}) {\n          this.isRenderable = isRenderable;\n          this.data = parameters.data;\n          this.layer = parameters.layer;\n          this.page = parameters.page;\n          this.viewport = parameters.viewport;\n          this.linkService = parameters.linkService;\n          this.downloadManager = parameters.downloadManager;\n          this.imageResourcesPath = parameters.imageResourcesPath;\n          this.renderForms = parameters.renderForms;\n          this.svgFactory = parameters.svgFactory;\n          this.annotationStorage = parameters.annotationStorage;\n          this.enableScripting = parameters.enableScripting;\n          this.hasJSActions = parameters.hasJSActions;\n          this._fieldObjects = parameters.fieldObjects;\n          this._mouseState = parameters.mouseState;\n          if (isRenderable) {\n            this.container = this._createContainer(ignoreBorder);\n          }\n          if (createQuadrilaterals) {\n            this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n          }\n        }\n        _createContainer(ignoreBorder = false) {\n          const data = this.data,\n            page = this.page,\n            viewport = this.viewport;\n          const container = document.createElement(\"section\");\n          let width = data.rect[2] - data.rect[0];\n          let height = data.rect[3] - data.rect[1];\n          container.setAttribute(\"data-annotation-id\", data.id);\n          const rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n          container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n          container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n          if (!ignoreBorder && data.borderStyle.width > 0) {\n            container.style.borderWidth = `${data.borderStyle.width}px`;\n            if (data.borderStyle.style !== _util.AnnotationBorderStyleType.UNDERLINE) {\n              width -= 2 * data.borderStyle.width;\n              height -= 2 * data.borderStyle.width;\n            }\n            const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n            const verticalRadius = data.borderStyle.verticalCornerRadius;\n            if (horizontalRadius > 0 || verticalRadius > 0) {\n              const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n              container.style.borderRadius = radius;\n            }\n            switch (data.borderStyle.style) {\n              case _util.AnnotationBorderStyleType.SOLID:\n                container.style.borderStyle = \"solid\";\n                break;\n              case _util.AnnotationBorderStyleType.DASHED:\n                container.style.borderStyle = \"dashed\";\n                break;\n              case _util.AnnotationBorderStyleType.BEVELED:\n                (0, _util.warn)(\"Unimplemented border style: beveled\");\n                break;\n              case _util.AnnotationBorderStyleType.INSET:\n                (0, _util.warn)(\"Unimplemented border style: inset\");\n                break;\n              case _util.AnnotationBorderStyleType.UNDERLINE:\n                container.style.borderBottomStyle = \"solid\";\n                break;\n              default:\n                break;\n            }\n            const borderColor = data.borderColor || data.color || null;\n            if (borderColor) {\n              container.style.borderColor = _util.Util.makeHexColor(data.color[0] | 0, data.color[1] | 0, data.color[2] | 0);\n            } else {\n              container.style.borderWidth = 0;\n            }\n          }\n          container.style.left = `${rect[0]}px`;\n          container.style.top = `${rect[1]}px`;\n          container.style.width = `${width}px`;\n          container.style.height = `${height}px`;\n          return container;\n        }\n        _createQuadrilaterals(ignoreBorder = false) {\n          if (!this.data.quadPoints) {\n            return null;\n          }\n          const quadrilaterals = [];\n          const savedRect = this.data.rect;\n          for (const quadPoint of this.data.quadPoints) {\n            this.data.rect = [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y];\n            quadrilaterals.push(this._createContainer(ignoreBorder));\n          }\n          this.data.rect = savedRect;\n          return quadrilaterals;\n        }\n        _createPopup(trigger, data) {\n          let container = this.container;\n          if (this.quadrilaterals) {\n            trigger = trigger || this.quadrilaterals;\n            container = this.quadrilaterals[0];\n          }\n          if (!trigger) {\n            trigger = document.createElement(\"div\");\n            trigger.style.height = container.style.height;\n            trigger.style.width = container.style.width;\n            container.appendChild(trigger);\n          }\n          const popupElement = new PopupElement({\n            container,\n            trigger,\n            color: data.color,\n            titleObj: data.titleObj,\n            modificationDate: data.modificationDate,\n            contentsObj: data.contentsObj,\n            hideWrapper: true\n          });\n          const popup = popupElement.render();\n          popup.style.left = container.style.width;\n          container.appendChild(popup);\n        }\n        _renderQuadrilaterals(className) {\n          for (const quadrilateral of this.quadrilaterals) {\n            quadrilateral.className = className;\n          }\n          return this.quadrilaterals;\n        }\n        render() {\n          (0, _util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n        }\n        _getElementsByName(name, skipId = null) {\n          const fields = [];\n          if (this._fieldObjects) {\n            const fieldObj = this._fieldObjects[name];\n            if (fieldObj) {\n              for (const {\n                page,\n                id,\n                exportValues\n              } of fieldObj) {\n                if (page === -1) {\n                  continue;\n                }\n                if (id === skipId) {\n                  continue;\n                }\n                const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n                const domElement = document.getElementById(id);\n                if (domElement && !GetElementsByNameSet.has(domElement)) {\n                  (0, _util.warn)(`_getElementsByName - element not allowed: ${id}`);\n                  continue;\n                }\n                fields.push({\n                  id,\n                  exportValue,\n                  domElement\n                });\n              }\n            }\n            return fields;\n          }\n          for (const domElement of document.getElementsByName(name)) {\n            const {\n              id,\n              exportValue\n            } = domElement;\n            if (id === skipId) {\n              continue;\n            }\n            if (!GetElementsByNameSet.has(domElement)) {\n              continue;\n            }\n            fields.push({\n              id,\n              exportValue,\n              domElement\n            });\n          }\n          return fields;\n        }\n        static get platform() {\n          const platform = typeof navigator !== \"undefined\" ? navigator.platform : \"\";\n          return (0, _util.shadow)(this, \"platform\", {\n            isWin: platform.includes(\"Win\"),\n            isMac: platform.includes(\"Mac\")\n          });\n        }\n      }\n      class LinkAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.url || parameters.data.dest || parameters.data.action || parameters.data.isTooltipOnly || parameters.data.resetForm || parameters.data.actions && (parameters.data.actions.Action || parameters.data.actions[\"Mouse Up\"] || parameters.data.actions[\"Mouse Down\"]));\n          super(parameters, {\n            isRenderable,\n            createQuadrilaterals: true\n          });\n        }\n        render() {\n          const {\n            data,\n            linkService\n          } = this;\n          const link = document.createElement(\"a\");\n          if (data.url) {\n            if (!linkService.addLinkAttributes) {\n              (0, _util.warn)(\"LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance.\");\n            }\n            linkService.addLinkAttributes?.(link, data.url, data.newWindow);\n          } else if (data.action) {\n            this._bindNamedAction(link, data.action);\n          } else if (data.dest) {\n            this._bindLink(link, data.dest);\n          } else {\n            let hasClickAction = false;\n            if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n              hasClickAction = true;\n              this._bindJSAction(link, data);\n            }\n            if (data.resetForm) {\n              this._bindResetFormAction(link, data.resetForm);\n            } else if (!hasClickAction) {\n              this._bindLink(link, \"\");\n            }\n          }\n          if (this.quadrilaterals) {\n            return this._renderQuadrilaterals(\"linkAnnotation\").map((quadrilateral, index) => {\n              const linkElement = index === 0 ? link : link.cloneNode();\n              quadrilateral.appendChild(linkElement);\n              return quadrilateral;\n            });\n          }\n          this.container.className = \"linkAnnotation\";\n          this.container.appendChild(link);\n          return this.container;\n        }\n        _bindLink(link, destination) {\n          link.href = this.linkService.getDestinationHash(destination);\n          link.onclick = () => {\n            if (destination) {\n              this.linkService.goToDestination(destination);\n            }\n            return false;\n          };\n          if (destination || destination === \"\") {\n            link.className = \"internalLink\";\n          }\n        }\n        _bindNamedAction(link, action) {\n          link.href = this.linkService.getAnchorUrl(\"\");\n          link.onclick = () => {\n            this.linkService.executeNamedAction(action);\n            return false;\n          };\n          link.className = \"internalLink\";\n        }\n        _bindJSAction(link, data) {\n          link.href = this.linkService.getAnchorUrl(\"\");\n          const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n          for (const name of Object.keys(data.actions)) {\n            const jsName = map.get(name);\n            if (!jsName) {\n              continue;\n            }\n            link[jsName] = () => {\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id: data.id,\n                  name\n                }\n              });\n              return false;\n            };\n          }\n          if (!link.onclick) {\n            link.onclick = () => false;\n          }\n          link.className = \"internalLink\";\n        }\n        _bindResetFormAction(link, resetForm) {\n          const otherClickAction = link.onclick;\n          if (!otherClickAction) {\n            link.href = this.linkService.getAnchorUrl(\"\");\n          }\n          link.className = \"internalLink\";\n          if (!this._fieldObjects) {\n            (0, _util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n            if (!otherClickAction) {\n              link.onclick = () => false;\n            }\n            return;\n          }\n          link.onclick = () => {\n            if (otherClickAction) {\n              otherClickAction();\n            }\n            const {\n              fields: resetFormFields,\n              refs: resetFormRefs,\n              include\n            } = resetForm;\n            const allFields = [];\n            if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n              const fieldIds = new Set(resetFormRefs);\n              for (const fieldName of resetFormFields) {\n                const fields = this._fieldObjects[fieldName] || [];\n                for (const {\n                  id\n                } of fields) {\n                  fieldIds.add(id);\n                }\n              }\n              for (const fields of Object.values(this._fieldObjects)) {\n                for (const field of fields) {\n                  if (fieldIds.has(field.id) === include) {\n                    allFields.push(field);\n                  }\n                }\n              }\n            } else {\n              for (const fields of Object.values(this._fieldObjects)) {\n                allFields.push(...fields);\n              }\n            }\n            const storage = this.annotationStorage;\n            const allIds = [];\n            for (const field of allFields) {\n              const {\n                id\n              } = field;\n              allIds.push(id);\n              switch (field.type) {\n                case \"text\":\n                  {\n                    const value = field.defaultValue || \"\";\n                    storage.setValue(id, {\n                      value,\n                      valueAsString: value\n                    });\n                    break;\n                  }\n                case \"checkbox\":\n                case \"radiobutton\":\n                  {\n                    const value = field.defaultValue === field.exportValues;\n                    storage.setValue(id, {\n                      value\n                    });\n                    break;\n                  }\n                case \"combobox\":\n                case \"listbox\":\n                  {\n                    const value = field.defaultValue || \"\";\n                    storage.setValue(id, {\n                      value\n                    });\n                    break;\n                  }\n                default:\n                  continue;\n              }\n              const domElement = document.getElementById(id);\n              if (!domElement || !GetElementsByNameSet.has(domElement)) {\n                continue;\n              }\n              domElement.dispatchEvent(new Event(\"resetform\"));\n            }\n            if (this.enableScripting) {\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id: \"app\",\n                  ids: allIds,\n                  name: \"ResetForm\"\n                }\n              });\n            }\n            return false;\n          };\n        }\n      }\n      class TextAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable\n          });\n        }\n        render() {\n          this.container.className = \"textAnnotation\";\n          const image = document.createElement(\"img\");\n          image.style.height = this.container.style.height;\n          image.style.width = this.container.style.width;\n          image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n          image.alt = \"[{{type}} Annotation]\";\n          image.dataset.l10nId = \"text_annotation_type\";\n          image.dataset.l10nArgs = JSON.stringify({\n            type: this.data.name\n          });\n          if (!this.data.hasPopup) {\n            this._createPopup(image, this.data);\n          }\n          this.container.appendChild(image);\n          return this.container;\n        }\n      }\n      class WidgetAnnotationElement extends AnnotationElement {\n        render() {\n          if (this.data.alternativeText) {\n            this.container.title = this.data.alternativeText;\n          }\n          return this.container;\n        }\n        _getKeyModifier(event) {\n          const {\n            isWin,\n            isMac\n          } = AnnotationElement.platform;\n          return isWin && event.ctrlKey || isMac && event.metaKey;\n        }\n        _setEventListener(element, baseName, eventName, valueGetter) {\n          if (baseName.includes(\"mouse\")) {\n            element.addEventListener(baseName, event => {\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id: this.data.id,\n                  name: eventName,\n                  value: valueGetter(event),\n                  shift: event.shiftKey,\n                  modifier: this._getKeyModifier(event)\n                }\n              });\n            });\n          } else {\n            element.addEventListener(baseName, event => {\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id: this.data.id,\n                  name: eventName,\n                  value: event.target.checked\n                }\n              });\n            });\n          }\n        }\n        _setEventListeners(element, names, getter) {\n          for (const [baseName, eventName] of names) {\n            if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n              this._setEventListener(element, baseName, eventName, getter);\n            }\n          }\n        }\n        _setBackgroundColor(element) {\n          const color = this.data.backgroundColor || null;\n          element.style.backgroundColor = color === null ? \"transparent\" : _util.Util.makeHexColor(color[0], color[1], color[2]);\n        }\n        _dispatchEventFromSandbox(actions, jsEvent) {\n          const setColor = (jsName, styleName, event) => {\n            const color = event.detail[jsName];\n            event.target.style[styleName] = _scripting_utils.ColorConverters[`${color[0]}_HTML`](color.slice(1));\n          };\n          const commonActions = {\n            display: event => {\n              const hidden = event.detail.display % 2 === 1;\n              event.target.style.visibility = hidden ? \"hidden\" : \"visible\";\n              this.annotationStorage.setValue(this.data.id, {\n                hidden,\n                print: event.detail.display === 0 || event.detail.display === 3\n              });\n            },\n            print: event => {\n              this.annotationStorage.setValue(this.data.id, {\n                print: event.detail.print\n              });\n            },\n            hidden: event => {\n              event.target.style.visibility = event.detail.hidden ? \"hidden\" : \"visible\";\n              this.annotationStorage.setValue(this.data.id, {\n                hidden: event.detail.hidden\n              });\n            },\n            focus: event => {\n              setTimeout(() => event.target.focus({\n                preventScroll: false\n              }), 0);\n            },\n            userName: event => {\n              event.target.title = event.detail.userName;\n            },\n            readonly: event => {\n              if (event.detail.readonly) {\n                event.target.setAttribute(\"readonly\", \"\");\n              } else {\n                event.target.removeAttribute(\"readonly\");\n              }\n            },\n            required: event => {\n              if (event.detail.required) {\n                event.target.setAttribute(\"required\", \"\");\n              } else {\n                event.target.removeAttribute(\"required\");\n              }\n            },\n            bgColor: event => {\n              setColor(\"bgColor\", \"backgroundColor\", event);\n            },\n            fillColor: event => {\n              setColor(\"fillColor\", \"backgroundColor\", event);\n            },\n            fgColor: event => {\n              setColor(\"fgColor\", \"color\", event);\n            },\n            textColor: event => {\n              setColor(\"textColor\", \"color\", event);\n            },\n            borderColor: event => {\n              setColor(\"borderColor\", \"borderColor\", event);\n            },\n            strokeColor: event => {\n              setColor(\"strokeColor\", \"borderColor\", event);\n            }\n          };\n          for (const name of Object.keys(jsEvent.detail)) {\n            const action = actions[name] || commonActions[name];\n            if (action) {\n              action(jsEvent);\n            }\n          }\n        }\n      }\n      class TextWidgetAnnotationElement extends WidgetAnnotationElement {\n        constructor(parameters) {\n          const isRenderable = parameters.renderForms || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n          super(parameters, {\n            isRenderable\n          });\n        }\n        setPropertyOnSiblings(base, key, value, keyInStorage) {\n          const storage = this.annotationStorage;\n          for (const element of this._getElementsByName(base.name, base.id)) {\n            if (element.domElement) {\n              element.domElement[key] = value;\n            }\n            storage.setValue(element.id, {\n              [keyInStorage]: value\n            });\n          }\n        }\n        render() {\n          const storage = this.annotationStorage;\n          const id = this.data.id;\n          this.container.className = \"textWidgetAnnotation\";\n          let element = null;\n          if (this.renderForms) {\n            const storedData = storage.getValue(id, {\n              value: this.data.fieldValue,\n              valueAsString: this.data.fieldValue\n            });\n            const textContent = storedData.valueAsString || storedData.value || \"\";\n            const elementData = {\n              userValue: null,\n              formattedValue: null,\n              beforeInputSelectionRange: null,\n              beforeInputValue: null\n            };\n            if (this.data.multiLine) {\n              element = document.createElement(\"textarea\");\n              element.textContent = textContent;\n            } else {\n              element = document.createElement(\"input\");\n              element.type = \"text\";\n              element.setAttribute(\"value\", textContent);\n            }\n            GetElementsByNameSet.add(element);\n            element.disabled = this.data.readOnly;\n            element.name = this.data.fieldName;\n            element.tabIndex = DEFAULT_TAB_INDEX;\n            elementData.userValue = textContent;\n            element.setAttribute(\"id\", id);\n            element.addEventListener(\"input\", event => {\n              storage.setValue(id, {\n                value: event.target.value\n              });\n              this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n            });\n            element.addEventListener(\"resetform\", event => {\n              const defaultValue = this.data.defaultFieldValue || \"\";\n              element.value = elementData.userValue = defaultValue;\n              delete elementData.formattedValue;\n            });\n            let blurListener = event => {\n              if (elementData.formattedValue) {\n                event.target.value = elementData.formattedValue;\n              }\n              event.target.scrollLeft = 0;\n              elementData.beforeInputSelectionRange = null;\n            };\n            if (this.enableScripting && this.hasJSActions) {\n              element.addEventListener(\"focus\", event => {\n                if (elementData.userValue) {\n                  event.target.value = elementData.userValue;\n                }\n              });\n              element.addEventListener(\"updatefromsandbox\", jsEvent => {\n                const actions = {\n                  value(event) {\n                    elementData.userValue = event.detail.value || \"\";\n                    storage.setValue(id, {\n                      value: elementData.userValue.toString()\n                    });\n                    if (!elementData.formattedValue) {\n                      event.target.value = elementData.userValue;\n                    }\n                  },\n                  valueAsString(event) {\n                    elementData.formattedValue = event.detail.valueAsString || \"\";\n                    if (event.target !== document.activeElement) {\n                      event.target.value = elementData.formattedValue;\n                    }\n                    storage.setValue(id, {\n                      formattedValue: elementData.formattedValue\n                    });\n                  },\n                  selRange(event) {\n                    const [selStart, selEnd] = event.detail.selRange;\n                    if (selStart >= 0 && selEnd < event.target.value.length) {\n                      event.target.setSelectionRange(selStart, selEnd);\n                    }\n                  }\n                };\n                this._dispatchEventFromSandbox(actions, jsEvent);\n              });\n              element.addEventListener(\"keydown\", event => {\n                elementData.beforeInputValue = event.target.value;\n                let commitKey = -1;\n                if (event.key === \"Escape\") {\n                  commitKey = 0;\n                } else if (event.key === \"Enter\") {\n                  commitKey = 2;\n                } else if (event.key === \"Tab\") {\n                  commitKey = 3;\n                }\n                if (commitKey === -1) {\n                  return;\n                }\n                elementData.userValue = event.target.value;\n                this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                  source: this,\n                  detail: {\n                    id,\n                    name: \"Keystroke\",\n                    value: event.target.value,\n                    willCommit: true,\n                    commitKey,\n                    selStart: event.target.selectionStart,\n                    selEnd: event.target.selectionEnd\n                  }\n                });\n              });\n              const _blurListener = blurListener;\n              blurListener = null;\n              element.addEventListener(\"blur\", event => {\n                if (this._mouseState.isDown) {\n                  elementData.userValue = event.target.value;\n                  this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                    source: this,\n                    detail: {\n                      id,\n                      name: \"Keystroke\",\n                      value: event.target.value,\n                      willCommit: true,\n                      commitKey: 1,\n                      selStart: event.target.selectionStart,\n                      selEnd: event.target.selectionEnd\n                    }\n                  });\n                }\n                _blurListener(event);\n              });\n              element.addEventListener(\"mousedown\", event => {\n                elementData.beforeInputValue = event.target.value;\n                elementData.beforeInputSelectionRange = null;\n              });\n              element.addEventListener(\"keyup\", event => {\n                if (event.target.selectionStart === event.target.selectionEnd) {\n                  elementData.beforeInputSelectionRange = null;\n                }\n              });\n              element.addEventListener(\"select\", event => {\n                elementData.beforeInputSelectionRange = [event.target.selectionStart, event.target.selectionEnd];\n              });\n              if (this.data.actions?.Keystroke) {\n                element.addEventListener(\"input\", event => {\n                  let selStart = -1;\n                  let selEnd = -1;\n                  if (elementData.beforeInputSelectionRange) {\n                    [selStart, selEnd] = elementData.beforeInputSelectionRange;\n                  }\n                  this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                    source: this,\n                    detail: {\n                      id,\n                      name: \"Keystroke\",\n                      value: elementData.beforeInputValue,\n                      change: event.data,\n                      willCommit: false,\n                      selStart,\n                      selEnd\n                    }\n                  });\n                });\n              }\n              this._setEventListeners(element, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n            }\n            if (blurListener) {\n              element.addEventListener(\"blur\", blurListener);\n            }\n            if (this.data.maxLen !== null) {\n              element.maxLength = this.data.maxLen;\n            }\n            if (this.data.comb) {\n              const fieldWidth = this.data.rect[2] - this.data.rect[0];\n              const combWidth = fieldWidth / this.data.maxLen;\n              element.classList.add(\"comb\");\n              element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n            }\n          } else {\n            element = document.createElement(\"div\");\n            element.textContent = this.data.fieldValue;\n            element.style.verticalAlign = \"middle\";\n            element.style.display = \"table-cell\";\n          }\n          this._setTextStyle(element);\n          this._setBackgroundColor(element);\n          this.container.appendChild(element);\n          return this.container;\n        }\n        _setTextStyle(element) {\n          const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n          const {\n            fontSize,\n            fontColor\n          } = this.data.defaultAppearanceData;\n          const style = element.style;\n          if (fontSize) {\n            style.fontSize = `${fontSize}px`;\n          }\n          style.color = _util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n          if (this.data.textAlignment !== null) {\n            style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n          }\n        }\n      }\n      class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n        constructor(parameters) {\n          super(parameters, {\n            isRenderable: parameters.renderForms\n          });\n        }\n        render() {\n          const storage = this.annotationStorage;\n          const data = this.data;\n          const id = data.id;\n          let value = storage.getValue(id, {\n            value: data.exportValue === data.fieldValue\n          }).value;\n          if (typeof value === \"string\") {\n            value = value !== \"Off\";\n            storage.setValue(id, {\n              value\n            });\n          }\n          this.container.className = \"buttonWidgetAnnotation checkBox\";\n          const element = document.createElement(\"input\");\n          GetElementsByNameSet.add(element);\n          element.disabled = data.readOnly;\n          element.type = \"checkbox\";\n          element.name = data.fieldName;\n          if (value) {\n            element.setAttribute(\"checked\", true);\n          }\n          element.setAttribute(\"id\", id);\n          element.setAttribute(\"exportValue\", data.exportValue);\n          element.tabIndex = DEFAULT_TAB_INDEX;\n          element.addEventListener(\"change\", event => {\n            const {\n              name,\n              checked\n            } = event.target;\n            for (const checkbox of this._getElementsByName(name, id)) {\n              const curChecked = checked && checkbox.exportValue === data.exportValue;\n              if (checkbox.domElement) {\n                checkbox.domElement.checked = curChecked;\n              }\n              storage.setValue(checkbox.id, {\n                value: curChecked\n              });\n            }\n            storage.setValue(id, {\n              value: checked\n            });\n          });\n          element.addEventListener(\"resetform\", event => {\n            const defaultValue = data.defaultFieldValue || \"Off\";\n            event.target.checked = defaultValue === data.exportValue;\n          });\n          if (this.enableScripting && this.hasJSActions) {\n            element.addEventListener(\"updatefromsandbox\", jsEvent => {\n              const actions = {\n                value(event) {\n                  event.target.checked = event.detail.value !== \"Off\";\n                  storage.setValue(id, {\n                    value: event.target.checked\n                  });\n                }\n              };\n              this._dispatchEventFromSandbox(actions, jsEvent);\n            });\n            this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n          }\n          this._setBackgroundColor(element);\n          this.container.appendChild(element);\n          return this.container;\n        }\n      }\n      class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n        constructor(parameters) {\n          super(parameters, {\n            isRenderable: parameters.renderForms\n          });\n        }\n        render() {\n          this.container.className = \"buttonWidgetAnnotation radioButton\";\n          const storage = this.annotationStorage;\n          const data = this.data;\n          const id = data.id;\n          let value = storage.getValue(id, {\n            value: data.fieldValue === data.buttonValue\n          }).value;\n          if (typeof value === \"string\") {\n            value = value !== data.buttonValue;\n            storage.setValue(id, {\n              value\n            });\n          }\n          const element = document.createElement(\"input\");\n          GetElementsByNameSet.add(element);\n          element.disabled = data.readOnly;\n          element.type = \"radio\";\n          element.name = data.fieldName;\n          if (value) {\n            element.setAttribute(\"checked\", true);\n          }\n          element.setAttribute(\"id\", id);\n          element.tabIndex = DEFAULT_TAB_INDEX;\n          element.addEventListener(\"change\", event => {\n            const {\n              name,\n              checked\n            } = event.target;\n            for (const radio of this._getElementsByName(name, id)) {\n              storage.setValue(radio.id, {\n                value: false\n              });\n            }\n            storage.setValue(id, {\n              value: checked\n            });\n          });\n          element.addEventListener(\"resetform\", event => {\n            const defaultValue = data.defaultFieldValue;\n            event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n          });\n          if (this.enableScripting && this.hasJSActions) {\n            const pdfButtonValue = data.buttonValue;\n            element.addEventListener(\"updatefromsandbox\", jsEvent => {\n              const actions = {\n                value: event => {\n                  const checked = pdfButtonValue === event.detail.value;\n                  for (const radio of this._getElementsByName(event.target.name)) {\n                    const curChecked = checked && radio.id === id;\n                    if (radio.domElement) {\n                      radio.domElement.checked = curChecked;\n                    }\n                    storage.setValue(radio.id, {\n                      value: curChecked\n                    });\n                  }\n                }\n              };\n              this._dispatchEventFromSandbox(actions, jsEvent);\n            });\n            this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n          }\n          this._setBackgroundColor(element);\n          this.container.appendChild(element);\n          return this.container;\n        }\n      }\n      class PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n        render() {\n          const container = super.render();\n          container.className = \"buttonWidgetAnnotation pushButton\";\n          if (this.data.alternativeText) {\n            container.title = this.data.alternativeText;\n          }\n          return container;\n        }\n      }\n      class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n        constructor(parameters) {\n          super(parameters, {\n            isRenderable: parameters.renderForms\n          });\n        }\n        render() {\n          this.container.className = \"choiceWidgetAnnotation\";\n          const storage = this.annotationStorage;\n          const id = this.data.id;\n          storage.getValue(id, {\n            value: this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : undefined\n          });\n          let {\n            fontSize\n          } = this.data.defaultAppearanceData;\n          if (!fontSize) {\n            fontSize = 9;\n          }\n          const fontSizeStyle = `calc(${fontSize}px * var(--zoom-factor))`;\n          const selectElement = document.createElement(\"select\");\n          GetElementsByNameSet.add(selectElement);\n          selectElement.disabled = this.data.readOnly;\n          selectElement.name = this.data.fieldName;\n          selectElement.setAttribute(\"id\", id);\n          selectElement.tabIndex = DEFAULT_TAB_INDEX;\n          selectElement.style.fontSize = `${fontSize}px`;\n          if (!this.data.combo) {\n            selectElement.size = this.data.options.length;\n            if (this.data.multiSelect) {\n              selectElement.multiple = true;\n            }\n          }\n          selectElement.addEventListener(\"resetform\", event => {\n            const defaultValue = this.data.defaultFieldValue;\n            for (const option of selectElement.options) {\n              option.selected = option.value === defaultValue;\n            }\n          });\n          for (const option of this.data.options) {\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = option.displayValue;\n            optionElement.value = option.exportValue;\n            if (this.data.combo) {\n              optionElement.style.fontSize = fontSizeStyle;\n            }\n            if (this.data.fieldValue.includes(option.exportValue)) {\n              optionElement.setAttribute(\"selected\", true);\n            }\n            selectElement.appendChild(optionElement);\n          }\n          const getValue = (event, isExport) => {\n            const name = isExport ? \"value\" : \"textContent\";\n            const options = event.target.options;\n            if (!event.target.multiple) {\n              return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n            }\n            return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n          };\n          const getItems = event => {\n            const options = event.target.options;\n            return Array.prototype.map.call(options, option => {\n              return {\n                displayValue: option.textContent,\n                exportValue: option.value\n              };\n            });\n          };\n          if (this.enableScripting && this.hasJSActions) {\n            selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n              const actions = {\n                value(event) {\n                  const value = event.detail.value;\n                  const values = new Set(Array.isArray(value) ? value : [value]);\n                  for (const option of selectElement.options) {\n                    option.selected = values.has(option.value);\n                  }\n                  storage.setValue(id, {\n                    value: getValue(event, true)\n                  });\n                },\n                multipleSelection(event) {\n                  selectElement.multiple = true;\n                },\n                remove(event) {\n                  const options = selectElement.options;\n                  const index = event.detail.remove;\n                  options[index].selected = false;\n                  selectElement.remove(index);\n                  if (options.length > 0) {\n                    const i = Array.prototype.findIndex.call(options, option => option.selected);\n                    if (i === -1) {\n                      options[0].selected = true;\n                    }\n                  }\n                  storage.setValue(id, {\n                    value: getValue(event, true),\n                    items: getItems(event)\n                  });\n                },\n                clear(event) {\n                  while (selectElement.length !== 0) {\n                    selectElement.remove(0);\n                  }\n                  storage.setValue(id, {\n                    value: null,\n                    items: []\n                  });\n                },\n                insert(event) {\n                  const {\n                    index,\n                    displayValue,\n                    exportValue\n                  } = event.detail.insert;\n                  const optionElement = document.createElement(\"option\");\n                  optionElement.textContent = displayValue;\n                  optionElement.value = exportValue;\n                  selectElement.insertBefore(optionElement, selectElement.children[index]);\n                  storage.setValue(id, {\n                    value: getValue(event, true),\n                    items: getItems(event)\n                  });\n                },\n                items(event) {\n                  const {\n                    items\n                  } = event.detail;\n                  while (selectElement.length !== 0) {\n                    selectElement.remove(0);\n                  }\n                  for (const item of items) {\n                    const {\n                      displayValue,\n                      exportValue\n                    } = item;\n                    const optionElement = document.createElement(\"option\");\n                    optionElement.textContent = displayValue;\n                    optionElement.value = exportValue;\n                    selectElement.appendChild(optionElement);\n                  }\n                  if (selectElement.options.length > 0) {\n                    selectElement.options[0].selected = true;\n                  }\n                  storage.setValue(id, {\n                    value: getValue(event, true),\n                    items: getItems(event)\n                  });\n                },\n                indices(event) {\n                  const indices = new Set(event.detail.indices);\n                  for (const option of event.target.options) {\n                    option.selected = indices.has(option.index);\n                  }\n                  storage.setValue(id, {\n                    value: getValue(event, true)\n                  });\n                },\n                editable(event) {\n                  event.target.disabled = !event.detail.editable;\n                }\n              };\n              this._dispatchEventFromSandbox(actions, jsEvent);\n            });\n            selectElement.addEventListener(\"input\", event => {\n              const exportValue = getValue(event, true);\n              const value = getValue(event, false);\n              storage.setValue(id, {\n                value: exportValue\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  changeEx: exportValue,\n                  willCommit: true,\n                  commitKey: 1,\n                  keyDown: false\n                }\n              });\n            });\n            this._setEventListeners(selectElement, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"]], event => event.target.checked);\n          } else {\n            selectElement.addEventListener(\"input\", function (event) {\n              storage.setValue(id, {\n                value: getValue(event)\n              });\n            });\n          }\n          this._setBackgroundColor(selectElement);\n          this.container.appendChild(selectElement);\n          return this.container;\n        }\n      }\n      class PopupAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable\n          });\n        }\n        render() {\n          const IGNORE_TYPES = [\"Line\", \"Square\", \"Circle\", \"PolyLine\", \"Polygon\", \"Ink\"];\n          this.container.className = \"popupAnnotation\";\n          if (IGNORE_TYPES.includes(this.data.parentType)) {\n            return this.container;\n          }\n          const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n          const parentElements = this.layer.querySelectorAll(selector);\n          if (parentElements.length === 0) {\n            return this.container;\n          }\n          const popup = new PopupElement({\n            container: this.container,\n            trigger: Array.from(parentElements),\n            color: this.data.color,\n            titleObj: this.data.titleObj,\n            modificationDate: this.data.modificationDate,\n            contentsObj: this.data.contentsObj\n          });\n          const page = this.page;\n          const rect = _util.Util.normalizeRect([this.data.parentRect[0], page.view[3] - this.data.parentRect[1] + page.view[1], this.data.parentRect[2], page.view[3] - this.data.parentRect[3] + page.view[1]]);\n          const popupLeft = rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n          const popupTop = rect[1];\n          this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n          this.container.style.left = `${popupLeft}px`;\n          this.container.style.top = `${popupTop}px`;\n          this.container.appendChild(popup.render());\n          return this.container;\n        }\n      }\n      class PopupElement {\n        constructor(parameters) {\n          this.container = parameters.container;\n          this.trigger = parameters.trigger;\n          this.color = parameters.color;\n          this.titleObj = parameters.titleObj;\n          this.modificationDate = parameters.modificationDate;\n          this.contentsObj = parameters.contentsObj;\n          this.hideWrapper = parameters.hideWrapper || false;\n          this.pinned = false;\n        }\n        render() {\n          const BACKGROUND_ENLIGHT = 0.7;\n          const wrapper = document.createElement(\"div\");\n          wrapper.className = \"popupWrapper\";\n          this.hideElement = this.hideWrapper ? wrapper : this.container;\n          this.hideElement.hidden = true;\n          const popup = document.createElement(\"div\");\n          popup.className = \"popup\";\n          const color = this.color;\n          if (color) {\n            const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n            const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n            const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n            popup.style.backgroundColor = _util.Util.makeHexColor(r | 0, g | 0, b | 0);\n          }\n          const title = document.createElement(\"h1\");\n          title.dir = this.titleObj.dir;\n          title.textContent = this.titleObj.str;\n          popup.appendChild(title);\n          const dateObject = _display_utils.PDFDateString.toDateObject(this.modificationDate);\n          if (dateObject) {\n            const modificationDate = document.createElement(\"span\");\n            modificationDate.textContent = \"{{date}}, {{time}}\";\n            modificationDate.dataset.l10nId = \"annotation_date_string\";\n            modificationDate.dataset.l10nArgs = JSON.stringify({\n              date: dateObject.toLocaleDateString(),\n              time: dateObject.toLocaleTimeString()\n            });\n            popup.appendChild(modificationDate);\n          }\n          const contents = this._formatContents(this.contentsObj);\n          popup.appendChild(contents);\n          if (!Array.isArray(this.trigger)) {\n            this.trigger = [this.trigger];\n          }\n          for (const element of this.trigger) {\n            element.addEventListener(\"click\", this._toggle.bind(this));\n            element.addEventListener(\"mouseover\", this._show.bind(this, false));\n            element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n          }\n          popup.addEventListener(\"click\", this._hide.bind(this, true));\n          wrapper.appendChild(popup);\n          return wrapper;\n        }\n        _formatContents({\n          str,\n          dir\n        }) {\n          const p = document.createElement(\"p\");\n          p.dir = dir;\n          const lines = str.split(/(?:\\r\\n?|\\n)/);\n          for (let i = 0, ii = lines.length; i < ii; ++i) {\n            const line = lines[i];\n            p.appendChild(document.createTextNode(line));\n            if (i < ii - 1) {\n              p.appendChild(document.createElement(\"br\"));\n            }\n          }\n          return p;\n        }\n        _toggle() {\n          if (this.pinned) {\n            this._hide(true);\n          } else {\n            this._show(true);\n          }\n        }\n        _show(pin = false) {\n          if (pin) {\n            this.pinned = true;\n          }\n          if (this.hideElement.hidden) {\n            this.hideElement.hidden = false;\n            this.container.style.zIndex += 1;\n          }\n        }\n        _hide(unpin = true) {\n          if (unpin) {\n            this.pinned = false;\n          }\n          if (!this.hideElement.hidden && !this.pinned) {\n            this.hideElement.hidden = true;\n            this.container.style.zIndex -= 1;\n          }\n        }\n      }\n      class FreeTextAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"freeTextAnnotation\";\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          return this.container;\n        }\n      }\n      class LineAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"lineAnnotation\";\n          const data = this.data;\n          const width = data.rect[2] - data.rect[0];\n          const height = data.rect[3] - data.rect[1];\n          const svg = this.svgFactory.create(width, height);\n          const line = this.svgFactory.createElement(\"svg:line\");\n          line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n          line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n          line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n          line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n          line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n          line.setAttribute(\"stroke\", \"transparent\");\n          svg.appendChild(line);\n          this.container.append(svg);\n          this._createPopup(line, data);\n          return this.container;\n        }\n      }\n      class SquareAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"squareAnnotation\";\n          const data = this.data;\n          const width = data.rect[2] - data.rect[0];\n          const height = data.rect[3] - data.rect[1];\n          const svg = this.svgFactory.create(width, height);\n          const borderWidth = data.borderStyle.width;\n          const square = this.svgFactory.createElement(\"svg:rect\");\n          square.setAttribute(\"x\", borderWidth / 2);\n          square.setAttribute(\"y\", borderWidth / 2);\n          square.setAttribute(\"width\", width - borderWidth);\n          square.setAttribute(\"height\", height - borderWidth);\n          square.setAttribute(\"stroke-width\", borderWidth || 1);\n          square.setAttribute(\"stroke\", \"transparent\");\n          square.setAttribute(\"fill\", \"none\");\n          svg.appendChild(square);\n          this.container.append(svg);\n          this._createPopup(square, data);\n          return this.container;\n        }\n      }\n      class CircleAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"circleAnnotation\";\n          const data = this.data;\n          const width = data.rect[2] - data.rect[0];\n          const height = data.rect[3] - data.rect[1];\n          const svg = this.svgFactory.create(width, height);\n          const borderWidth = data.borderStyle.width;\n          const circle = this.svgFactory.createElement(\"svg:ellipse\");\n          circle.setAttribute(\"cx\", width / 2);\n          circle.setAttribute(\"cy\", height / 2);\n          circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n          circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n          circle.setAttribute(\"stroke-width\", borderWidth || 1);\n          circle.setAttribute(\"stroke\", \"transparent\");\n          circle.setAttribute(\"fill\", \"none\");\n          svg.appendChild(circle);\n          this.container.append(svg);\n          this._createPopup(circle, data);\n          return this.container;\n        }\n      }\n      class PolylineAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n          this.containerClassName = \"polylineAnnotation\";\n          this.svgElementName = \"svg:polyline\";\n        }\n        render() {\n          this.container.className = this.containerClassName;\n          const data = this.data;\n          const width = data.rect[2] - data.rect[0];\n          const height = data.rect[3] - data.rect[1];\n          const svg = this.svgFactory.create(width, height);\n          let points = [];\n          for (const coordinate of data.vertices) {\n            const x = coordinate.x - data.rect[0];\n            const y = data.rect[3] - coordinate.y;\n            points.push(x + \",\" + y);\n          }\n          points = points.join(\" \");\n          const polyline = this.svgFactory.createElement(this.svgElementName);\n          polyline.setAttribute(\"points\", points);\n          polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n          polyline.setAttribute(\"stroke\", \"transparent\");\n          polyline.setAttribute(\"fill\", \"none\");\n          svg.appendChild(polyline);\n          this.container.append(svg);\n          this._createPopup(polyline, data);\n          return this.container;\n        }\n      }\n      class PolygonAnnotationElement extends PolylineAnnotationElement {\n        constructor(parameters) {\n          super(parameters);\n          this.containerClassName = \"polygonAnnotation\";\n          this.svgElementName = \"svg:polygon\";\n        }\n      }\n      class CaretAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"caretAnnotation\";\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          return this.container;\n        }\n      }\n      class InkAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n          this.containerClassName = \"inkAnnotation\";\n          this.svgElementName = \"svg:polyline\";\n        }\n        render() {\n          this.container.className = this.containerClassName;\n          const data = this.data;\n          const width = data.rect[2] - data.rect[0];\n          const height = data.rect[3] - data.rect[1];\n          const svg = this.svgFactory.create(width, height);\n          for (const inkList of data.inkLists) {\n            let points = [];\n            for (const coordinate of inkList) {\n              const x = coordinate.x - data.rect[0];\n              const y = data.rect[3] - coordinate.y;\n              points.push(`${x},${y}`);\n            }\n            points = points.join(\" \");\n            const polyline = this.svgFactory.createElement(this.svgElementName);\n            polyline.setAttribute(\"points\", points);\n            polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n            polyline.setAttribute(\"stroke\", \"transparent\");\n            polyline.setAttribute(\"fill\", \"none\");\n            this._createPopup(polyline, data);\n            svg.appendChild(polyline);\n          }\n          this.container.append(svg);\n          return this.container;\n        }\n      }\n      class HighlightAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true,\n            createQuadrilaterals: true\n          });\n        }\n        render() {\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          if (this.quadrilaterals) {\n            return this._renderQuadrilaterals(\"highlightAnnotation\");\n          }\n          this.container.className = \"highlightAnnotation\";\n          return this.container;\n        }\n      }\n      class UnderlineAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true,\n            createQuadrilaterals: true\n          });\n        }\n        render() {\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          if (this.quadrilaterals) {\n            return this._renderQuadrilaterals(\"underlineAnnotation\");\n          }\n          this.container.className = \"underlineAnnotation\";\n          return this.container;\n        }\n      }\n      class SquigglyAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true,\n            createQuadrilaterals: true\n          });\n        }\n        render() {\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          if (this.quadrilaterals) {\n            return this._renderQuadrilaterals(\"squigglyAnnotation\");\n          }\n          this.container.className = \"squigglyAnnotation\";\n          return this.container;\n        }\n      }\n      class StrikeOutAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true,\n            createQuadrilaterals: true\n          });\n        }\n        render() {\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          if (this.quadrilaterals) {\n            return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n          }\n          this.container.className = \"strikeoutAnnotation\";\n          return this.container;\n        }\n      }\n      class StampAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str);\n          super(parameters, {\n            isRenderable,\n            ignoreBorder: true\n          });\n        }\n        render() {\n          this.container.className = \"stampAnnotation\";\n          if (!this.data.hasPopup) {\n            this._createPopup(null, this.data);\n          }\n          return this.container;\n        }\n      }\n      class FileAttachmentAnnotationElement extends AnnotationElement {\n        constructor(parameters) {\n          super(parameters, {\n            isRenderable: true\n          });\n          const {\n            filename,\n            content\n          } = this.data.file;\n          this.filename = (0, _display_utils.getFilenameFromUrl)(filename);\n          this.content = content;\n          this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n            source: this,\n            id: (0, _util.stringToPDFString)(filename),\n            filename,\n            content\n          });\n        }\n        render() {\n          this.container.className = \"fileAttachmentAnnotation\";\n          const trigger = document.createElement(\"div\");\n          trigger.style.height = this.container.style.height;\n          trigger.style.width = this.container.style.width;\n          trigger.addEventListener(\"dblclick\", this._download.bind(this));\n          if (!this.data.hasPopup && (this.data.titleObj?.str || this.data.contentsObj?.str)) {\n            this._createPopup(trigger, this.data);\n          }\n          this.container.appendChild(trigger);\n          return this.container;\n        }\n        _download() {\n          this.downloadManager?.openOrDownloadData(this.container, this.content, this.filename);\n        }\n      }\n      class AnnotationLayer {\n        static render(parameters) {\n          const sortedAnnotations = [],\n            popupAnnotations = [];\n          for (const data of parameters.annotations) {\n            if (!data) {\n              continue;\n            }\n            if (data.annotationType === _util.AnnotationType.POPUP) {\n              popupAnnotations.push(data);\n              continue;\n            }\n            sortedAnnotations.push(data);\n          }\n          if (popupAnnotations.length) {\n            sortedAnnotations.push(...popupAnnotations);\n          }\n          for (const data of sortedAnnotations) {\n            const element = AnnotationElementFactory.create({\n              data,\n              layer: parameters.div,\n              page: parameters.page,\n              viewport: parameters.viewport,\n              linkService: parameters.linkService,\n              downloadManager: parameters.downloadManager,\n              imageResourcesPath: parameters.imageResourcesPath || \"\",\n              renderForms: parameters.renderForms !== false,\n              svgFactory: new _display_utils.DOMSVGFactory(),\n              annotationStorage: parameters.annotationStorage || new _annotation_storage.AnnotationStorage(),\n              enableScripting: parameters.enableScripting,\n              hasJSActions: parameters.hasJSActions,\n              fieldObjects: parameters.fieldObjects,\n              mouseState: parameters.mouseState || {\n                isDown: false\n              }\n            });\n            if (element.isRenderable) {\n              const rendered = element.render();\n              if (data.hidden) {\n                rendered.style.visibility = \"hidden\";\n              }\n              if (Array.isArray(rendered)) {\n                for (const renderedElement of rendered) {\n                  parameters.div.appendChild(renderedElement);\n                }\n              } else {\n                if (element instanceof PopupAnnotationElement) {\n                  parameters.div.prepend(rendered);\n                } else {\n                  parameters.div.appendChild(rendered);\n                }\n              }\n            }\n          }\n        }\n        static update(parameters) {\n          const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n          for (const data of parameters.annotations) {\n            const elements = parameters.div.querySelectorAll(`[data-annotation-id=\"${data.id}\"]`);\n            if (elements) {\n              for (const element of elements) {\n                element.style.transform = transform;\n              }\n            }\n          }\n          parameters.div.hidden = false;\n        }\n      }\n      exports.AnnotationLayer = AnnotationLayer;\n\n      /***/\n    }), (/* 19 */\n    /***/(__unused_webpack_module, exports) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ColorConverters = void 0;\n      function makeColorComp(n) {\n        return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n      }\n      class ColorConverters {\n        static CMYK_G([c, y, m, k]) {\n          return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n        }\n        static G_CMYK([g]) {\n          return [\"CMYK\", 0, 0, 0, 1 - g];\n        }\n        static G_RGB([g]) {\n          return [\"RGB\", g, g, g];\n        }\n        static G_HTML([g]) {\n          const G = makeColorComp(g);\n          return `#${G}${G}${G}`;\n        }\n        static RGB_G([r, g, b]) {\n          return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n        }\n        static RGB_HTML([r, g, b]) {\n          const R = makeColorComp(r);\n          const G = makeColorComp(g);\n          const B = makeColorComp(b);\n          return `#${R}${G}${B}`;\n        }\n        static T_HTML() {\n          return \"#00000000\";\n        }\n        static CMYK_RGB([c, y, m, k]) {\n          return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n        }\n        static CMYK_HTML(components) {\n          return this.RGB_HTML(this.CMYK_RGB(components));\n        }\n        static RGB_CMYK([r, g, b]) {\n          const c = 1 - r;\n          const m = 1 - g;\n          const y = 1 - b;\n          const k = Math.min(c, m, y);\n          return [\"CMYK\", c, m, y, k];\n        }\n      }\n      exports.ColorConverters = ColorConverters;\n\n      /***/\n    }), (/* 20 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.renderTextLayer = renderTextLayer;\n      var _util = __w_pdfjs_require__(2);\n      const MAX_TEXT_DIVS_TO_RENDER = 100000;\n      const DEFAULT_FONT_SIZE = 30;\n      const DEFAULT_FONT_ASCENT = 0.8;\n      const ascentCache = new Map();\n      const AllWhitespaceRegexp = /^\\s+$/g;\n      function getAscent(fontFamily, ctx) {\n        const cachedAscent = ascentCache.get(fontFamily);\n        if (cachedAscent) {\n          return cachedAscent;\n        }\n        ctx.save();\n        ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n        const metrics = ctx.measureText(\"\");\n        let ascent = metrics.fontBoundingBoxAscent;\n        let descent = Math.abs(metrics.fontBoundingBoxDescent);\n        if (ascent) {\n          ctx.restore();\n          const ratio = ascent / (ascent + descent);\n          ascentCache.set(fontFamily, ratio);\n          return ratio;\n        }\n        ctx.strokeStyle = \"red\";\n        ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n        ctx.strokeText(\"g\", 0, 0);\n        let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n        descent = 0;\n        for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n          if (pixels[i] > 0) {\n            descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n            break;\n          }\n        }\n        ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n        ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n        pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n        ascent = 0;\n        for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n          if (pixels[i] > 0) {\n            ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n            break;\n          }\n        }\n        ctx.restore();\n        if (ascent) {\n          const ratio = ascent / (ascent + descent);\n          ascentCache.set(fontFamily, ratio);\n          return ratio;\n        }\n        ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n        return DEFAULT_FONT_ASCENT;\n      }\n      function appendText(task, geom, styles, ctx) {\n        const textDiv = document.createElement(\"span\");\n        const textDivProperties = task._enhanceTextSelection ? {\n          angle: 0,\n          canvasWidth: 0,\n          hasText: geom.str !== \"\",\n          hasEOL: geom.hasEOL,\n          originalTransform: null,\n          paddingBottom: 0,\n          paddingLeft: 0,\n          paddingRight: 0,\n          paddingTop: 0,\n          scale: 1\n        } : {\n          angle: 0,\n          canvasWidth: 0,\n          hasText: geom.str !== \"\",\n          hasEOL: geom.hasEOL\n        };\n        task._textDivs.push(textDiv);\n        const tx = _util.Util.transform(task._viewport.transform, geom.transform);\n        let angle = Math.atan2(tx[1], tx[0]);\n        const style = styles[geom.fontName];\n        if (style.vertical) {\n          angle += Math.PI / 2;\n        }\n        const fontHeight = Math.hypot(tx[2], tx[3]);\n        const fontAscent = fontHeight * getAscent(style.fontFamily, ctx);\n        let left, top;\n        if (angle === 0) {\n          left = tx[4];\n          top = tx[5] - fontAscent;\n        } else {\n          left = tx[4] + fontAscent * Math.sin(angle);\n          top = tx[5] - fontAscent * Math.cos(angle);\n        }\n        textDiv.style.left = `${left}px`;\n        textDiv.style.top = `${top}px`;\n        textDiv.style.fontSize = `${fontHeight}px`;\n        textDiv.style.fontFamily = style.fontFamily;\n        textDiv.setAttribute(\"role\", \"presentation\");\n        textDiv.textContent = geom.str;\n        textDiv.dir = geom.dir;\n        if (task._fontInspectorEnabled) {\n          textDiv.dataset.fontName = geom.fontName;\n        }\n        if (angle !== 0) {\n          textDivProperties.angle = angle * (180 / Math.PI);\n        }\n        let shouldScaleText = false;\n        if (geom.str.length > 1 || task._enhanceTextSelection && AllWhitespaceRegexp.test(geom.str)) {\n          shouldScaleText = true;\n        } else if (geom.transform[0] !== geom.transform[3]) {\n          const absScaleX = Math.abs(geom.transform[0]),\n            absScaleY = Math.abs(geom.transform[3]);\n          if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n            shouldScaleText = true;\n          }\n        }\n        if (shouldScaleText) {\n          if (style.vertical) {\n            textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n          } else {\n            textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n          }\n        }\n        task._textDivProperties.set(textDiv, textDivProperties);\n        if (task._textContentStream) {\n          task._layoutText(textDiv);\n        }\n        if (task._enhanceTextSelection && textDivProperties.hasText) {\n          let angleCos = 1,\n            angleSin = 0;\n          if (angle !== 0) {\n            angleCos = Math.cos(angle);\n            angleSin = Math.sin(angle);\n          }\n          const divWidth = (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n          const divHeight = fontHeight;\n          let m, b;\n          if (angle !== 0) {\n            m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n            b = _util.Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n          } else {\n            b = [left, top, left + divWidth, top + divHeight];\n          }\n          task._bounds.push({\n            left: b[0],\n            top: b[1],\n            right: b[2],\n            bottom: b[3],\n            div: textDiv,\n            size: [divWidth, divHeight],\n            m\n          });\n        }\n      }\n      function render(task) {\n        if (task._canceled) {\n          return;\n        }\n        const textDivs = task._textDivs;\n        const capability = task._capability;\n        const textDivsLength = textDivs.length;\n        if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n          task._renderingDone = true;\n          capability.resolve();\n          return;\n        }\n        if (!task._textContentStream) {\n          for (let i = 0; i < textDivsLength; i++) {\n            task._layoutText(textDivs[i]);\n          }\n        }\n        task._renderingDone = true;\n        capability.resolve();\n      }\n      function findPositiveMin(ts, offset, count) {\n        let result = 0;\n        for (let i = 0; i < count; i++) {\n          const t = ts[offset++];\n          if (t > 0) {\n            result = result ? Math.min(t, result) : t;\n          }\n        }\n        return result;\n      }\n      function expand(task) {\n        const bounds = task._bounds;\n        const viewport = task._viewport;\n        const expanded = expandBounds(viewport.width, viewport.height, bounds);\n        for (let i = 0; i < expanded.length; i++) {\n          const div = bounds[i].div;\n          const divProperties = task._textDivProperties.get(div);\n          if (divProperties.angle === 0) {\n            divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n            divProperties.paddingTop = bounds[i].top - expanded[i].top;\n            divProperties.paddingRight = expanded[i].right - bounds[i].right;\n            divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n            task._textDivProperties.set(div, divProperties);\n            continue;\n          }\n          const e = expanded[i],\n            b = bounds[i];\n          const m = b.m,\n            c = m[0],\n            s = m[1];\n          const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n          const ts = new Float64Array(64);\n          for (let j = 0, jj = points.length; j < jj; j++) {\n            const t = _util.Util.applyTransform(points[j], m);\n            ts[j + 0] = c && (e.left - t[0]) / c;\n            ts[j + 4] = s && (e.top - t[1]) / s;\n            ts[j + 8] = c && (e.right - t[0]) / c;\n            ts[j + 12] = s && (e.bottom - t[1]) / s;\n            ts[j + 16] = s && (e.left - t[0]) / -s;\n            ts[j + 20] = c && (e.top - t[1]) / c;\n            ts[j + 24] = s && (e.right - t[0]) / -s;\n            ts[j + 28] = c && (e.bottom - t[1]) / c;\n            ts[j + 32] = c && (e.left - t[0]) / -c;\n            ts[j + 36] = s && (e.top - t[1]) / -s;\n            ts[j + 40] = c && (e.right - t[0]) / -c;\n            ts[j + 44] = s && (e.bottom - t[1]) / -s;\n            ts[j + 48] = s && (e.left - t[0]) / s;\n            ts[j + 52] = c && (e.top - t[1]) / -c;\n            ts[j + 56] = s && (e.right - t[0]) / s;\n            ts[j + 60] = c && (e.bottom - t[1]) / -c;\n          }\n          const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n          divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n          divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n          divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n          divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n          task._textDivProperties.set(div, divProperties);\n        }\n      }\n      function expandBounds(width, height, boxes) {\n        const bounds = boxes.map(function (box, i) {\n          return {\n            x1: box.left,\n            y1: box.top,\n            x2: box.right,\n            y2: box.bottom,\n            index: i,\n            x1New: undefined,\n            x2New: undefined\n          };\n        });\n        expandBoundsLTR(width, bounds);\n        const expanded = new Array(boxes.length);\n        for (const b of bounds) {\n          const i = b.index;\n          expanded[i] = {\n            left: b.x1New,\n            top: 0,\n            right: b.x2New,\n            bottom: 0\n          };\n        }\n        boxes.map(function (box, i) {\n          const e = expanded[i],\n            b = bounds[i];\n          b.x1 = box.top;\n          b.y1 = width - e.right;\n          b.x2 = box.bottom;\n          b.y2 = width - e.left;\n          b.index = i;\n          b.x1New = undefined;\n          b.x2New = undefined;\n        });\n        expandBoundsLTR(height, bounds);\n        for (const b of bounds) {\n          const i = b.index;\n          expanded[i].top = b.x1New;\n          expanded[i].bottom = b.x2New;\n        }\n        return expanded;\n      }\n      function expandBoundsLTR(width, bounds) {\n        bounds.sort(function (a, b) {\n          return a.x1 - b.x1 || a.index - b.index;\n        });\n        const fakeBoundary = {\n          x1: -Infinity,\n          y1: -Infinity,\n          x2: 0,\n          y2: Infinity,\n          index: -1,\n          x1New: 0,\n          x2New: 0\n        };\n        const horizon = [{\n          start: -Infinity,\n          end: Infinity,\n          boundary: fakeBoundary\n        }];\n        for (const boundary of bounds) {\n          let i = 0;\n          while (i < horizon.length && horizon[i].end <= boundary.y1) {\n            i++;\n          }\n          let j = horizon.length - 1;\n          while (j >= 0 && horizon[j].start >= boundary.y2) {\n            j--;\n          }\n          let horizonPart, affectedBoundary;\n          let q,\n            k,\n            maxXNew = -Infinity;\n          for (q = i; q <= j; q++) {\n            horizonPart = horizon[q];\n            affectedBoundary = horizonPart.boundary;\n            let xNew;\n            if (affectedBoundary.x2 > boundary.x1) {\n              xNew = affectedBoundary.index > boundary.index ? affectedBoundary.x1New : boundary.x1;\n            } else if (affectedBoundary.x2New === undefined) {\n              xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n            } else {\n              xNew = affectedBoundary.x2New;\n            }\n            if (xNew > maxXNew) {\n              maxXNew = xNew;\n            }\n          }\n          boundary.x1New = maxXNew;\n          for (q = i; q <= j; q++) {\n            horizonPart = horizon[q];\n            affectedBoundary = horizonPart.boundary;\n            if (affectedBoundary.x2New === undefined) {\n              if (affectedBoundary.x2 > boundary.x1) {\n                if (affectedBoundary.index > boundary.index) {\n                  affectedBoundary.x2New = affectedBoundary.x2;\n                }\n              } else {\n                affectedBoundary.x2New = maxXNew;\n              }\n            } else if (affectedBoundary.x2New > maxXNew) {\n              affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n            }\n          }\n          const changedHorizon = [];\n          let lastBoundary = null;\n          for (q = i; q <= j; q++) {\n            horizonPart = horizon[q];\n            affectedBoundary = horizonPart.boundary;\n            const useBoundary = affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n            if (lastBoundary === useBoundary) {\n              changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n            } else {\n              changedHorizon.push({\n                start: horizonPart.start,\n                end: horizonPart.end,\n                boundary: useBoundary\n              });\n              lastBoundary = useBoundary;\n            }\n          }\n          if (horizon[i].start < boundary.y1) {\n            changedHorizon[0].start = boundary.y1;\n            changedHorizon.unshift({\n              start: horizon[i].start,\n              end: boundary.y1,\n              boundary: horizon[i].boundary\n            });\n          }\n          if (boundary.y2 < horizon[j].end) {\n            changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n            changedHorizon.push({\n              start: boundary.y2,\n              end: horizon[j].end,\n              boundary: horizon[j].boundary\n            });\n          }\n          for (q = i; q <= j; q++) {\n            horizonPart = horizon[q];\n            affectedBoundary = horizonPart.boundary;\n            if (affectedBoundary.x2New !== undefined) {\n              continue;\n            }\n            let used = false;\n            for (k = i - 1; !used && k >= 0 && horizon[k].start >= affectedBoundary.y1; k--) {\n              used = horizon[k].boundary === affectedBoundary;\n            }\n            for (k = j + 1; !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2; k++) {\n              used = horizon[k].boundary === affectedBoundary;\n            }\n            for (k = 0; !used && k < changedHorizon.length; k++) {\n              used = changedHorizon[k].boundary === affectedBoundary;\n            }\n            if (!used) {\n              affectedBoundary.x2New = maxXNew;\n            }\n          }\n          Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n        }\n        for (const horizonPart of horizon) {\n          const affectedBoundary = horizonPart.boundary;\n          if (affectedBoundary.x2New === undefined) {\n            affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n          }\n        }\n      }\n      class TextLayerRenderTask {\n        constructor({\n          textContent,\n          textContentStream,\n          container,\n          viewport,\n          textDivs,\n          textContentItemsStr,\n          enhanceTextSelection\n        }) {\n          this._textContent = textContent;\n          this._textContentStream = textContentStream;\n          this._container = container;\n          this._document = container.ownerDocument;\n          this._viewport = viewport;\n          this._textDivs = textDivs || [];\n          this._textContentItemsStr = textContentItemsStr || [];\n          this._enhanceTextSelection = !!enhanceTextSelection;\n          this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n          this._reader = null;\n          this._layoutTextLastFontSize = null;\n          this._layoutTextLastFontFamily = null;\n          this._layoutTextCtx = null;\n          this._textDivProperties = new WeakMap();\n          this._renderingDone = false;\n          this._canceled = false;\n          this._capability = (0, _util.createPromiseCapability)();\n          this._renderTimer = null;\n          this._bounds = [];\n          this._capability.promise.finally(() => {\n            if (!this._enhanceTextSelection) {\n              this._textDivProperties = null;\n            }\n            if (this._layoutTextCtx) {\n              this._layoutTextCtx.canvas.width = 0;\n              this._layoutTextCtx.canvas.height = 0;\n              this._layoutTextCtx = null;\n            }\n          }).catch(() => {});\n        }\n        get promise() {\n          return this._capability.promise;\n        }\n        cancel() {\n          this._canceled = true;\n          if (this._reader) {\n            this._reader.cancel(new _util.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n            this._reader = null;\n          }\n          if (this._renderTimer !== null) {\n            clearTimeout(this._renderTimer);\n            this._renderTimer = null;\n          }\n          this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n        }\n        _processItems(items, styleCache) {\n          for (let i = 0, len = items.length; i < len; i++) {\n            if (items[i].str === undefined) {\n              if (items[i].type === \"beginMarkedContentProps\" || items[i].type === \"beginMarkedContent\") {\n                const parent = this._container;\n                this._container = document.createElement(\"span\");\n                this._container.classList.add(\"markedContent\");\n                if (items[i].id !== null) {\n                  this._container.setAttribute(\"id\", `${items[i].id}`);\n                }\n                parent.appendChild(this._container);\n              } else if (items[i].type === \"endMarkedContent\") {\n                this._container = this._container.parentNode;\n              }\n              continue;\n            }\n            this._textContentItemsStr.push(items[i].str);\n            appendText(this, items[i], styleCache, this._layoutTextCtx);\n          }\n        }\n        _layoutText(textDiv) {\n          const textDivProperties = this._textDivProperties.get(textDiv);\n          let transform = \"\";\n          if (textDivProperties.canvasWidth !== 0 && textDivProperties.hasText) {\n            const {\n              fontSize,\n              fontFamily\n            } = textDiv.style;\n            if (fontSize !== this._layoutTextLastFontSize || fontFamily !== this._layoutTextLastFontFamily) {\n              this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n              this._layoutTextLastFontSize = fontSize;\n              this._layoutTextLastFontFamily = fontFamily;\n            }\n            const {\n              width\n            } = this._layoutTextCtx.measureText(textDiv.textContent);\n            if (width > 0) {\n              const scale = textDivProperties.canvasWidth / width;\n              if (this._enhanceTextSelection) {\n                textDivProperties.scale = scale;\n              }\n              transform = `scaleX(${scale})`;\n            }\n          }\n          if (textDivProperties.angle !== 0) {\n            transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n          }\n          if (transform.length > 0) {\n            if (this._enhanceTextSelection) {\n              textDivProperties.originalTransform = transform;\n            }\n            textDiv.style.transform = transform;\n          }\n          if (textDivProperties.hasText) {\n            this._container.appendChild(textDiv);\n          }\n          if (textDivProperties.hasEOL) {\n            const br = document.createElement(\"br\");\n            br.setAttribute(\"role\", \"presentation\");\n            this._container.appendChild(br);\n          }\n        }\n        _render(timeout = 0) {\n          const capability = (0, _util.createPromiseCapability)();\n          let styleCache = Object.create(null);\n          const canvas = this._document.createElement(\"canvas\");\n          canvas.height = canvas.width = DEFAULT_FONT_SIZE;\n          canvas.mozOpaque = true;\n          this._layoutTextCtx = canvas.getContext(\"2d\", {\n            alpha: false\n          });\n          if (this._textContent) {\n            const textItems = this._textContent.items;\n            const textStyles = this._textContent.styles;\n            this._processItems(textItems, textStyles);\n            capability.resolve();\n          } else if (this._textContentStream) {\n            const pump = () => {\n              this._reader.read().then(({\n                value,\n                done\n              }) => {\n                if (done) {\n                  capability.resolve();\n                  return;\n                }\n                Object.assign(styleCache, value.styles);\n                this._processItems(value.items, styleCache);\n                pump();\n              }, capability.reject);\n            };\n            this._reader = this._textContentStream.getReader();\n            pump();\n          } else {\n            throw new Error('Neither \"textContent\" nor \"textContentStream\" parameters specified.');\n          }\n          capability.promise.then(() => {\n            styleCache = null;\n            if (!timeout) {\n              render(this);\n            } else {\n              this._renderTimer = setTimeout(() => {\n                render(this);\n                this._renderTimer = null;\n              }, timeout);\n            }\n          }, this._capability.reject);\n        }\n        expandTextDivs(expandDivs = false) {\n          if (!this._enhanceTextSelection || !this._renderingDone) {\n            return;\n          }\n          if (this._bounds !== null) {\n            expand(this);\n            this._bounds = null;\n          }\n          const transformBuf = [],\n            paddingBuf = [];\n          for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n            const div = this._textDivs[i];\n            const divProps = this._textDivProperties.get(div);\n            if (!divProps.hasText) {\n              continue;\n            }\n            if (expandDivs) {\n              transformBuf.length = 0;\n              paddingBuf.length = 0;\n              if (divProps.originalTransform) {\n                transformBuf.push(divProps.originalTransform);\n              }\n              if (divProps.paddingTop > 0) {\n                paddingBuf.push(`${divProps.paddingTop}px`);\n                transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n              } else {\n                paddingBuf.push(0);\n              }\n              if (divProps.paddingRight > 0) {\n                paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n              } else {\n                paddingBuf.push(0);\n              }\n              if (divProps.paddingBottom > 0) {\n                paddingBuf.push(`${divProps.paddingBottom}px`);\n              } else {\n                paddingBuf.push(0);\n              }\n              if (divProps.paddingLeft > 0) {\n                paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n                transformBuf.push(`translateX(${-divProps.paddingLeft / divProps.scale}px)`);\n              } else {\n                paddingBuf.push(0);\n              }\n              div.style.padding = paddingBuf.join(\" \");\n              if (transformBuf.length) {\n                div.style.transform = transformBuf.join(\" \");\n              }\n            } else {\n              div.style.padding = null;\n              div.style.transform = divProps.originalTransform;\n            }\n          }\n        }\n      }\n      function renderTextLayer(renderParameters) {\n        const task = new TextLayerRenderTask({\n          textContent: renderParameters.textContent,\n          textContentStream: renderParameters.textContentStream,\n          container: renderParameters.container,\n          viewport: renderParameters.viewport,\n          textDivs: renderParameters.textDivs,\n          textContentItemsStr: renderParameters.textContentItemsStr,\n          enhanceTextSelection: renderParameters.enhanceTextSelection\n        });\n        task._render(renderParameters.timeout);\n        return task;\n      }\n\n      /***/\n    }), (/* 21 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SVGGraphics = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _display_utils = __w_pdfjs_require__(1);\n      var _is_node = __w_pdfjs_require__(4);\n      let SVGGraphics = class {\n        constructor() {\n          (0, _util.unreachable)(\"Not implemented: SVGGraphics\");\n        }\n      };\n      exports.SVGGraphics = SVGGraphics;\n      {\n        const SVG_DEFAULTS = {\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fillColor: \"#000000\"\n        };\n        const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n        const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n        const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n        const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n        const convertImgDataToPng = function () {\n          const PNG_HEADER = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n          const CHUNK_WRAPPER_SIZE = 12;\n          const crcTable = new Int32Array(256);\n          for (let i = 0; i < 256; i++) {\n            let c = i;\n            for (let h = 0; h < 8; h++) {\n              if (c & 1) {\n                c = 0xedb88320 ^ c >> 1 & 0x7fffffff;\n              } else {\n                c = c >> 1 & 0x7fffffff;\n              }\n            }\n            crcTable[i] = c;\n          }\n          function crc32(data, start, end) {\n            let crc = -1;\n            for (let i = start; i < end; i++) {\n              const a = (crc ^ data[i]) & 0xff;\n              const b = crcTable[a];\n              crc = crc >>> 8 ^ b;\n            }\n            return crc ^ -1;\n          }\n          function writePngChunk(type, body, data, offset) {\n            let p = offset;\n            const len = body.length;\n            data[p] = len >> 24 & 0xff;\n            data[p + 1] = len >> 16 & 0xff;\n            data[p + 2] = len >> 8 & 0xff;\n            data[p + 3] = len & 0xff;\n            p += 4;\n            data[p] = type.charCodeAt(0) & 0xff;\n            data[p + 1] = type.charCodeAt(1) & 0xff;\n            data[p + 2] = type.charCodeAt(2) & 0xff;\n            data[p + 3] = type.charCodeAt(3) & 0xff;\n            p += 4;\n            data.set(body, p);\n            p += body.length;\n            const crc = crc32(data, offset + 4, p);\n            data[p] = crc >> 24 & 0xff;\n            data[p + 1] = crc >> 16 & 0xff;\n            data[p + 2] = crc >> 8 & 0xff;\n            data[p + 3] = crc & 0xff;\n          }\n          function adler32(data, start, end) {\n            let a = 1;\n            let b = 0;\n            for (let i = start; i < end; ++i) {\n              a = (a + (data[i] & 0xff)) % 65521;\n              b = (b + a) % 65521;\n            }\n            return b << 16 | a;\n          }\n          function deflateSync(literals) {\n            if (!_is_node.isNodeJS) {\n              return deflateSyncUncompressed(literals);\n            }\n            try {\n              let input;\n              if (parseInt(process.versions.node) >= 8) {\n                input = literals;\n              } else {\n                input = Buffer.from(literals);\n              }\n              const output = require(\"zlib\").deflateSync(input, {\n                level: 9\n              });\n              return output instanceof Uint8Array ? output : new Uint8Array(output);\n            } catch (e) {\n              (0, _util.warn)(\"Not compressing PNG because zlib.deflateSync is unavailable: \" + e);\n            }\n            return deflateSyncUncompressed(literals);\n          }\n          function deflateSyncUncompressed(literals) {\n            let len = literals.length;\n            const maxBlockLength = 0xffff;\n            const deflateBlocks = Math.ceil(len / maxBlockLength);\n            const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n            let pi = 0;\n            idat[pi++] = 0x78;\n            idat[pi++] = 0x9c;\n            let pos = 0;\n            while (len > maxBlockLength) {\n              idat[pi++] = 0x00;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0x00;\n              idat[pi++] = 0x00;\n              idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n              pi += maxBlockLength;\n              pos += maxBlockLength;\n              len -= maxBlockLength;\n            }\n            idat[pi++] = 0x01;\n            idat[pi++] = len & 0xff;\n            idat[pi++] = len >> 8 & 0xff;\n            idat[pi++] = ~len & 0xffff & 0xff;\n            idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n            idat.set(literals.subarray(pos), pi);\n            pi += literals.length - pos;\n            const adler = adler32(literals, 0, literals.length);\n            idat[pi++] = adler >> 24 & 0xff;\n            idat[pi++] = adler >> 16 & 0xff;\n            idat[pi++] = adler >> 8 & 0xff;\n            idat[pi++] = adler & 0xff;\n            return idat;\n          }\n          function encode(imgData, kind, forceDataSchema, isMask) {\n            const width = imgData.width;\n            const height = imgData.height;\n            let bitDepth, colorType, lineSize;\n            const bytes = imgData.data;\n            switch (kind) {\n              case _util.ImageKind.GRAYSCALE_1BPP:\n                colorType = 0;\n                bitDepth = 1;\n                lineSize = width + 7 >> 3;\n                break;\n              case _util.ImageKind.RGB_24BPP:\n                colorType = 2;\n                bitDepth = 8;\n                lineSize = width * 3;\n                break;\n              case _util.ImageKind.RGBA_32BPP:\n                colorType = 6;\n                bitDepth = 8;\n                lineSize = width * 4;\n                break;\n              default:\n                throw new Error(\"invalid format\");\n            }\n            const literals = new Uint8Array((1 + lineSize) * height);\n            let offsetLiterals = 0,\n              offsetBytes = 0;\n            for (let y = 0; y < height; ++y) {\n              literals[offsetLiterals++] = 0;\n              literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize), offsetLiterals);\n              offsetBytes += lineSize;\n              offsetLiterals += lineSize;\n            }\n            if (kind === _util.ImageKind.GRAYSCALE_1BPP && isMask) {\n              offsetLiterals = 0;\n              for (let y = 0; y < height; y++) {\n                offsetLiterals++;\n                for (let i = 0; i < lineSize; i++) {\n                  literals[offsetLiterals++] ^= 0xff;\n                }\n              }\n            }\n            const ihdr = new Uint8Array([width >> 24 & 0xff, width >> 16 & 0xff, width >> 8 & 0xff, width & 0xff, height >> 24 & 0xff, height >> 16 & 0xff, height >> 8 & 0xff, height & 0xff, bitDepth, colorType, 0x00, 0x00, 0x00]);\n            const idat = deflateSync(literals);\n            const pngLength = PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n            const data = new Uint8Array(pngLength);\n            let offset = 0;\n            data.set(PNG_HEADER, offset);\n            offset += PNG_HEADER.length;\n            writePngChunk(\"IHDR\", ihdr, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n            writePngChunk(\"IDATA\", idat, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + idat.length;\n            writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n            return (0, _util.createObjectURL)(data, \"image/png\", forceDataSchema);\n          }\n          return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n            const kind = imgData.kind === undefined ? _util.ImageKind.GRAYSCALE_1BPP : imgData.kind;\n            return encode(imgData, kind, forceDataSchema, isMask);\n          };\n        }();\n        class SVGExtraState {\n          constructor() {\n            this.fontSizeScale = 1;\n            this.fontWeight = SVG_DEFAULTS.fontWeight;\n            this.fontSize = 0;\n            this.textMatrix = _util.IDENTITY_MATRIX;\n            this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n            this.leading = 0;\n            this.textRenderingMode = _util.TextRenderingMode.FILL;\n            this.textMatrixScale = 1;\n            this.x = 0;\n            this.y = 0;\n            this.lineX = 0;\n            this.lineY = 0;\n            this.charSpacing = 0;\n            this.wordSpacing = 0;\n            this.textHScale = 1;\n            this.textRise = 0;\n            this.fillColor = SVG_DEFAULTS.fillColor;\n            this.strokeColor = \"#000000\";\n            this.fillAlpha = 1;\n            this.strokeAlpha = 1;\n            this.lineWidth = 1;\n            this.lineJoin = \"\";\n            this.lineCap = \"\";\n            this.miterLimit = 0;\n            this.dashArray = [];\n            this.dashPhase = 0;\n            this.dependencies = [];\n            this.activeClipUrl = null;\n            this.clipGroup = null;\n            this.maskId = \"\";\n          }\n          clone() {\n            return Object.create(this);\n          }\n          setCurrentPoint(x, y) {\n            this.x = x;\n            this.y = y;\n          }\n        }\n        function opListToTree(opList) {\n          let opTree = [];\n          const tmp = [];\n          for (const opListElement of opList) {\n            if (opListElement.fn === \"save\") {\n              opTree.push({\n                fnId: 92,\n                fn: \"group\",\n                items: []\n              });\n              tmp.push(opTree);\n              opTree = opTree[opTree.length - 1].items;\n              continue;\n            }\n            if (opListElement.fn === \"restore\") {\n              opTree = tmp.pop();\n            } else {\n              opTree.push(opListElement);\n            }\n          }\n          return opTree;\n        }\n        function pf(value) {\n          if (Number.isInteger(value)) {\n            return value.toString();\n          }\n          const s = value.toFixed(10);\n          let i = s.length - 1;\n          if (s[i] !== \"0\") {\n            return s;\n          }\n          do {\n            i--;\n          } while (s[i] === \"0\");\n          return s.substring(0, s[i] === \".\" ? i : i + 1);\n        }\n        function pm(m) {\n          if (m[4] === 0 && m[5] === 0) {\n            if (m[1] === 0 && m[2] === 0) {\n              if (m[0] === 1 && m[3] === 1) {\n                return \"\";\n              }\n              return `scale(${pf(m[0])} ${pf(m[3])})`;\n            }\n            if (m[0] === m[3] && m[1] === -m[2]) {\n              const a = Math.acos(m[0]) * 180 / Math.PI;\n              return `rotate(${pf(a)})`;\n            }\n          } else {\n            if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n              return `translate(${pf(m[4])} ${pf(m[5])})`;\n            }\n          }\n          return `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` + `${pf(m[5])})`;\n        }\n        let clipCount = 0;\n        let maskCount = 0;\n        let shadingCount = 0;\n        exports.SVGGraphics = SVGGraphics = class {\n          constructor(commonObjs, objs, forceDataSchema = false) {\n            this.svgFactory = new _display_utils.DOMSVGFactory();\n            this.current = new SVGExtraState();\n            this.transformMatrix = _util.IDENTITY_MATRIX;\n            this.transformStack = [];\n            this.extraStack = [];\n            this.commonObjs = commonObjs;\n            this.objs = objs;\n            this.pendingClip = null;\n            this.pendingEOFill = false;\n            this.embedFonts = false;\n            this.embeddedFonts = Object.create(null);\n            this.cssStyle = null;\n            this.forceDataSchema = !!forceDataSchema;\n            this._operatorIdMapping = [];\n            for (const op in _util.OPS) {\n              this._operatorIdMapping[_util.OPS[op]] = op;\n            }\n          }\n          save() {\n            this.transformStack.push(this.transformMatrix);\n            const old = this.current;\n            this.extraStack.push(old);\n            this.current = old.clone();\n          }\n          restore() {\n            this.transformMatrix = this.transformStack.pop();\n            this.current = this.extraStack.pop();\n            this.pendingClip = null;\n            this.tgrp = null;\n          }\n          group(items) {\n            this.save();\n            this.executeOpTree(items);\n            this.restore();\n          }\n          loadDependencies(operatorList) {\n            const fnArray = operatorList.fnArray;\n            const argsArray = operatorList.argsArray;\n            for (let i = 0, ii = fnArray.length; i < ii; i++) {\n              if (fnArray[i] !== _util.OPS.dependency) {\n                continue;\n              }\n              for (const obj of argsArray[i]) {\n                const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n                const promise = new Promise(resolve => {\n                  objsPool.get(obj, resolve);\n                });\n                this.current.dependencies.push(promise);\n              }\n            }\n            return Promise.all(this.current.dependencies);\n          }\n          transform(a, b, c, d, e, f) {\n            const transformMatrix = [a, b, c, d, e, f];\n            this.transformMatrix = _util.Util.transform(this.transformMatrix, transformMatrix);\n            this.tgrp = null;\n          }\n          getSVG(operatorList, viewport) {\n            this.viewport = viewport;\n            const svgElement = this._initialize(viewport);\n            return this.loadDependencies(operatorList).then(() => {\n              this.transformMatrix = _util.IDENTITY_MATRIX;\n              this.executeOpTree(this.convertOpList(operatorList));\n              return svgElement;\n            });\n          }\n          convertOpList(operatorList) {\n            const operatorIdMapping = this._operatorIdMapping;\n            const argsArray = operatorList.argsArray;\n            const fnArray = operatorList.fnArray;\n            const opList = [];\n            for (let i = 0, ii = fnArray.length; i < ii; i++) {\n              const fnId = fnArray[i];\n              opList.push({\n                fnId,\n                fn: operatorIdMapping[fnId],\n                args: argsArray[i]\n              });\n            }\n            return opListToTree(opList);\n          }\n          executeOpTree(opTree) {\n            for (const opTreeElement of opTree) {\n              const fn = opTreeElement.fn;\n              const fnId = opTreeElement.fnId;\n              const args = opTreeElement.args;\n              switch (fnId | 0) {\n                case _util.OPS.beginText:\n                  this.beginText();\n                  break;\n                case _util.OPS.dependency:\n                  break;\n                case _util.OPS.setLeading:\n                  this.setLeading(args);\n                  break;\n                case _util.OPS.setLeadingMoveText:\n                  this.setLeadingMoveText(args[0], args[1]);\n                  break;\n                case _util.OPS.setFont:\n                  this.setFont(args);\n                  break;\n                case _util.OPS.showText:\n                  this.showText(args[0]);\n                  break;\n                case _util.OPS.showSpacedText:\n                  this.showText(args[0]);\n                  break;\n                case _util.OPS.endText:\n                  this.endText();\n                  break;\n                case _util.OPS.moveText:\n                  this.moveText(args[0], args[1]);\n                  break;\n                case _util.OPS.setCharSpacing:\n                  this.setCharSpacing(args[0]);\n                  break;\n                case _util.OPS.setWordSpacing:\n                  this.setWordSpacing(args[0]);\n                  break;\n                case _util.OPS.setHScale:\n                  this.setHScale(args[0]);\n                  break;\n                case _util.OPS.setTextMatrix:\n                  this.setTextMatrix(args[0], args[1], args[2], args[3], args[4], args[5]);\n                  break;\n                case _util.OPS.setTextRise:\n                  this.setTextRise(args[0]);\n                  break;\n                case _util.OPS.setTextRenderingMode:\n                  this.setTextRenderingMode(args[0]);\n                  break;\n                case _util.OPS.setLineWidth:\n                  this.setLineWidth(args[0]);\n                  break;\n                case _util.OPS.setLineJoin:\n                  this.setLineJoin(args[0]);\n                  break;\n                case _util.OPS.setLineCap:\n                  this.setLineCap(args[0]);\n                  break;\n                case _util.OPS.setMiterLimit:\n                  this.setMiterLimit(args[0]);\n                  break;\n                case _util.OPS.setFillRGBColor:\n                  this.setFillRGBColor(args[0], args[1], args[2]);\n                  break;\n                case _util.OPS.setStrokeRGBColor:\n                  this.setStrokeRGBColor(args[0], args[1], args[2]);\n                  break;\n                case _util.OPS.setStrokeColorN:\n                  this.setStrokeColorN(args);\n                  break;\n                case _util.OPS.setFillColorN:\n                  this.setFillColorN(args);\n                  break;\n                case _util.OPS.shadingFill:\n                  this.shadingFill(args[0]);\n                  break;\n                case _util.OPS.setDash:\n                  this.setDash(args[0], args[1]);\n                  break;\n                case _util.OPS.setRenderingIntent:\n                  this.setRenderingIntent(args[0]);\n                  break;\n                case _util.OPS.setFlatness:\n                  this.setFlatness(args[0]);\n                  break;\n                case _util.OPS.setGState:\n                  this.setGState(args[0]);\n                  break;\n                case _util.OPS.fill:\n                  this.fill();\n                  break;\n                case _util.OPS.eoFill:\n                  this.eoFill();\n                  break;\n                case _util.OPS.stroke:\n                  this.stroke();\n                  break;\n                case _util.OPS.fillStroke:\n                  this.fillStroke();\n                  break;\n                case _util.OPS.eoFillStroke:\n                  this.eoFillStroke();\n                  break;\n                case _util.OPS.clip:\n                  this.clip(\"nonzero\");\n                  break;\n                case _util.OPS.eoClip:\n                  this.clip(\"evenodd\");\n                  break;\n                case _util.OPS.paintSolidColorImageMask:\n                  this.paintSolidColorImageMask();\n                  break;\n                case _util.OPS.paintImageXObject:\n                  this.paintImageXObject(args[0]);\n                  break;\n                case _util.OPS.paintInlineImageXObject:\n                  this.paintInlineImageXObject(args[0]);\n                  break;\n                case _util.OPS.paintImageMaskXObject:\n                  this.paintImageMaskXObject(args[0]);\n                  break;\n                case _util.OPS.paintFormXObjectBegin:\n                  this.paintFormXObjectBegin(args[0], args[1]);\n                  break;\n                case _util.OPS.paintFormXObjectEnd:\n                  this.paintFormXObjectEnd();\n                  break;\n                case _util.OPS.closePath:\n                  this.closePath();\n                  break;\n                case _util.OPS.closeStroke:\n                  this.closeStroke();\n                  break;\n                case _util.OPS.closeFillStroke:\n                  this.closeFillStroke();\n                  break;\n                case _util.OPS.closeEOFillStroke:\n                  this.closeEOFillStroke();\n                  break;\n                case _util.OPS.nextLine:\n                  this.nextLine();\n                  break;\n                case _util.OPS.transform:\n                  this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n                  break;\n                case _util.OPS.constructPath:\n                  this.constructPath(args[0], args[1]);\n                  break;\n                case _util.OPS.endPath:\n                  this.endPath();\n                  break;\n                case 92:\n                  this.group(opTreeElement.items);\n                  break;\n                default:\n                  (0, _util.warn)(`Unimplemented operator ${fn}`);\n                  break;\n              }\n            }\n          }\n          setWordSpacing(wordSpacing) {\n            this.current.wordSpacing = wordSpacing;\n          }\n          setCharSpacing(charSpacing) {\n            this.current.charSpacing = charSpacing;\n          }\n          nextLine() {\n            this.moveText(0, this.current.leading);\n          }\n          setTextMatrix(a, b, c, d, e, f) {\n            const current = this.current;\n            current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n            current.textMatrixScale = Math.hypot(a, b);\n            current.x = current.lineX = 0;\n            current.y = current.lineY = 0;\n            current.xcoords = [];\n            current.ycoords = [];\n            current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n            current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n            current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n            current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n            current.txtElement = this.svgFactory.createElement(\"svg:text\");\n            current.txtElement.appendChild(current.tspan);\n          }\n          beginText() {\n            const current = this.current;\n            current.x = current.lineX = 0;\n            current.y = current.lineY = 0;\n            current.textMatrix = _util.IDENTITY_MATRIX;\n            current.lineMatrix = _util.IDENTITY_MATRIX;\n            current.textMatrixScale = 1;\n            current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n            current.txtElement = this.svgFactory.createElement(\"svg:text\");\n            current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n            current.xcoords = [];\n            current.ycoords = [];\n          }\n          moveText(x, y) {\n            const current = this.current;\n            current.x = current.lineX += x;\n            current.y = current.lineY += y;\n            current.xcoords = [];\n            current.ycoords = [];\n            current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n            current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n            current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n            current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n          }\n          showText(glyphs) {\n            const current = this.current;\n            const font = current.font;\n            const fontSize = current.fontSize;\n            if (fontSize === 0) {\n              return;\n            }\n            const fontSizeScale = current.fontSizeScale;\n            const charSpacing = current.charSpacing;\n            const wordSpacing = current.wordSpacing;\n            const fontDirection = current.fontDirection;\n            const textHScale = current.textHScale * fontDirection;\n            const vertical = font.vertical;\n            const spacingDir = vertical ? 1 : -1;\n            const defaultVMetrics = font.defaultVMetrics;\n            const widthAdvanceScale = fontSize * current.fontMatrix[0];\n            let x = 0;\n            for (const glyph of glyphs) {\n              if (glyph === null) {\n                x += fontDirection * wordSpacing;\n                continue;\n              } else if ((0, _util.isNum)(glyph)) {\n                x += spacingDir * glyph * fontSize / 1000;\n                continue;\n              }\n              const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              const character = glyph.fontChar;\n              let scaledX, scaledY;\n              let width = glyph.width;\n              if (vertical) {\n                let vx;\n                const vmetric = glyph.vmetric || defaultVMetrics;\n                vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n                vx = -vx * widthAdvanceScale;\n                const vy = vmetric[2] * widthAdvanceScale;\n                width = vmetric ? -vmetric[0] : width;\n                scaledX = vx / fontSizeScale;\n                scaledY = (x + vy) / fontSizeScale;\n              } else {\n                scaledX = x / fontSizeScale;\n                scaledY = 0;\n              }\n              if (glyph.isInFont || font.missingFile) {\n                current.xcoords.push(current.x + scaledX);\n                if (vertical) {\n                  current.ycoords.push(-current.y + scaledY);\n                }\n                current.tspan.textContent += character;\n              } else {}\n              let charWidth;\n              if (vertical) {\n                charWidth = width * widthAdvanceScale - spacing * fontDirection;\n              } else {\n                charWidth = width * widthAdvanceScale + spacing * fontDirection;\n              }\n              x += charWidth;\n            }\n            current.tspan.setAttributeNS(null, \"x\", current.xcoords.map(pf).join(\" \"));\n            if (vertical) {\n              current.tspan.setAttributeNS(null, \"y\", current.ycoords.map(pf).join(\" \"));\n            } else {\n              current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n            }\n            if (vertical) {\n              current.y -= x;\n            } else {\n              current.x += x * textHScale;\n            }\n            current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n            current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n            if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n              current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n            }\n            if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n              current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n            }\n            const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n            if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n                current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n              }\n              if (current.fillAlpha < 1) {\n                current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n              }\n            } else if (current.textRenderingMode === _util.TextRenderingMode.ADD_TO_PATH) {\n              current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n            } else {\n              current.tspan.setAttributeNS(null, \"fill\", \"none\");\n            }\n            if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n              const lineWidthScale = 1 / (current.textMatrixScale || 1);\n              this._setStrokeAttributes(current.tspan, lineWidthScale);\n            }\n            let textMatrix = current.textMatrix;\n            if (current.textRise !== 0) {\n              textMatrix = textMatrix.slice();\n              textMatrix[5] += current.textRise;\n            }\n            current.txtElement.setAttributeNS(null, \"transform\", `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`);\n            current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n            current.txtElement.appendChild(current.tspan);\n            current.txtgrp.appendChild(current.txtElement);\n            this._ensureTransformGroup().appendChild(current.txtElement);\n          }\n          setLeadingMoveText(x, y) {\n            this.setLeading(-y);\n            this.moveText(x, y);\n          }\n          addFontStyle(fontObj) {\n            if (!fontObj.data) {\n              throw new Error(\"addFontStyle: No font data available, \" + 'ensure that the \"fontExtraProperties\" API parameter is set.');\n            }\n            if (!this.cssStyle) {\n              this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n              this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n              this.defs.appendChild(this.cssStyle);\n            }\n            const url = (0, _util.createObjectURL)(fontObj.data, fontObj.mimetype, this.forceDataSchema);\n            this.cssStyle.textContent += `@font-face { font-family: \"${fontObj.loadedName}\";` + ` src: url(${url}); }\\n`;\n          }\n          setFont(details) {\n            const current = this.current;\n            const fontObj = this.commonObjs.get(details[0]);\n            let size = details[1];\n            current.font = fontObj;\n            if (this.embedFonts && !fontObj.missingFile && !this.embeddedFonts[fontObj.loadedName]) {\n              this.addFontStyle(fontObj);\n              this.embeddedFonts[fontObj.loadedName] = fontObj;\n            }\n            current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n            let bold = \"normal\";\n            if (fontObj.black) {\n              bold = \"900\";\n            } else if (fontObj.bold) {\n              bold = \"bold\";\n            }\n            const italic = fontObj.italic ? \"italic\" : \"normal\";\n            if (size < 0) {\n              size = -size;\n              current.fontDirection = -1;\n            } else {\n              current.fontDirection = 1;\n            }\n            current.fontSize = size;\n            current.fontFamily = fontObj.loadedName;\n            current.fontWeight = bold;\n            current.fontStyle = italic;\n            current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n            current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n            current.xcoords = [];\n            current.ycoords = [];\n          }\n          endText() {\n            const current = this.current;\n            if (current.textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG && current.txtElement?.hasChildNodes()) {\n              current.element = current.txtElement;\n              this.clip(\"nonzero\");\n              this.endPath();\n            }\n          }\n          setLineWidth(width) {\n            if (width > 0) {\n              this.current.lineWidth = width;\n            }\n          }\n          setLineCap(style) {\n            this.current.lineCap = LINE_CAP_STYLES[style];\n          }\n          setLineJoin(style) {\n            this.current.lineJoin = LINE_JOIN_STYLES[style];\n          }\n          setMiterLimit(limit) {\n            this.current.miterLimit = limit;\n          }\n          setStrokeAlpha(strokeAlpha) {\n            this.current.strokeAlpha = strokeAlpha;\n          }\n          setStrokeRGBColor(r, g, b) {\n            this.current.strokeColor = _util.Util.makeHexColor(r, g, b);\n          }\n          setFillAlpha(fillAlpha) {\n            this.current.fillAlpha = fillAlpha;\n          }\n          setFillRGBColor(r, g, b) {\n            this.current.fillColor = _util.Util.makeHexColor(r, g, b);\n            this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n            this.current.xcoords = [];\n            this.current.ycoords = [];\n          }\n          setStrokeColorN(args) {\n            this.current.strokeColor = this._makeColorN_Pattern(args);\n          }\n          setFillColorN(args) {\n            this.current.fillColor = this._makeColorN_Pattern(args);\n          }\n          shadingFill(args) {\n            const width = this.viewport.width;\n            const height = this.viewport.height;\n            const inv = _util.Util.inverseTransform(this.transformMatrix);\n            const bl = _util.Util.applyTransform([0, 0], inv);\n            const br = _util.Util.applyTransform([0, height], inv);\n            const ul = _util.Util.applyTransform([width, 0], inv);\n            const ur = _util.Util.applyTransform([width, height], inv);\n            const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n            const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n            const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n            const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n            const rect = this.svgFactory.createElement(\"svg:rect\");\n            rect.setAttributeNS(null, \"x\", x0);\n            rect.setAttributeNS(null, \"y\", y0);\n            rect.setAttributeNS(null, \"width\", x1 - x0);\n            rect.setAttributeNS(null, \"height\", y1 - y0);\n            rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n            if (this.current.fillAlpha < 1) {\n              rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n            }\n            this._ensureTransformGroup().appendChild(rect);\n          }\n          _makeColorN_Pattern(args) {\n            if (args[0] === \"TilingPattern\") {\n              return this._makeTilingPattern(args);\n            }\n            return this._makeShadingPattern(args);\n          }\n          _makeTilingPattern(args) {\n            const color = args[1];\n            const operatorList = args[2];\n            const matrix = args[3] || _util.IDENTITY_MATRIX;\n            const [x0, y0, x1, y1] = args[4];\n            const xstep = args[5];\n            const ystep = args[6];\n            const paintType = args[7];\n            const tilingId = `shading${shadingCount++}`;\n            const [tx0, ty0, tx1, ty1] = _util.Util.normalizeRect([..._util.Util.applyTransform([x0, y0], matrix), ..._util.Util.applyTransform([x1, y1], matrix)]);\n            const [xscale, yscale] = _util.Util.singularValueDecompose2dScale(matrix);\n            const txstep = xstep * xscale;\n            const tystep = ystep * yscale;\n            const tiling = this.svgFactory.createElement(\"svg:pattern\");\n            tiling.setAttributeNS(null, \"id\", tilingId);\n            tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n            tiling.setAttributeNS(null, \"width\", txstep);\n            tiling.setAttributeNS(null, \"height\", tystep);\n            tiling.setAttributeNS(null, \"x\", `${tx0}`);\n            tiling.setAttributeNS(null, \"y\", `${ty0}`);\n            const svg = this.svg;\n            const transformMatrix = this.transformMatrix;\n            const fillColor = this.current.fillColor;\n            const strokeColor = this.current.strokeColor;\n            const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n            this.svg = bbox;\n            this.transformMatrix = matrix;\n            if (paintType === 2) {\n              const cssColor = _util.Util.makeHexColor(...color);\n              this.current.fillColor = cssColor;\n              this.current.strokeColor = cssColor;\n            }\n            this.executeOpTree(this.convertOpList(operatorList));\n            this.svg = svg;\n            this.transformMatrix = transformMatrix;\n            this.current.fillColor = fillColor;\n            this.current.strokeColor = strokeColor;\n            tiling.appendChild(bbox.childNodes[0]);\n            this.defs.appendChild(tiling);\n            return `url(#${tilingId})`;\n          }\n          _makeShadingPattern(args) {\n            switch (args[0]) {\n              case \"RadialAxial\":\n                const shadingId = `shading${shadingCount++}`;\n                const colorStops = args[3];\n                let gradient;\n                switch (args[1]) {\n                  case \"axial\":\n                    const point0 = args[4];\n                    const point1 = args[5];\n                    gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n                    gradient.setAttributeNS(null, \"id\", shadingId);\n                    gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n                    gradient.setAttributeNS(null, \"x1\", point0[0]);\n                    gradient.setAttributeNS(null, \"y1\", point0[1]);\n                    gradient.setAttributeNS(null, \"x2\", point1[0]);\n                    gradient.setAttributeNS(null, \"y2\", point1[1]);\n                    break;\n                  case \"radial\":\n                    const focalPoint = args[4];\n                    const circlePoint = args[5];\n                    const focalRadius = args[6];\n                    const circleRadius = args[7];\n                    gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n                    gradient.setAttributeNS(null, \"id\", shadingId);\n                    gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n                    gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n                    gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n                    gradient.setAttributeNS(null, \"r\", circleRadius);\n                    gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n                    gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n                    gradient.setAttributeNS(null, \"fr\", focalRadius);\n                    break;\n                  default:\n                    throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n                }\n                for (const colorStop of colorStops) {\n                  const stop = this.svgFactory.createElement(\"svg:stop\");\n                  stop.setAttributeNS(null, \"offset\", colorStop[0]);\n                  stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n                  gradient.appendChild(stop);\n                }\n                this.defs.appendChild(gradient);\n                return `url(#${shadingId})`;\n              case \"Mesh\":\n                (0, _util.warn)(\"Unimplemented pattern Mesh\");\n                return null;\n              case \"Dummy\":\n                return \"hotpink\";\n              default:\n                throw new Error(`Unknown IR type: ${args[0]}`);\n            }\n          }\n          setDash(dashArray, dashPhase) {\n            this.current.dashArray = dashArray;\n            this.current.dashPhase = dashPhase;\n          }\n          constructPath(ops, args) {\n            const current = this.current;\n            let x = current.x,\n              y = current.y;\n            let d = [];\n            let j = 0;\n            for (const op of ops) {\n              switch (op | 0) {\n                case _util.OPS.rectangle:\n                  x = args[j++];\n                  y = args[j++];\n                  const width = args[j++];\n                  const height = args[j++];\n                  const xw = x + width;\n                  const yh = y + height;\n                  d.push(\"M\", pf(x), pf(y), \"L\", pf(xw), pf(y), \"L\", pf(xw), pf(yh), \"L\", pf(x), pf(yh), \"Z\");\n                  break;\n                case _util.OPS.moveTo:\n                  x = args[j++];\n                  y = args[j++];\n                  d.push(\"M\", pf(x), pf(y));\n                  break;\n                case _util.OPS.lineTo:\n                  x = args[j++];\n                  y = args[j++];\n                  d.push(\"L\", pf(x), pf(y));\n                  break;\n                case _util.OPS.curveTo:\n                  x = args[j + 4];\n                  y = args[j + 5];\n                  d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]), pf(x), pf(y));\n                  j += 6;\n                  break;\n                case _util.OPS.curveTo2:\n                  d.push(\"C\", pf(x), pf(y), pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]));\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  j += 4;\n                  break;\n                case _util.OPS.curveTo3:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n                  j += 4;\n                  break;\n                case _util.OPS.closePath:\n                  d.push(\"Z\");\n                  break;\n              }\n            }\n            d = d.join(\" \");\n            if (current.path && ops.length > 0 && ops[0] !== _util.OPS.rectangle && ops[0] !== _util.OPS.moveTo) {\n              d = current.path.getAttributeNS(null, \"d\") + d;\n            } else {\n              current.path = this.svgFactory.createElement(\"svg:path\");\n              this._ensureTransformGroup().appendChild(current.path);\n            }\n            current.path.setAttributeNS(null, \"d\", d);\n            current.path.setAttributeNS(null, \"fill\", \"none\");\n            current.element = current.path;\n            current.setCurrentPoint(x, y);\n          }\n          endPath() {\n            const current = this.current;\n            current.path = null;\n            if (!this.pendingClip) {\n              return;\n            }\n            if (!current.element) {\n              this.pendingClip = null;\n              return;\n            }\n            const clipId = `clippath${clipCount++}`;\n            const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n            clipPath.setAttributeNS(null, \"id\", clipId);\n            clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n            const clipElement = current.element.cloneNode(true);\n            if (this.pendingClip === \"evenodd\") {\n              clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n            } else {\n              clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n            }\n            this.pendingClip = null;\n            clipPath.appendChild(clipElement);\n            this.defs.appendChild(clipPath);\n            if (current.activeClipUrl) {\n              current.clipGroup = null;\n              for (const prev of this.extraStack) {\n                prev.clipGroup = null;\n              }\n              clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n            }\n            current.activeClipUrl = `url(#${clipId})`;\n            this.tgrp = null;\n          }\n          clip(type) {\n            this.pendingClip = type;\n          }\n          closePath() {\n            const current = this.current;\n            if (current.path) {\n              const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n              current.path.setAttributeNS(null, \"d\", d);\n            }\n          }\n          setLeading(leading) {\n            this.current.leading = -leading;\n          }\n          setTextRise(textRise) {\n            this.current.textRise = textRise;\n          }\n          setTextRenderingMode(textRenderingMode) {\n            this.current.textRenderingMode = textRenderingMode;\n          }\n          setHScale(scale) {\n            this.current.textHScale = scale / 100;\n          }\n          setRenderingIntent(intent) {}\n          setFlatness(flatness) {}\n          setGState(states) {\n            for (const [key, value] of states) {\n              switch (key) {\n                case \"LW\":\n                  this.setLineWidth(value);\n                  break;\n                case \"LC\":\n                  this.setLineCap(value);\n                  break;\n                case \"LJ\":\n                  this.setLineJoin(value);\n                  break;\n                case \"ML\":\n                  this.setMiterLimit(value);\n                  break;\n                case \"D\":\n                  this.setDash(value[0], value[1]);\n                  break;\n                case \"RI\":\n                  this.setRenderingIntent(value);\n                  break;\n                case \"FL\":\n                  this.setFlatness(value);\n                  break;\n                case \"Font\":\n                  this.setFont(value);\n                  break;\n                case \"CA\":\n                  this.setStrokeAlpha(value);\n                  break;\n                case \"ca\":\n                  this.setFillAlpha(value);\n                  break;\n                default:\n                  (0, _util.warn)(`Unimplemented graphic state operator ${key}`);\n                  break;\n              }\n            }\n          }\n          fill() {\n            const current = this.current;\n            if (current.element) {\n              current.element.setAttributeNS(null, \"fill\", current.fillColor);\n              current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n              this.endPath();\n            }\n          }\n          stroke() {\n            const current = this.current;\n            if (current.element) {\n              this._setStrokeAttributes(current.element);\n              current.element.setAttributeNS(null, \"fill\", \"none\");\n              this.endPath();\n            }\n          }\n          _setStrokeAttributes(element, lineWidthScale = 1) {\n            const current = this.current;\n            let dashArray = current.dashArray;\n            if (lineWidthScale !== 1 && dashArray.length > 0) {\n              dashArray = dashArray.map(function (value) {\n                return lineWidthScale * value;\n              });\n            }\n            element.setAttributeNS(null, \"stroke\", current.strokeColor);\n            element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n            element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n            element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n            element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n            element.setAttributeNS(null, \"stroke-width\", pf(lineWidthScale * current.lineWidth) + \"px\");\n            element.setAttributeNS(null, \"stroke-dasharray\", dashArray.map(pf).join(\" \"));\n            element.setAttributeNS(null, \"stroke-dashoffset\", pf(lineWidthScale * current.dashPhase) + \"px\");\n          }\n          eoFill() {\n            if (this.current.element) {\n              this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n            }\n            this.fill();\n          }\n          fillStroke() {\n            this.stroke();\n            this.fill();\n          }\n          eoFillStroke() {\n            if (this.current.element) {\n              this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n            }\n            this.fillStroke();\n          }\n          closeStroke() {\n            this.closePath();\n            this.stroke();\n          }\n          closeFillStroke() {\n            this.closePath();\n            this.fillStroke();\n          }\n          closeEOFillStroke() {\n            this.closePath();\n            this.eoFillStroke();\n          }\n          paintSolidColorImageMask() {\n            const rect = this.svgFactory.createElement(\"svg:rect\");\n            rect.setAttributeNS(null, \"x\", \"0\");\n            rect.setAttributeNS(null, \"y\", \"0\");\n            rect.setAttributeNS(null, \"width\", \"1px\");\n            rect.setAttributeNS(null, \"height\", \"1px\");\n            rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n            this._ensureTransformGroup().appendChild(rect);\n          }\n          paintImageXObject(objId) {\n            const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n            if (!imgData) {\n              (0, _util.warn)(`Dependent image with object ID ${objId} is not ready yet`);\n              return;\n            }\n            this.paintInlineImageXObject(imgData);\n          }\n          paintInlineImageXObject(imgData, mask) {\n            const width = imgData.width;\n            const height = imgData.height;\n            const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n            const cliprect = this.svgFactory.createElement(\"svg:rect\");\n            cliprect.setAttributeNS(null, \"x\", \"0\");\n            cliprect.setAttributeNS(null, \"y\", \"0\");\n            cliprect.setAttributeNS(null, \"width\", pf(width));\n            cliprect.setAttributeNS(null, \"height\", pf(height));\n            this.current.element = cliprect;\n            this.clip(\"nonzero\");\n            const imgEl = this.svgFactory.createElement(\"svg:image\");\n            imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n            imgEl.setAttributeNS(null, \"x\", \"0\");\n            imgEl.setAttributeNS(null, \"y\", pf(-height));\n            imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n            imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n            imgEl.setAttributeNS(null, \"transform\", `scale(${pf(1 / width)} ${pf(-1 / height)})`);\n            if (mask) {\n              mask.appendChild(imgEl);\n            } else {\n              this._ensureTransformGroup().appendChild(imgEl);\n            }\n          }\n          paintImageMaskXObject(imgData) {\n            const current = this.current;\n            const width = imgData.width;\n            const height = imgData.height;\n            const fillColor = current.fillColor;\n            current.maskId = `mask${maskCount++}`;\n            const mask = this.svgFactory.createElement(\"svg:mask\");\n            mask.setAttributeNS(null, \"id\", current.maskId);\n            const rect = this.svgFactory.createElement(\"svg:rect\");\n            rect.setAttributeNS(null, \"x\", \"0\");\n            rect.setAttributeNS(null, \"y\", \"0\");\n            rect.setAttributeNS(null, \"width\", pf(width));\n            rect.setAttributeNS(null, \"height\", pf(height));\n            rect.setAttributeNS(null, \"fill\", fillColor);\n            rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n            this.defs.appendChild(mask);\n            this._ensureTransformGroup().appendChild(rect);\n            this.paintInlineImageXObject(imgData, mask);\n          }\n          paintFormXObjectBegin(matrix, bbox) {\n            if (Array.isArray(matrix) && matrix.length === 6) {\n              this.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n            }\n            if (bbox) {\n              const width = bbox[2] - bbox[0];\n              const height = bbox[3] - bbox[1];\n              const cliprect = this.svgFactory.createElement(\"svg:rect\");\n              cliprect.setAttributeNS(null, \"x\", bbox[0]);\n              cliprect.setAttributeNS(null, \"y\", bbox[1]);\n              cliprect.setAttributeNS(null, \"width\", pf(width));\n              cliprect.setAttributeNS(null, \"height\", pf(height));\n              this.current.element = cliprect;\n              this.clip(\"nonzero\");\n              this.endPath();\n            }\n          }\n          paintFormXObjectEnd() {}\n          _initialize(viewport) {\n            const svg = this.svgFactory.create(viewport.width, viewport.height);\n            const definitions = this.svgFactory.createElement(\"svg:defs\");\n            svg.appendChild(definitions);\n            this.defs = definitions;\n            const rootGroup = this.svgFactory.createElement(\"svg:g\");\n            rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n            svg.appendChild(rootGroup);\n            this.svg = rootGroup;\n            return svg;\n          }\n          _ensureClipGroup() {\n            if (!this.current.clipGroup) {\n              const clipGroup = this.svgFactory.createElement(\"svg:g\");\n              clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n              this.svg.appendChild(clipGroup);\n              this.current.clipGroup = clipGroup;\n            }\n            return this.current.clipGroup;\n          }\n          _ensureTransformGroup() {\n            if (!this.tgrp) {\n              this.tgrp = this.svgFactory.createElement(\"svg:g\");\n              this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n              if (this.current.activeClipUrl) {\n                this._ensureClipGroup().appendChild(this.tgrp);\n              } else {\n                this.svg.appendChild(this.tgrp);\n              }\n            }\n            return this.tgrp;\n          }\n        };\n      }\n\n      /***/\n    }), (/* 22 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.XfaLayer = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _xfa_text = __w_pdfjs_require__(17);\n      class XfaLayer {\n        static setupStorage(html, id, element, storage, intent) {\n          const storedData = storage.getValue(id, {\n            value: null\n          });\n          switch (element.name) {\n            case \"textarea\":\n              if (storedData.value !== null) {\n                html.textContent = storedData.value;\n              }\n              if (intent === \"print\") {\n                break;\n              }\n              html.addEventListener(\"input\", event => {\n                storage.setValue(id, {\n                  value: event.target.value\n                });\n              });\n              break;\n            case \"input\":\n              if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n                if (storedData.value === element.attributes.xfaOn) {\n                  html.setAttribute(\"checked\", true);\n                } else if (storedData.value === element.attributes.xfaOff) {\n                  html.removeAttribute(\"checked\");\n                }\n                if (intent === \"print\") {\n                  break;\n                }\n                html.addEventListener(\"change\", event => {\n                  storage.setValue(id, {\n                    value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n                  });\n                });\n              } else {\n                if (storedData.value !== null) {\n                  html.setAttribute(\"value\", storedData.value);\n                }\n                if (intent === \"print\") {\n                  break;\n                }\n                html.addEventListener(\"input\", event => {\n                  storage.setValue(id, {\n                    value: event.target.value\n                  });\n                });\n              }\n              break;\n            case \"select\":\n              if (storedData.value !== null) {\n                for (const option of element.children) {\n                  if (option.attributes.value === storedData.value) {\n                    option.attributes.selected = true;\n                  }\n                }\n              }\n              html.addEventListener(\"input\", event => {\n                const options = event.target.options;\n                const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n                storage.setValue(id, {\n                  value\n                });\n              });\n              break;\n          }\n        }\n        static setAttributes({\n          html,\n          element,\n          storage = null,\n          intent,\n          linkService\n        }) {\n          const {\n            attributes\n          } = element;\n          const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n          if (attributes.type === \"radio\") {\n            attributes.name = `${attributes.name}-${intent}`;\n          }\n          for (const [key, value] of Object.entries(attributes)) {\n            if (value === null || value === undefined || key === \"dataId\") {\n              continue;\n            }\n            if (key !== \"style\") {\n              if (key === \"textContent\") {\n                html.textContent = value;\n              } else if (key === \"class\") {\n                html.setAttribute(key, value.join(\" \"));\n              } else {\n                if (isHTMLAnchorElement && (key === \"href\" || key === \"newWindow\")) {\n                  continue;\n                }\n                html.setAttribute(key, value);\n              }\n            } else {\n              Object.assign(html.style, value);\n            }\n          }\n          if (isHTMLAnchorElement) {\n            if (!linkService.addLinkAttributes) {\n              (0, _util.warn)(\"XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance.\");\n            }\n            linkService.addLinkAttributes?.(html, attributes.href, attributes.newWindow);\n          }\n          if (storage && attributes.dataId) {\n            this.setupStorage(html, attributes.dataId, element, storage);\n          }\n        }\n        static render(parameters) {\n          const storage = parameters.annotationStorage;\n          const linkService = parameters.linkService;\n          const root = parameters.xfa;\n          const intent = parameters.intent || \"display\";\n          const rootHtml = document.createElement(root.name);\n          if (root.attributes) {\n            this.setAttributes({\n              html: rootHtml,\n              element: root,\n              intent,\n              linkService\n            });\n          }\n          const stack = [[root, -1, rootHtml]];\n          const rootDiv = parameters.div;\n          rootDiv.appendChild(rootHtml);\n          const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n          rootDiv.style.transform = transform;\n          rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n          const textDivs = [];\n          while (stack.length > 0) {\n            const [parent, i, html] = stack[stack.length - 1];\n            if (i + 1 === parent.children.length) {\n              stack.pop();\n              continue;\n            }\n            const child = parent.children[++stack[stack.length - 1][1]];\n            if (child === null) {\n              continue;\n            }\n            const {\n              name\n            } = child;\n            if (name === \"#text\") {\n              const node = document.createTextNode(child.value);\n              textDivs.push(node);\n              html.appendChild(node);\n              continue;\n            }\n            let childHtml;\n            if (child?.attributes?.xmlns) {\n              childHtml = document.createElementNS(child.attributes.xmlns, name);\n            } else {\n              childHtml = document.createElement(name);\n            }\n            html.appendChild(childHtml);\n            if (child.attributes) {\n              this.setAttributes({\n                html: childHtml,\n                element: child,\n                storage,\n                intent,\n                linkService\n              });\n            }\n            if (child.children && child.children.length > 0) {\n              stack.push([child, -1, childHtml]);\n            } else if (child.value) {\n              const node = document.createTextNode(child.value);\n              if (_xfa_text.XfaText.shouldBuildText(name)) {\n                textDivs.push(node);\n              }\n              childHtml.appendChild(node);\n            }\n          }\n          for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n            el.setAttribute(\"readOnly\", true);\n          }\n          return {\n            textDivs\n          };\n        }\n        static update(parameters) {\n          const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n          parameters.div.style.transform = transform;\n          parameters.div.hidden = false;\n        }\n      }\n      exports.XfaLayer = XfaLayer;\n\n      /***/\n    }), (/* 23 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFNodeStream = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _network_utils = __w_pdfjs_require__(24);\n      ;\n      const fs = require(\"fs\");\n      const http = require(\"http\");\n      const https = require(\"https\");\n      const url = require(\"url\");\n      const fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n      function parseUrl(sourceUrl) {\n        const parsedUrl = url.parse(sourceUrl);\n        if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n          return parsedUrl;\n        }\n        if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n          return url.parse(`file:///${sourceUrl}`);\n        }\n        if (!parsedUrl.host) {\n          parsedUrl.protocol = \"file:\";\n        }\n        return parsedUrl;\n      }\n      class PDFNodeStream {\n        constructor(source) {\n          this.source = source;\n          this.url = parseUrl(source.url);\n          this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n          this.isFsUrl = this.url.protocol === \"file:\";\n          this.httpHeaders = this.isHttp && source.httpHeaders || {};\n          this._fullRequestReader = null;\n          this._rangeRequestReaders = [];\n        }\n        get _progressiveDataLength() {\n          return this._fullRequestReader?._loaded ?? 0;\n        }\n        getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n          this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n          return this._fullRequestReader;\n        }\n        getRangeReader(start, end) {\n          if (end <= this._progressiveDataLength) {\n            return null;\n          }\n          const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n          this._rangeRequestReaders.push(rangeReader);\n          return rangeReader;\n        }\n        cancelAllRequests(reason) {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.cancel(reason);\n          }\n          for (const reader of this._rangeRequestReaders.slice(0)) {\n            reader.cancel(reason);\n          }\n        }\n      }\n      exports.PDFNodeStream = PDFNodeStream;\n      class BaseFullReader {\n        constructor(stream) {\n          this._url = stream.url;\n          this._done = false;\n          this._storedError = null;\n          this.onProgress = null;\n          const source = stream.source;\n          this._contentLength = source.length;\n          this._loaded = 0;\n          this._filename = null;\n          this._disableRange = source.disableRange || false;\n          this._rangeChunkSize = source.rangeChunkSize;\n          if (!this._rangeChunkSize && !this._disableRange) {\n            this._disableRange = true;\n          }\n          this._isStreamingSupported = !source.disableStream;\n          this._isRangeSupported = !source.disableRange;\n          this._readableStream = null;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          this._headersCapability = (0, _util.createPromiseCapability)();\n        }\n        get headersReady() {\n          return this._headersCapability.promise;\n        }\n        get filename() {\n          return this._filename;\n        }\n        get contentLength() {\n          return this._contentLength;\n        }\n        get isRangeSupported() {\n          return this._isRangeSupported;\n        }\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        }\n        async read() {\n          await this._readCapability.promise;\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          if (this._storedError) {\n            throw this._storedError;\n          }\n          const chunk = this._readableStream.read();\n          if (chunk === null) {\n            this._readCapability = (0, _util.createPromiseCapability)();\n            return this.read();\n          }\n          this._loaded += chunk.length;\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: this._loaded,\n              total: this._contentLength\n            });\n          }\n          const buffer = new Uint8Array(chunk).buffer;\n          return {\n            value: buffer,\n            done: false\n          };\n        }\n        cancel(reason) {\n          if (!this._readableStream) {\n            this._error(reason);\n            return;\n          }\n          this._readableStream.destroy(reason);\n        }\n        _error(reason) {\n          this._storedError = reason;\n          this._readCapability.resolve();\n        }\n        _setReadableStream(readableStream) {\n          this._readableStream = readableStream;\n          readableStream.on(\"readable\", () => {\n            this._readCapability.resolve();\n          });\n          readableStream.on(\"end\", () => {\n            readableStream.destroy();\n            this._done = true;\n            this._readCapability.resolve();\n          });\n          readableStream.on(\"error\", reason => {\n            this._error(reason);\n          });\n          if (!this._isStreamingSupported && this._isRangeSupported) {\n            this._error(new _util.AbortException(\"streaming is disabled\"));\n          }\n          if (this._storedError) {\n            this._readableStream.destroy(this._storedError);\n          }\n        }\n      }\n      class BaseRangeReader {\n        constructor(stream) {\n          this._url = stream.url;\n          this._done = false;\n          this._storedError = null;\n          this.onProgress = null;\n          this._loaded = 0;\n          this._readableStream = null;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          const source = stream.source;\n          this._isStreamingSupported = !source.disableStream;\n        }\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        }\n        async read() {\n          await this._readCapability.promise;\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          if (this._storedError) {\n            throw this._storedError;\n          }\n          const chunk = this._readableStream.read();\n          if (chunk === null) {\n            this._readCapability = (0, _util.createPromiseCapability)();\n            return this.read();\n          }\n          this._loaded += chunk.length;\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: this._loaded\n            });\n          }\n          const buffer = new Uint8Array(chunk).buffer;\n          return {\n            value: buffer,\n            done: false\n          };\n        }\n        cancel(reason) {\n          if (!this._readableStream) {\n            this._error(reason);\n            return;\n          }\n          this._readableStream.destroy(reason);\n        }\n        _error(reason) {\n          this._storedError = reason;\n          this._readCapability.resolve();\n        }\n        _setReadableStream(readableStream) {\n          this._readableStream = readableStream;\n          readableStream.on(\"readable\", () => {\n            this._readCapability.resolve();\n          });\n          readableStream.on(\"end\", () => {\n            readableStream.destroy();\n            this._done = true;\n            this._readCapability.resolve();\n          });\n          readableStream.on(\"error\", reason => {\n            this._error(reason);\n          });\n          if (this._storedError) {\n            this._readableStream.destroy(this._storedError);\n          }\n        }\n      }\n      function createRequestOptions(parsedUrl, headers) {\n        return {\n          protocol: parsedUrl.protocol,\n          auth: parsedUrl.auth,\n          host: parsedUrl.hostname,\n          port: parsedUrl.port,\n          path: parsedUrl.path,\n          method: \"GET\",\n          headers\n        };\n      }\n      class PDFNodeStreamFullReader extends BaseFullReader {\n        constructor(stream) {\n          super(stream);\n          const handleResponse = response => {\n            if (response.statusCode === 404) {\n              const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n              this._storedError = error;\n              this._headersCapability.reject(error);\n              return;\n            }\n            this._headersCapability.resolve();\n            this._setReadableStream(response);\n            const getResponseHeader = name => {\n              return this._readableStream.headers[name.toLowerCase()];\n            };\n            const {\n              allowRangeRequests,\n              suggestedLength\n            } = (0, _network_utils.validateRangeRequestCapabilities)({\n              getResponseHeader,\n              isHttp: stream.isHttp,\n              rangeChunkSize: this._rangeChunkSize,\n              disableRange: this._disableRange\n            });\n            this._isRangeSupported = allowRangeRequests;\n            this._contentLength = suggestedLength || this._contentLength;\n            this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n          };\n          this._request = null;\n          if (this._url.protocol === \"http:\") {\n            this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n          } else {\n            this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n          }\n          this._request.on(\"error\", reason => {\n            this._storedError = reason;\n            this._headersCapability.reject(reason);\n          });\n          this._request.end();\n        }\n      }\n      class PDFNodeStreamRangeReader extends BaseRangeReader {\n        constructor(stream, start, end) {\n          super(stream);\n          this._httpHeaders = {};\n          for (const property in stream.httpHeaders) {\n            const value = stream.httpHeaders[property];\n            if (typeof value === \"undefined\") {\n              continue;\n            }\n            this._httpHeaders[property] = value;\n          }\n          this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n          const handleResponse = response => {\n            if (response.statusCode === 404) {\n              const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n              this._storedError = error;\n              return;\n            }\n            this._setReadableStream(response);\n          };\n          this._request = null;\n          if (this._url.protocol === \"http:\") {\n            this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n          } else {\n            this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n          }\n          this._request.on(\"error\", reason => {\n            this._storedError = reason;\n          });\n          this._request.end();\n        }\n      }\n      class PDFNodeStreamFsFullReader extends BaseFullReader {\n        constructor(stream) {\n          super(stream);\n          let path = decodeURIComponent(this._url.path);\n          if (fileUriRegex.test(this._url.href)) {\n            path = path.replace(/^\\//, \"\");\n          }\n          fs.lstat(path, (error, stat) => {\n            if (error) {\n              if (error.code === \"ENOENT\") {\n                error = new _util.MissingPDFException(`Missing PDF \"${path}\".`);\n              }\n              this._storedError = error;\n              this._headersCapability.reject(error);\n              return;\n            }\n            this._contentLength = stat.size;\n            this._setReadableStream(fs.createReadStream(path));\n            this._headersCapability.resolve();\n          });\n        }\n      }\n      class PDFNodeStreamFsRangeReader extends BaseRangeReader {\n        constructor(stream, start, end) {\n          super(stream);\n          let path = decodeURIComponent(this._url.path);\n          if (fileUriRegex.test(this._url.href)) {\n            path = path.replace(/^\\//, \"\");\n          }\n          this._setReadableStream(fs.createReadStream(path, {\n            start,\n            end: end - 1\n          }));\n        }\n      }\n\n      /***/\n    }), (/* 24 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.createResponseStatusError = createResponseStatusError;\n      exports.extractFilenameFromHeader = extractFilenameFromHeader;\n      exports.validateRangeRequestCapabilities = validateRangeRequestCapabilities;\n      exports.validateResponseStatus = validateResponseStatus;\n      var _util = __w_pdfjs_require__(2);\n      var _content_disposition = __w_pdfjs_require__(25);\n      var _display_utils = __w_pdfjs_require__(1);\n      function validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp,\n        rangeChunkSize,\n        disableRange\n      }) {\n        (0, _util.assert)(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n        const returnValues = {\n          allowRangeRequests: false,\n          suggestedLength: undefined\n        };\n        const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n        if (!Number.isInteger(length)) {\n          return returnValues;\n        }\n        returnValues.suggestedLength = length;\n        if (length <= 2 * rangeChunkSize) {\n          return returnValues;\n        }\n        if (disableRange || !isHttp) {\n          return returnValues;\n        }\n        if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n          return returnValues;\n        }\n        const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n        if (contentEncoding !== \"identity\") {\n          return returnValues;\n        }\n        returnValues.allowRangeRequests = true;\n        return returnValues;\n      }\n      function extractFilenameFromHeader(getResponseHeader) {\n        const contentDisposition = getResponseHeader(\"Content-Disposition\");\n        if (contentDisposition) {\n          let filename = (0, _content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);\n          if (filename.includes(\"%\")) {\n            try {\n              filename = decodeURIComponent(filename);\n            } catch (ex) {}\n          }\n          if ((0, _display_utils.isPdfFile)(filename)) {\n            return filename;\n          }\n        }\n        return null;\n      }\n      function createResponseStatusError(status, url) {\n        if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n          return new _util.MissingPDFException('Missing PDF \"' + url + '\".');\n        }\n        return new _util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n      }\n      function validateResponseStatus(status) {\n        return status === 200 || status === 206;\n      }\n\n      /***/\n    }), (/* 25 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getFilenameFromContentDispositionHeader = getFilenameFromContentDispositionHeader;\n      var _util = __w_pdfjs_require__(2);\n      function getFilenameFromContentDispositionHeader(contentDisposition) {\n        let needsEncodingFixup = true;\n        let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n        if (tmp) {\n          tmp = tmp[1];\n          let filename = rfc2616unquote(tmp);\n          filename = unescape(filename);\n          filename = rfc5987decode(filename);\n          filename = rfc2047decode(filename);\n          return fixupEncoding(filename);\n        }\n        tmp = rfc2231getparam(contentDisposition);\n        if (tmp) {\n          const filename = rfc2047decode(tmp);\n          return fixupEncoding(filename);\n        }\n        tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n        if (tmp) {\n          tmp = tmp[1];\n          let filename = rfc2616unquote(tmp);\n          filename = rfc2047decode(filename);\n          return fixupEncoding(filename);\n        }\n        function toParamRegExp(attributePattern, flags) {\n          return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n        }\n        function textdecode(encoding, value) {\n          if (encoding) {\n            if (!/^[\\x00-\\xFF]+$/.test(value)) {\n              return value;\n            }\n            try {\n              const decoder = new TextDecoder(encoding, {\n                fatal: true\n              });\n              const buffer = (0, _util.stringToBytes)(value);\n              value = decoder.decode(buffer);\n              needsEncodingFixup = false;\n            } catch (e) {\n              if (/^utf-?8$/i.test(encoding)) {\n                try {\n                  value = decodeURIComponent(escape(value));\n                  needsEncodingFixup = false;\n                } catch (err) {}\n              }\n            }\n          }\n          return value;\n        }\n        function fixupEncoding(value) {\n          if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n            value = textdecode(\"utf-8\", value);\n            if (needsEncodingFixup) {\n              value = textdecode(\"iso-8859-1\", value);\n            }\n          }\n          return value;\n        }\n        function rfc2231getparam(contentDispositionStr) {\n          const matches = [];\n          let match;\n          const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n          while ((match = iter.exec(contentDispositionStr)) !== null) {\n            let [, n, quot, part] = match;\n            n = parseInt(n, 10);\n            if (n in matches) {\n              if (n === 0) {\n                break;\n              }\n              continue;\n            }\n            matches[n] = [quot, part];\n          }\n          const parts = [];\n          for (let n = 0; n < matches.length; ++n) {\n            if (!(n in matches)) {\n              break;\n            }\n            let [quot, part] = matches[n];\n            part = rfc2616unquote(part);\n            if (quot) {\n              part = unescape(part);\n              if (n === 0) {\n                part = rfc5987decode(part);\n              }\n            }\n            parts.push(part);\n          }\n          return parts.join(\"\");\n        }\n        function rfc2616unquote(value) {\n          if (value.startsWith('\"')) {\n            const parts = value.slice(1).split('\\\\\"');\n            for (let i = 0; i < parts.length; ++i) {\n              const quotindex = parts[i].indexOf('\"');\n              if (quotindex !== -1) {\n                parts[i] = parts[i].slice(0, quotindex);\n                parts.length = i + 1;\n              }\n              parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n            }\n            value = parts.join('\"');\n          }\n          return value;\n        }\n        function rfc5987decode(extvalue) {\n          const encodingend = extvalue.indexOf(\"'\");\n          if (encodingend === -1) {\n            return extvalue;\n          }\n          const encoding = extvalue.slice(0, encodingend);\n          const langvalue = extvalue.slice(encodingend + 1);\n          const value = langvalue.replace(/^[^']*'/, \"\");\n          return textdecode(encoding, value);\n        }\n        function rfc2047decode(value) {\n          if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n            return value;\n          }\n          return value.replace(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n            if (encoding === \"q\" || encoding === \"Q\") {\n              text = text.replace(/_/g, \" \");\n              text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n                return String.fromCharCode(parseInt(hex, 16));\n              });\n              return textdecode(charset, text);\n            }\n            try {\n              text = atob(text);\n            } catch (e) {}\n            return textdecode(charset, text);\n          });\n        }\n        return \"\";\n      }\n\n      /***/\n    }), (/* 26 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFNetworkStream = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _network_utils = __w_pdfjs_require__(24);\n      ;\n      const OK_RESPONSE = 200;\n      const PARTIAL_CONTENT_RESPONSE = 206;\n      function getArrayBuffer(xhr) {\n        const data = xhr.response;\n        if (typeof data !== \"string\") {\n          return data;\n        }\n        const array = (0, _util.stringToBytes)(data);\n        return array.buffer;\n      }\n      class NetworkManager {\n        constructor(url, args = {}) {\n          this.url = url;\n          this.isHttp = /^https?:/i.test(url);\n          this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n          this.withCredentials = args.withCredentials || false;\n          this.getXhr = args.getXhr || function NetworkManager_getXhr() {\n            return new XMLHttpRequest();\n          };\n          this.currXhrId = 0;\n          this.pendingRequests = Object.create(null);\n        }\n        requestRange(begin, end, listeners) {\n          const args = {\n            begin,\n            end\n          };\n          for (const prop in listeners) {\n            args[prop] = listeners[prop];\n          }\n          return this.request(args);\n        }\n        requestFull(listeners) {\n          return this.request(listeners);\n        }\n        request(args) {\n          const xhr = this.getXhr();\n          const xhrId = this.currXhrId++;\n          const pendingRequest = this.pendingRequests[xhrId] = {\n            xhr\n          };\n          xhr.open(\"GET\", this.url);\n          xhr.withCredentials = this.withCredentials;\n          for (const property in this.httpHeaders) {\n            const value = this.httpHeaders[property];\n            if (typeof value === \"undefined\") {\n              continue;\n            }\n            xhr.setRequestHeader(property, value);\n          }\n          if (this.isHttp && \"begin\" in args && \"end\" in args) {\n            xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n            pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n          } else {\n            pendingRequest.expectedStatus = OK_RESPONSE;\n          }\n          xhr.responseType = \"arraybuffer\";\n          if (args.onError) {\n            xhr.onerror = function (evt) {\n              args.onError(xhr.status);\n            };\n          }\n          xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n          xhr.onprogress = this.onProgress.bind(this, xhrId);\n          pendingRequest.onHeadersReceived = args.onHeadersReceived;\n          pendingRequest.onDone = args.onDone;\n          pendingRequest.onError = args.onError;\n          pendingRequest.onProgress = args.onProgress;\n          xhr.send(null);\n          return xhrId;\n        }\n        onProgress(xhrId, evt) {\n          const pendingRequest = this.pendingRequests[xhrId];\n          if (!pendingRequest) {\n            return;\n          }\n          pendingRequest.onProgress?.(evt);\n        }\n        onStateChange(xhrId, evt) {\n          const pendingRequest = this.pendingRequests[xhrId];\n          if (!pendingRequest) {\n            return;\n          }\n          const xhr = pendingRequest.xhr;\n          if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n            pendingRequest.onHeadersReceived();\n            delete pendingRequest.onHeadersReceived;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          if (!(xhrId in this.pendingRequests)) {\n            return;\n          }\n          delete this.pendingRequests[xhrId];\n          if (xhr.status === 0 && this.isHttp) {\n            pendingRequest.onError?.(xhr.status);\n            return;\n          }\n          const xhrStatus = xhr.status || OK_RESPONSE;\n          const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n          if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n            pendingRequest.onError?.(xhr.status);\n            return;\n          }\n          const chunk = getArrayBuffer(xhr);\n          if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n            const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n            const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n            pendingRequest.onDone({\n              begin: parseInt(matches[1], 10),\n              chunk\n            });\n          } else if (chunk) {\n            pendingRequest.onDone({\n              begin: 0,\n              chunk\n            });\n          } else {\n            pendingRequest.onError?.(xhr.status);\n          }\n        }\n        getRequestXhr(xhrId) {\n          return this.pendingRequests[xhrId].xhr;\n        }\n        isPendingRequest(xhrId) {\n          return xhrId in this.pendingRequests;\n        }\n        abortRequest(xhrId) {\n          const xhr = this.pendingRequests[xhrId].xhr;\n          delete this.pendingRequests[xhrId];\n          xhr.abort();\n        }\n      }\n      class PDFNetworkStream {\n        constructor(source) {\n          this._source = source;\n          this._manager = new NetworkManager(source.url, {\n            httpHeaders: source.httpHeaders,\n            withCredentials: source.withCredentials\n          });\n          this._rangeChunkSize = source.rangeChunkSize;\n          this._fullRequestReader = null;\n          this._rangeRequestReaders = [];\n        }\n        _onRangeRequestReaderClosed(reader) {\n          const i = this._rangeRequestReaders.indexOf(reader);\n          if (i >= 0) {\n            this._rangeRequestReaders.splice(i, 1);\n          }\n        }\n        getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n          this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n          return this._fullRequestReader;\n        }\n        getRangeReader(begin, end) {\n          const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n          reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n          this._rangeRequestReaders.push(reader);\n          return reader;\n        }\n        cancelAllRequests(reason) {\n          this._fullRequestReader?.cancel(reason);\n          for (const reader of this._rangeRequestReaders.slice(0)) {\n            reader.cancel(reason);\n          }\n        }\n      }\n      exports.PDFNetworkStream = PDFNetworkStream;\n      class PDFNetworkStreamFullRequestReader {\n        constructor(manager, source) {\n          this._manager = manager;\n          const args = {\n            onHeadersReceived: this._onHeadersReceived.bind(this),\n            onDone: this._onDone.bind(this),\n            onError: this._onError.bind(this),\n            onProgress: this._onProgress.bind(this)\n          };\n          this._url = source.url;\n          this._fullRequestId = manager.requestFull(args);\n          this._headersReceivedCapability = (0, _util.createPromiseCapability)();\n          this._disableRange = source.disableRange || false;\n          this._contentLength = source.length;\n          this._rangeChunkSize = source.rangeChunkSize;\n          if (!this._rangeChunkSize && !this._disableRange) {\n            this._disableRange = true;\n          }\n          this._isStreamingSupported = false;\n          this._isRangeSupported = false;\n          this._cachedChunks = [];\n          this._requests = [];\n          this._done = false;\n          this._storedError = undefined;\n          this._filename = null;\n          this.onProgress = null;\n        }\n        _onHeadersReceived() {\n          const fullRequestXhrId = this._fullRequestId;\n          const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n          const getResponseHeader = name => {\n            return fullRequestXhr.getResponseHeader(name);\n          };\n          const {\n            allowRangeRequests,\n            suggestedLength\n          } = (0, _network_utils.validateRangeRequestCapabilities)({\n            getResponseHeader,\n            isHttp: this._manager.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange\n          });\n          if (allowRangeRequests) {\n            this._isRangeSupported = true;\n          }\n          this._contentLength = suggestedLength || this._contentLength;\n          this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n          if (this._isRangeSupported) {\n            this._manager.abortRequest(fullRequestXhrId);\n          }\n          this._headersReceivedCapability.resolve();\n        }\n        _onDone(data) {\n          if (data) {\n            if (this._requests.length > 0) {\n              const requestCapability = this._requests.shift();\n              requestCapability.resolve({\n                value: data.chunk,\n                done: false\n              });\n            } else {\n              this._cachedChunks.push(data.chunk);\n            }\n          }\n          this._done = true;\n          if (this._cachedChunks.length > 0) {\n            return;\n          }\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n        }\n        _onError(status) {\n          this._storedError = (0, _network_utils.createResponseStatusError)(status, this._url);\n          this._headersReceivedCapability.reject(this._storedError);\n          for (const requestCapability of this._requests) {\n            requestCapability.reject(this._storedError);\n          }\n          this._requests.length = 0;\n          this._cachedChunks.length = 0;\n        }\n        _onProgress(evt) {\n          this.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.lengthComputable ? evt.total : this._contentLength\n          });\n        }\n        get filename() {\n          return this._filename;\n        }\n        get isRangeSupported() {\n          return this._isRangeSupported;\n        }\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        }\n        get contentLength() {\n          return this._contentLength;\n        }\n        get headersReady() {\n          return this._headersReceivedCapability.promise;\n        }\n        async read() {\n          if (this._storedError) {\n            throw this._storedError;\n          }\n          if (this._cachedChunks.length > 0) {\n            const chunk = this._cachedChunks.shift();\n            return {\n              value: chunk,\n              done: false\n            };\n          }\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          const requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        }\n        cancel(reason) {\n          this._done = true;\n          this._headersReceivedCapability.reject(reason);\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n          if (this._manager.isPendingRequest(this._fullRequestId)) {\n            this._manager.abortRequest(this._fullRequestId);\n          }\n          this._fullRequestReader = null;\n        }\n      }\n      class PDFNetworkStreamRangeRequestReader {\n        constructor(manager, begin, end) {\n          this._manager = manager;\n          const args = {\n            onDone: this._onDone.bind(this),\n            onError: this._onError.bind(this),\n            onProgress: this._onProgress.bind(this)\n          };\n          this._url = manager.url;\n          this._requestId = manager.requestRange(begin, end, args);\n          this._requests = [];\n          this._queuedChunk = null;\n          this._done = false;\n          this._storedError = undefined;\n          this.onProgress = null;\n          this.onClosed = null;\n        }\n        _close() {\n          this.onClosed?.(this);\n        }\n        _onDone(data) {\n          const chunk = data.chunk;\n          if (this._requests.length > 0) {\n            const requestCapability = this._requests.shift();\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._queuedChunk = chunk;\n          }\n          this._done = true;\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n          this._close();\n        }\n        _onError(status) {\n          this._storedError = (0, _network_utils.createResponseStatusError)(status, this._url);\n          for (const requestCapability of this._requests) {\n            requestCapability.reject(this._storedError);\n          }\n          this._requests.length = 0;\n          this._queuedChunk = null;\n        }\n        _onProgress(evt) {\n          if (!this.isStreamingSupported) {\n            this.onProgress?.({\n              loaded: evt.loaded\n            });\n          }\n        }\n        get isStreamingSupported() {\n          return false;\n        }\n        async read() {\n          if (this._storedError) {\n            throw this._storedError;\n          }\n          if (this._queuedChunk !== null) {\n            const chunk = this._queuedChunk;\n            this._queuedChunk = null;\n            return {\n              value: chunk,\n              done: false\n            };\n          }\n          if (this._done) {\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          const requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        }\n        cancel(reason) {\n          this._done = true;\n          for (const requestCapability of this._requests) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          this._requests.length = 0;\n          if (this._manager.isPendingRequest(this._requestId)) {\n            this._manager.abortRequest(this._requestId);\n          }\n          this._close();\n        }\n      }\n\n      /***/\n    }), (/* 27 */\n    /***/(__unused_webpack_module, exports, __w_pdfjs_require__) => {\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFFetchStream = void 0;\n      var _util = __w_pdfjs_require__(2);\n      var _network_utils = __w_pdfjs_require__(24);\n      ;\n      function createFetchOptions(headers, withCredentials, abortController) {\n        return {\n          method: \"GET\",\n          headers,\n          signal: abortController?.signal,\n          mode: \"cors\",\n          credentials: withCredentials ? \"include\" : \"same-origin\",\n          redirect: \"follow\"\n        };\n      }\n      function createHeaders(httpHeaders) {\n        const headers = new Headers();\n        for (const property in httpHeaders) {\n          const value = httpHeaders[property];\n          if (typeof value === \"undefined\") {\n            continue;\n          }\n          headers.append(property, value);\n        }\n        return headers;\n      }\n      class PDFFetchStream {\n        constructor(source) {\n          this.source = source;\n          this.isHttp = /^https?:/i.test(source.url);\n          this.httpHeaders = this.isHttp && source.httpHeaders || {};\n          this._fullRequestReader = null;\n          this._rangeRequestReaders = [];\n        }\n        get _progressiveDataLength() {\n          return this._fullRequestReader?._loaded ?? 0;\n        }\n        getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n          this._fullRequestReader = new PDFFetchStreamReader(this);\n          return this._fullRequestReader;\n        }\n        getRangeReader(begin, end) {\n          if (end <= this._progressiveDataLength) {\n            return null;\n          }\n          const reader = new PDFFetchStreamRangeReader(this, begin, end);\n          this._rangeRequestReaders.push(reader);\n          return reader;\n        }\n        cancelAllRequests(reason) {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.cancel(reason);\n          }\n          for (const reader of this._rangeRequestReaders.slice(0)) {\n            reader.cancel(reason);\n          }\n        }\n      }\n      exports.PDFFetchStream = PDFFetchStream;\n      class PDFFetchStreamReader {\n        constructor(stream) {\n          this._stream = stream;\n          this._reader = null;\n          this._loaded = 0;\n          this._filename = null;\n          const source = stream.source;\n          this._withCredentials = source.withCredentials || false;\n          this._contentLength = source.length;\n          this._headersCapability = (0, _util.createPromiseCapability)();\n          this._disableRange = source.disableRange || false;\n          this._rangeChunkSize = source.rangeChunkSize;\n          if (!this._rangeChunkSize && !this._disableRange) {\n            this._disableRange = true;\n          }\n          if (typeof AbortController !== \"undefined\") {\n            this._abortController = new AbortController();\n          }\n          this._isStreamingSupported = !source.disableStream;\n          this._isRangeSupported = !source.disableRange;\n          this._headers = createHeaders(this._stream.httpHeaders);\n          const url = source.url;\n          fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n            if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n              throw (0, _network_utils.createResponseStatusError)(response.status, url);\n            }\n            this._reader = response.body.getReader();\n            this._headersCapability.resolve();\n            const getResponseHeader = name => {\n              return response.headers.get(name);\n            };\n            const {\n              allowRangeRequests,\n              suggestedLength\n            } = (0, _network_utils.validateRangeRequestCapabilities)({\n              getResponseHeader,\n              isHttp: this._stream.isHttp,\n              rangeChunkSize: this._rangeChunkSize,\n              disableRange: this._disableRange\n            });\n            this._isRangeSupported = allowRangeRequests;\n            this._contentLength = suggestedLength || this._contentLength;\n            this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n            if (!this._isStreamingSupported && this._isRangeSupported) {\n              this.cancel(new _util.AbortException(\"Streaming is disabled.\"));\n            }\n          }).catch(this._headersCapability.reject);\n          this.onProgress = null;\n        }\n        get headersReady() {\n          return this._headersCapability.promise;\n        }\n        get filename() {\n          return this._filename;\n        }\n        get contentLength() {\n          return this._contentLength;\n        }\n        get isRangeSupported() {\n          return this._isRangeSupported;\n        }\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        }\n        async read() {\n          await this._headersCapability.promise;\n          const {\n            value,\n            done\n          } = await this._reader.read();\n          if (done) {\n            return {\n              value,\n              done\n            };\n          }\n          this._loaded += value.byteLength;\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: this._loaded,\n              total: this._contentLength\n            });\n          }\n          const buffer = new Uint8Array(value).buffer;\n          return {\n            value: buffer,\n            done: false\n          };\n        }\n        cancel(reason) {\n          if (this._reader) {\n            this._reader.cancel(reason);\n          }\n          if (this._abortController) {\n            this._abortController.abort();\n          }\n        }\n      }\n      class PDFFetchStreamRangeReader {\n        constructor(stream, begin, end) {\n          this._stream = stream;\n          this._reader = null;\n          this._loaded = 0;\n          const source = stream.source;\n          this._withCredentials = source.withCredentials || false;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          this._isStreamingSupported = !source.disableStream;\n          if (typeof AbortController !== \"undefined\") {\n            this._abortController = new AbortController();\n          }\n          this._headers = createHeaders(this._stream.httpHeaders);\n          this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n          const url = source.url;\n          fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n            if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n              throw (0, _network_utils.createResponseStatusError)(response.status, url);\n            }\n            this._readCapability.resolve();\n            this._reader = response.body.getReader();\n          }).catch(this._readCapability.reject);\n          this.onProgress = null;\n        }\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        }\n        async read() {\n          await this._readCapability.promise;\n          const {\n            value,\n            done\n          } = await this._reader.read();\n          if (done) {\n            return {\n              value,\n              done\n            };\n          }\n          this._loaded += value.byteLength;\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: this._loaded\n            });\n          }\n          const buffer = new Uint8Array(value).buffer;\n          return {\n            value: buffer,\n            done: false\n          };\n        }\n        cancel(reason) {\n          if (this._reader) {\n            this._reader.cancel(reason);\n          }\n          if (this._abortController) {\n            this._abortController.abort();\n          }\n        }\n      }\n\n      /***/\n    }\n    /******/)];\n    /************************************************************************/\n    /******/ // The module cache\n    /******/\n    var __webpack_module_cache__ = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __w_pdfjs_require__(moduleId) {\n      /******/ // Check if module is in cache\n      /******/var cachedModule = __webpack_module_cache__[moduleId];\n      /******/\n      if (cachedModule !== undefined) {\n        /******/return cachedModule.exports;\n        /******/\n      }\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = __webpack_module_cache__[moduleId] = {\n        /******/ // no module.id needed\n        /******/ // no module.loaded needed\n        /******/exports: {}\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      __webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /************************************************************************/\n    var __webpack_exports__ = {};\n    // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n    (() => {\n      var exports = __webpack_exports__;\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      Object.defineProperty(exports, \"addLinkAttributes\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.addLinkAttributes;\n        }\n      });\n      Object.defineProperty(exports, \"getFilenameFromUrl\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.getFilenameFromUrl;\n        }\n      });\n      Object.defineProperty(exports, \"getPdfFilenameFromUrl\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.getPdfFilenameFromUrl;\n        }\n      });\n      Object.defineProperty(exports, \"getXfaPageViewport\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.getXfaPageViewport;\n        }\n      });\n      Object.defineProperty(exports, \"isPdfFile\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.isPdfFile;\n        }\n      });\n      Object.defineProperty(exports, \"LinkTarget\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.LinkTarget;\n        }\n      });\n      Object.defineProperty(exports, \"loadScript\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.loadScript;\n        }\n      });\n      Object.defineProperty(exports, \"PDFDateString\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.PDFDateString;\n        }\n      });\n      Object.defineProperty(exports, \"PixelsPerInch\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.PixelsPerInch;\n        }\n      });\n      Object.defineProperty(exports, \"RenderingCancelledException\", {\n        enumerable: true,\n        get: function () {\n          return _display_utils.RenderingCancelledException;\n        }\n      });\n      Object.defineProperty(exports, \"AnnotationMode\", {\n        enumerable: true,\n        get: function () {\n          return _util.AnnotationMode;\n        }\n      });\n      Object.defineProperty(exports, \"CMapCompressionType\", {\n        enumerable: true,\n        get: function () {\n          return _util.CMapCompressionType;\n        }\n      });\n      Object.defineProperty(exports, \"createObjectURL\", {\n        enumerable: true,\n        get: function () {\n          return _util.createObjectURL;\n        }\n      });\n      Object.defineProperty(exports, \"createPromiseCapability\", {\n        enumerable: true,\n        get: function () {\n          return _util.createPromiseCapability;\n        }\n      });\n      Object.defineProperty(exports, \"createValidAbsoluteUrl\", {\n        enumerable: true,\n        get: function () {\n          return _util.createValidAbsoluteUrl;\n        }\n      });\n      Object.defineProperty(exports, \"InvalidPDFException\", {\n        enumerable: true,\n        get: function () {\n          return _util.InvalidPDFException;\n        }\n      });\n      Object.defineProperty(exports, \"MissingPDFException\", {\n        enumerable: true,\n        get: function () {\n          return _util.MissingPDFException;\n        }\n      });\n      Object.defineProperty(exports, \"OPS\", {\n        enumerable: true,\n        get: function () {\n          return _util.OPS;\n        }\n      });\n      Object.defineProperty(exports, \"PasswordResponses\", {\n        enumerable: true,\n        get: function () {\n          return _util.PasswordResponses;\n        }\n      });\n      Object.defineProperty(exports, \"PermissionFlag\", {\n        enumerable: true,\n        get: function () {\n          return _util.PermissionFlag;\n        }\n      });\n      Object.defineProperty(exports, \"removeNullCharacters\", {\n        enumerable: true,\n        get: function () {\n          return _util.removeNullCharacters;\n        }\n      });\n      Object.defineProperty(exports, \"shadow\", {\n        enumerable: true,\n        get: function () {\n          return _util.shadow;\n        }\n      });\n      Object.defineProperty(exports, \"UnexpectedResponseException\", {\n        enumerable: true,\n        get: function () {\n          return _util.UnexpectedResponseException;\n        }\n      });\n      Object.defineProperty(exports, \"UNSUPPORTED_FEATURES\", {\n        enumerable: true,\n        get: function () {\n          return _util.UNSUPPORTED_FEATURES;\n        }\n      });\n      Object.defineProperty(exports, \"Util\", {\n        enumerable: true,\n        get: function () {\n          return _util.Util;\n        }\n      });\n      Object.defineProperty(exports, \"VerbosityLevel\", {\n        enumerable: true,\n        get: function () {\n          return _util.VerbosityLevel;\n        }\n      });\n      Object.defineProperty(exports, \"build\", {\n        enumerable: true,\n        get: function () {\n          return _api.build;\n        }\n      });\n      Object.defineProperty(exports, \"getDocument\", {\n        enumerable: true,\n        get: function () {\n          return _api.getDocument;\n        }\n      });\n      Object.defineProperty(exports, \"LoopbackPort\", {\n        enumerable: true,\n        get: function () {\n          return _api.LoopbackPort;\n        }\n      });\n      Object.defineProperty(exports, \"PDFDataRangeTransport\", {\n        enumerable: true,\n        get: function () {\n          return _api.PDFDataRangeTransport;\n        }\n      });\n      Object.defineProperty(exports, \"PDFWorker\", {\n        enumerable: true,\n        get: function () {\n          return _api.PDFWorker;\n        }\n      });\n      Object.defineProperty(exports, \"version\", {\n        enumerable: true,\n        get: function () {\n          return _api.version;\n        }\n      });\n      Object.defineProperty(exports, \"AnnotationLayer\", {\n        enumerable: true,\n        get: function () {\n          return _annotation_layer.AnnotationLayer;\n        }\n      });\n      Object.defineProperty(exports, \"GlobalWorkerOptions\", {\n        enumerable: true,\n        get: function () {\n          return _worker_options.GlobalWorkerOptions;\n        }\n      });\n      Object.defineProperty(exports, \"renderTextLayer\", {\n        enumerable: true,\n        get: function () {\n          return _text_layer.renderTextLayer;\n        }\n      });\n      Object.defineProperty(exports, \"SVGGraphics\", {\n        enumerable: true,\n        get: function () {\n          return _svg.SVGGraphics;\n        }\n      });\n      Object.defineProperty(exports, \"XfaLayer\", {\n        enumerable: true,\n        get: function () {\n          return _xfa_layer.XfaLayer;\n        }\n      });\n      var _display_utils = __w_pdfjs_require__(1);\n      var _util = __w_pdfjs_require__(2);\n      var _api = __w_pdfjs_require__(6);\n      var _annotation_layer = __w_pdfjs_require__(18);\n      var _worker_options = __w_pdfjs_require__(12);\n      var _is_node = __w_pdfjs_require__(4);\n      var _text_layer = __w_pdfjs_require__(20);\n      var _svg = __w_pdfjs_require__(21);\n      var _xfa_layer = __w_pdfjs_require__(22);\n      const pdfjsVersion = '2.11.338';\n      const pdfjsBuild = 'dedff3c98';\n      {\n        if (_is_node.isNodeJS) {\n          const {\n            PDFNodeStream\n          } = __w_pdfjs_require__(23);\n          (0, _api.setPDFNetworkStreamFactory)(params => {\n            return new PDFNodeStream(params);\n          });\n        } else {\n          const {\n            PDFNetworkStream\n          } = __w_pdfjs_require__(26);\n          const {\n            PDFFetchStream\n          } = __w_pdfjs_require__(27);\n          (0, _api.setPDFNetworkStreamFactory)(params => {\n            if ((0, _display_utils.isValidFetchUrl)(params.url)) {\n              return new PDFFetchStream(params);\n            }\n            return new PDFNetworkStream(params);\n          });\n        }\n      }\n    })();\n\n    /******/\n    return __webpack_exports__;\n    /******/\n  })();\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","pdfjsLib","_util","__w_pdfjs_require__","_base_factory","DEFAULT_LINK_REL","SVG_NS","PixelsPerInch","CSS","PDF","PDF_TO_CSS_UNITS","shadow","DOMCanvasFactory","BaseCanvasFactory","constructor","ownerDocument","globalThis","document","_document","_createCanvas","width","height","canvas","createElement","fetchData","url","asTypedArray","isValidFetchUrl","baseURI","response","fetch","ok","Error","statusText","Uint8Array","arrayBuffer","stringToBytes","text","Promise","resolve","reject","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","status","data","responseText","send","DOMCMapReaderFactory","BaseCMapReaderFactory","_fetchData","compressionType","isCompressed","then","cMapData","DOMStandardFontDataFactory","BaseStandardFontDataFactory","DOMSVGFactory","BaseSVGFactory","_createSVG","type","createElementNS","PageViewport","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","Math","abs","transform","clone","slice","convertToViewportPoint","x","y","Util","applyTransform","convertToViewportRectangle","rect","topLeft","bottomRight","convertToPdfPoint","applyInverseTransform","RenderingCancelledException","BaseException","msg","LinkTarget","NONE","SELF","BLANK","PARENT","TOP","addLinkAttributes","link","target","rel","enabled","assert","urlNullRemoved","removeNullCharacters","href","title","onclick","targetStr","isDataScheme","ii","length","i","trim","substring","toLowerCase","isPdfFile","filename","test","getFilenameFromUrl","anchor","indexOf","query","end","min","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","warn","reURI","reFilename","splitURI","exec","suggestedFilename","includes","decodeURIComponent","ex","StatTimer","started","Object","create","times","time","name","Date","now","timeEnd","push","start","toString","outBuf","longest","duration","padEnd","join","baseUrl","protocol","URL","loadScript","src","removeScriptElement","script","onload","evt","remove","onerror","head","documentElement","appendChild","deprecated","details","console","log","pdfDateStringRegex","PDFDateString","toDateObject","input","isString","RegExp","matches","year","parseInt","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","attributes","style","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","RenderingIntentFlag","ANY","DISPLAY","PRINT","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationStateModelType","MARKED","REVIEW","AnnotationMarkedState","UNMARKED","AnnotationReviewState","ACCEPTED","REJECTED","CANCELLED","COMPLETED","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","AnnotationActionEventType","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","DocumentActionEventType","WC","WS","DS","WP","DP","PageActionEventType","O","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","FontType","TYPE1","TYPE1STANDARD","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VerbosityLevel","ERRORS","WARNINGS","INFOS","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","UNSUPPORTED_FEATURES","unknown","forms","javaScript","signatures","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontBuildPath","errorFontGetPath","errorMarkedContent","errorContentSubStream","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","unreachable","cond","isSameOrigin","otherUrl","base","origin","e","other","_isValidProtocol","createValidAbsoluteUrl","options","addDefaultProtocol","startsWith","dots","match","tryConvertEncoding","stringToUTF8String","absoluteUrl","obj","prop","value","defineProperty","enumerable","configurable","writable","BaseExceptionClosure","message","prototype","PasswordException","code","UnknownErrorException","InvalidPDFException","MissingPDFException","UnexpectedResponseException","FormatError","AbortException","NullCharactersRegExp","str","replace","bytesToString","bytes","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","chunkEnd","chunk","subarray","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","pos","item","itemLength","set","string32","objectSize","keys","objectFromMap","map","key","isLittleEndian","buffer8","view32","Uint32Array","buffer","IsLittleEndianCached","isEvalSupported","Function","IsEvalSupportedCached","hexNumbers","Array","n","padStart","makeHexColor","r","g","b","m1","m2","p","m","xt","yt","d","getAxialAlignedBoundingBox","p1","p2","p3","p4","max","inverseTransform","apply3dTransform","v","singularValueDecompose2dScale","transpose","a","c","first","sqrt","sx","sy","normalizeRect","intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","PDFStringTranslateTable","stringToPDFString","charAt","escapeString","isAscii","stringToUTF16BEString","buf","char","escape","utf8StringToString","unescape","encodeURIComponent","isBool","isNum","isArrayBuffer","isArrayEqual","arr1","arr2","getModificationDate","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","createPromiseCapability","capability","isSettled","get","promise","reason","createObjectURL","contentType","forceDataSchema","Blob","digits","b1","b2","b3","d1","d2","d3","d4","_is_node","isNodeJS","process","versions","nw","electron","context","getContext","reset","canvasAndContext","destroy","catch","svg","setAttribute","_display_utils","_font_loader","_node_utils","_annotation_storage","_canvas","_worker_options","_message_handler","_metadata","_optional_content_config","_transport_stream","_xfa_text","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DefaultCanvasFactory","NodeCanvasFactory","DefaultCMapReaderFactory","NodeCMapReaderFactory","DefaultStandardFontDataFactory","NodeStandardFontDataFactory","createPDFNetworkStream","setPDFNetworkStreamFactory","pdfNetworkStreamFactory","getDocument","task","PDFDocumentLoadingTask","source","PDFDataRangeTransport","range","params","rangeTransport","worker","window","location","Buffer","isNaN","rangeChunkSize","CMapReaderFactory","StandardFontDataFactory","ignoreErrors","stopAtErrors","fontExtraProperties","pdfBug","enableXfa","docBaseUrl","maxImageSize","useWorkerFetch","disableFontFace","useSystemFonts","disableRange","disableStream","disableAutoFetch","workerParams","port","GlobalWorkerOptions","workerPort","PDFWorker","fromPort","_worker","docId","destroyed","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","PDFDataTransportStream","initialData","progressiveDone","contentDispositionFilename","httpHeaders","withCredentials","all","workerId","messageHandler","MessageHandler","postMessageTransfers","transport","WorkerTransport","_transport","_capability","pdfDataRangeTransport","sendWithPromise","apiVersion","password","cMapUrl","standardFontDataUrl","idCounters","doc","onPassword","onProgress","onUnsupportedFeature","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","begin","onDataProgress","loaded","total","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","abort","PDFDocumentProxy","pdfInfo","_pdfInfo","fingerprints","annotationStorage","numPages","isPureXfa","_htmlForXfa","allXfaHtml","getPage","pageNumber","getPageIndex","ref","getDestinations","getDestination","id","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJavaScript","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getMarkInfo","getData","getDownloadInfo","downloadInfoCapability","getStats","cleanup","keepLoadedFonts","startCleanup","loadingTask","loadingParams","saveDocument","size","getFieldObjects","hasJSActions","getCalculationOrderIds","PDFPageProxy","pageIndex","pageInfo","_pageIndex","_pageInfo","_ownerDocument","_stats","_pdfBug","commonObjs","objs","PDFObjects","cleanupAfterRender","pendingCleanup","_intentStates","Map","_annotationPromises","rotate","userUnit","view","getViewport","getAnnotations","intent","intentArgs","getRenderingIntent","cacheKey","renderingIntent","annotations","annotation","titleObj","contentsObj","_jsActionsPromise","getPageJSActions","getXfa","children","render","canvasContext","viewport","annotationMode","imageLayer","canvasFactory","background","optionalContentConfigPromise","arguments","renderInteractiveForms","includeAnnotationStorage","intentState","streamReaderCancelTimeout","clearTimeout","canvasFactoryInstance","intentPrint","displayReadyCapability","operatorList","fnArray","argsArray","lastChunk","_pumpOperatorList","complete","error","renderTasks","delete","internalRenderTask","_tryCleanup","_abortOperatorList","InternalRenderTask","callback","useRequestAnimationFrame","Set","add","renderTask","transparency","optionalContentConfig","initializeGraphics","operatorListChanged","getOperatorList","opListReadCapability","opListTask","streamTextContent","normalizeWhitespace","disableCombineTextItems","includeMarkedContent","TEXT_CONTENT_CHUNK_SIZE","sendWithStream","combineTextItems","highWaterMark","textContent","items","getTextContent","xfa","XfaText","readableStream","pump","reader","read","done","assign","styles","getReader","getStructTree","_structTreePromise","_destroy","pageCache","waitOn","values","force","completed","cancel","clear","resetStats","_startRenderPage","_renderPageChunk","operatorListChunk","serializable","streamReader","setTimeout","curCacheKey","curIntentState","stats","LoopbackPort","_listeners","_deferred","postMessage","transfers","cloneValue","cloned","has","byteOffset","val","isArray","desc","getOwnPropertyDescriptor","getPrototypeOf","hasOwnProperty","WeakMap","event","call","addEventListener","removeEventListener","splice","terminate","PDFWorkerUtil","isWorkerDisabled","fallbackWorkerSrc","fakeWorkerId","require","pdfjsFilePath","currentScript","createCDNWrapper","wrapper","_workerPorts","_port","_webWorker","_messageHandler","_initializeFromPort","_initialize","on","Worker","_mainThreadWorkerMessageHandler","workerSrc","terminateEarly","onWorkerError","_setupFakeWorker","supportTransfers","sendTest","testObj","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","pdfjsWorker","loader","mainWorkerMessageHandler","eval","getWorkerSrc","fontLoader","FontLoader","_onUnsupportedFeature","bind","styleElement","_params","cMapPacked","destroyCapability","_passwordCapability","_networkStream","_fullReader","_lastProgress","pagePromises","setupMessageHandler","AnnotationStorage","isOpList","lastModified","page","resetModified","terminated","_getFieldObjectsPromise","_hasJSActionsPromise","cancelAllRequests","sink","getFullReader","onPull","close","enqueue","onCancel","ready","readyReason","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","contentLength","rangeReader","getRangeReader","_numPages","htmlForXfa","exception","updatePassword","exportedData","exportedError","fontRegistry","FontInspector","registerFont","fontAdded","FontFaceObject","finally","imageData","pageProxy","MAX_IMAGE_SIZE_TO_STORE","featureId","results","OptionalContentConfig","metadata","Metadata","cleanupSuccessful","_objs","_ensureObj","objId","resolved","RenderTask","_internalRenderTask","onContinue","canvasInUse","WeakSet","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","beginDrawing","endDrawing","updateOperatorList","requestAnimationFrame","executeOperatorList","version","build","BaseFontLoader","nativeFontFaces","addNativeFontFace","nativeFontFace","fonts","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","attached","missingFile","isFontLoadingAPISupported","createNativeFontFace","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","hasFonts","_loadTestFont","rules","fontsToLoad","GenericFontLoader","loadingContext","requests","nextRequestId","loadTestFontId","supported","navigator","userAgent","completeRequest","otherRequest","shift","getLoadTestFont","atob","int32","offset","spliceString","s","insert","chunk1","chunk2","ctx","called","isFontReady","fillText","getImageData","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","names","loadedName","div","visibility","position","top","left","span","fontFamily","body","removeChild","translatedData","compiledGlyphs","cssFontInfo","FontFace","css","weight","fontWeight","italicAngle","mimetype","getPathGenerator","character","cmds","jsBuf","current","args","cmd","fs","readFile","Canvas","createCanvas","_storage","_timeStamp","_modified","onSetModified","onResetModified","getValue","defaultValue","setValue","modified","entry","entries","_setModified","getAll","_pattern_helper","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MAX_CACHED_CANVAS_PATTERNS","EXECUTION_TIME","EXECUTION_STEPS","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","LINEWIDTH_SCALE_FACTOR","addContextCurrentTransform","mozCurrentTransform","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","_originalResetTransform","resetTransform","_transformMatrix","_transformStack","_setLineWidth","_getLineWidth","getLineWidth","_","getCurrentTransform","getCurrentTransformInverse","f","ad_bc","bc_ad","ctxSave","old","ctxRestore","prev","pop","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxResetTransform","ctxRotate","angle","cosValue","cos","sinValue","sin","CachedCanvases","cache","getCanvas","trackTransform","canvasEntry","LRUCache","maxSize","_cache","_maxSize","next","compileType3Glyph","imgData","POINT_TO_PROCESS_LIMIT","POINT_TYPES","width1","j","j0","points","lineSize","data0","elem","mask","count","sum","steps","Int32Array","outlines","coords","p0","step","pp","drawOutline","beginPath","k","kk","o","l","ll","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","fillColor","strokeColor","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","resumeSMaskCtx","transferMaps","setCurrentPoint","putBinaryImageData","ImageData","putImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","destPos","dest","thisChunkHeight","elemsInThisChunk","transferMapRed","transferMapGreen","transferMapBlue","transferMapGray","kind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","srcDiff","kEnd","kEndUnrolled","srcByte","hasTransferMaps","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","strokeStyle","fillStyle","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","subtype","backdrop","hasBackdrop","composeFn","PIXELS_TO_PROCESS","chunkSize","ceil","row","chunkHeight","composeSMask","scaleX","scaleY","drawImage","getImageSmoothingEnabled","interpolate","fround","actualScale","devicePixelRatio","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","canvasCtx","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","contentVisible","markedContentStack","cachedCanvases","cachedCanvasPatterns","cachedPatterns","_cachedGetSinglePixelWidth","fillRect","transparentCanvas","compositeCtx","_combinedScaleFactor","hypot","beginLayout","executionStartIdx","continueCallback","argsArrayLen","chunkOperations","endTime","fnId","breakIt","depObjId","objsPool","endLayout","_scaleImage","img","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","tmpCanvas","tmpCtx","newWidth","newHeight","clearRect","_createMaskCanvas","isPatternFill","maskCanvas","objToCanvas","maskToCanvas","cord1","cord2","drawnWidth","drawnHeight","fillCanvas","fillCtx","scaled","mozCurrentTransformInverse","imageSmoothingEnabled","inverse","getPattern","round","limit","dashArray","dashPhase","flatness","states","state","suspendSMaskGroup","endSMaskGroup","beginSMaskGroup","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","startTransformInverse","deltaTransform","resumeSMaskGroup","ops","xw","yh","bezierCurveTo","consumePath","getSinglePixelWidth","needRestore","paths","pendingTextPaths","path","addToPath","spacing","fontRefName","fontObj","fontDirection","isType3Font","bold","italic","typeface","fallbackName","browserFontSize","mode","rise","paintChar","patternTransform","resetLineWidthToOne","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","glyph","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","isInFont","scaledAccentX","scaledAccentY","charWidth","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","IR","color","canvasGraphicsFactory","createCanvasGraphics","TilingPattern","_getPattern","matrix","getShadingPattern","inv","bl","br","ul","ur","x0","y0","x1","y1","bbox","group","isolated","knockout","bounds","canvasBounds","floor","compiled","skewX","skewY","positions","trans","images","image","w","h","imgToPaint","HTMLElement","getCanvasPosition","appendImage","tag","visible","isVisible","isContentVisible","absDet","sqNorm1","sqNorm2","pixelHeight","EPSILON","op","applyBoundingBox","Path2D","region","BaseShadingPattern","RadialAxialShadingPattern","_type","_bbox","_colorStops","_p0","_p1","_r0","_r1","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","createPattern","domMatrix","DOMMatrix","drawTriangle","c1","c2","c3","colors","rowSize","tmp","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_colors","_figures","_bounds","_background","_createMeshCanvas","combinedScale","backgroundColor","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","matrixScale","temporaryPatternCanvas","DummyShadingPattern","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","setFillAndStrokeStyleToContext","adjustedX0","adjustedY0","adjustedX1","adjustedY1","clipBbox","realOutputSize","bboxWidth","bboxHeight","cssColor","CallbackKind","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","wrapReason","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","stream","_processStreamMessage","action","cbSourceName","cbTargetName","_createStreamSink","actionName","handler","ah","_postMessage","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","self","streamSink","isCancelled","lastDesiredSize","sinkCapability","success","streamController","_deleteStreamController","allSettled","parsedData","rawData","_metadataMap","_data","getRaw","OptionalContentGroup","creator","_order","_groups","order","groups","baseState","off","_evaluateVisibilityExpression","array","operator","element","expression","policy","ids","setVisibility","getOrder","from","getGroups","getGroup","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","_onReceiveData","_onProgress","_onProgressiveDone","_enqueue","found","some","_begin","_progressiveDataLength","_loaded","firstReader","_removeRangeReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","_stream","_done","_filename","_requests","_headersReady","requestCapability","_end","_queuedChunk","requestsCapability","output","walk","node","shouldBuildText","child","_scripting_utils","DEFAULT_TAB_INDEX","GetElementsByNameSet","AnnotationElementFactory","parameters","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","layer","linkService","downloadManager","imageResourcesPath","renderForms","svgFactory","enableScripting","_fieldObjects","fieldObjects","_mouseState","mouseState","container","_createContainer","quadrilaterals","_createQuadrilaterals","transformOrigin","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","quadPoints","savedRect","quadPoint","_createPopup","trigger","popupElement","PopupElement","modificationDate","hideWrapper","popup","_renderQuadrilaterals","className","quadrilateral","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementById","getElementsByName","platform","isWin","isMac","isTooltipOnly","resetForm","actions","Action","newWindow","_bindNamedAction","_bindLink","hasClickAction","_bindJSAction","_bindResetFormAction","index","linkElement","cloneNode","destination","getDestinationHash","goToDestination","getAnchorUrl","executeNamedAction","jsName","eventBus","dispatch","detail","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","fieldName","field","storage","allIds","valueAsString","dispatchEvent","Event","hasPopup","alt","dataset","l10nId","l10nArgs","JSON","stringify","alternativeText","_getKeyModifier","ctrlKey","metaKey","_setEventListener","baseName","eventName","valueGetter","shiftKey","modifier","checked","_setEventListeners","getter","_setBackgroundColor","_dispatchEventFromSandbox","jsEvent","setColor","styleName","ColorConverters","commonActions","display","hidden","print","focus","preventScroll","userName","readonly","removeAttribute","required","bgColor","fgColor","textColor","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","storedData","elementData","userValue","formattedValue","beforeInputSelectionRange","beforeInputValue","multiLine","disabled","readOnly","tabIndex","defaultFieldValue","blurListener","scrollLeft","activeElement","selRange","selStart","selEnd","setSelectionRange","commitKey","willCommit","selectionStart","selectionEnd","_blurListener","isDown","Keystroke","change","maxLen","maxLength","comb","fieldWidth","combWidth","classList","letterSpacing","verticalAlign","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","textAlignment","textAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","fontSizeStyle","selectElement","combo","multiSelect","multiple","option","selected","optionElement","displayValue","isExport","selectedIndex","filter","getItems","multipleSelection","findIndex","insertBefore","indices","editable","changeEx","keyDown","IGNORE_TYPES","parentType","selector","parentId","parentElements","querySelectorAll","parentRect","popupLeft","popupTop","pinned","BACKGROUND_ENLIGHT","hideElement","dir","dateObject","toLocaleDateString","toLocaleTimeString","contents","_formatContents","_toggle","_show","_hide","lines","split","line","createTextNode","pin","zIndex","unpin","lineCoordinates","append","square","circle","containerClassName","svgElementName","coordinate","vertices","polyline","inkList","inkLists","content","file","_download","openOrDownloadData","AnnotationLayer","sortedAnnotations","popupAnnotations","rendered","renderedElement","prepend","update","elements","makeColorComp","CMYK_G","G_CMYK","G_RGB","G_HTML","G","RGB_G","RGB_HTML","R","B","T_HTML","CMYK_RGB","CMYK_HTML","components","RGB_CMYK","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_SIZE","DEFAULT_FONT_ASCENT","ascentCache","AllWhitespaceRegexp","getAscent","cachedAscent","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","appendText","geom","textDiv","textDivProperties","_enhanceTextSelection","canvasWidth","hasText","hasEOL","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","_textDivs","tx","_viewport","atan2","fontName","fontHeight","fontAscent","_fontInspectorEnabled","shouldScaleText","absScaleX","absScaleY","_textDivProperties","_textContentStream","_layoutText","angleCos","angleSin","divWidth","divHeight","right","bottom","_canceled","textDivs","textDivsLength","_renderingDone","findPositiveMin","ts","t","expand","expanded","expandBounds","divProperties","Float64Array","jj","boxScale","boxes","box","x1New","x2New","expandBoundsLTR","fakeBoundary","Infinity","horizon","boundary","horizonPart","affectedBoundary","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","unshift","used","concat","TextLayerRenderTask","textContentStream","textContentItemsStr","enhanceTextSelection","_textContent","_container","_textContentItemsStr","_reader","_layoutTextLastFontSize","_layoutTextLastFontFamily","_layoutTextCtx","_renderTimer","_processItems","styleCache","len","parent","parentNode","_render","timeout","mozOpaque","textItems","textStyles","expandTextDivs","expandDivs","transformBuf","paddingBuf","divProps","padding","renderTextLayer","renderParameters","SVGGraphics","SVG_DEFAULTS","fontStyle","XML_NS","XLINK_NS","convertImgDataToPng","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","crc32","crc","writePngChunk","adler32","deflateSync","literals","deflateSyncUncompressed","maxBlockLength","deflateBlocks","idat","pi","adler","encode","isMask","bitDepth","colorType","offsetLiterals","offsetBytes","ihdr","pngLength","SVGExtraState","dependencies","activeClipUrl","clipGroup","maskId","opListToTree","opList","opTree","opListElement","fn","pf","toFixed","pm","acos","clipCount","maskCount","shadingCount","transformMatrix","transformStack","extraStack","embedFonts","embeddedFonts","cssStyle","_operatorIdMapping","tgrp","executeOpTree","loadDependencies","getSVG","svgElement","convertOpList","operatorIdMapping","opTreeElement","lineMatrix","xcoords","ycoords","tspan","setAttributeNS","txtElement","txtgrp","lineWidthScale","_setStrokeAttributes","_ensureTransformGroup","addFontStyle","defs","hasChildNodes","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeShadingPattern","_makeTilingPattern","tilingId","tx0","ty0","tx1","ty1","xscale","yscale","txstep","tystep","tiling","childNodes","shadingId","colorStops","gradient","point0","point1","focalPoint","circlePoint","focalRadius","circleRadius","stop","getAttributeNS","clipId","clipPath","clipElement","imgSrc","cliprect","imgEl","definitions","rootGroup","_ensureClipGroup","XfaLayer","setupStorage","html","xfaOn","xfaOff","getAttribute","setAttributes","isHTMLAnchorElement","HTMLAnchorElement","dataId","rootHtml","stack","rootDiv","childHtml","xmlns","el","_network_utils","http","https","fileUriRegex","parseUrl","sourceUrl","parsedUrl","parse","host","PDFNodeStream","isHttp","isFsUrl","_rangeRequestReaders","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_url","_storedError","_disableRange","_rangeChunkSize","_readableStream","_readCapability","_headersCapability","_error","_setReadableStream","BaseRangeReader","createRequestOptions","headers","auth","hostname","method","handleResponse","statusCode","getResponseHeader","allowRangeRequests","suggestedLength","validateRangeRequestCapabilities","extractFilenameFromHeader","_request","_httpHeaders","Range","lstat","stat","createReadStream","_content_disposition","returnValues","contentEncoding","contentDisposition","getFilenameFromContentDispositionHeader","createResponseStatusError","validateResponseStatus","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","TextDecoder","fatal","decode","err","contentDispositionStr","iter","quot","part","parts","quotindex","extvalue","encodingend","langvalue","charset","hex","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","getArrayBuffer","xhr","NetworkManager","getXhr","NetworkManager_getXhr","currXhrId","pendingRequests","requestRange","listeners","requestFull","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","ok_response_on_range_request","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_onHeadersReceived","_onDone","_onError","_fullRequestId","_headersReceivedCapability","_cachedChunks","fullRequestXhrId","fullRequestXhr","lengthComputable","_requestId","_close","createFetchOptions","abortController","signal","credentials","redirect","createHeaders","Headers","PDFFetchStream","PDFFetchStreamReader","PDFFetchStreamRangeReader","_withCredentials","AbortController","_abortController","_headers","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","_api","_annotation_layer","_text_layer","_svg","_xfa_layer","pdfjsVersion","pdfjsBuild"],"sources":["webpack://pdfjs-dist/build/pdf/webpack/universalModuleDefinition","webpack://pdfjs-dist/build/pdf/src/display/display_utils.js","webpack://pdfjs-dist/build/pdf/src/shared/util.js","webpack://pdfjs-dist/build/pdf/src/shared/compatibility.js","webpack://pdfjs-dist/build/pdf/src/shared/is_node.js","webpack://pdfjs-dist/build/pdf/src/display/base_factory.js","webpack://pdfjs-dist/build/pdf/src/display/api.js","webpack://pdfjs-dist/build/pdf/src/display/font_loader.js","webpack://pdfjs-dist/build/pdf/src/display/node_utils.js","webpack://pdfjs-dist/build/pdf/src/display/annotation_storage.js","webpack://pdfjs-dist/build/pdf/src/display/canvas.js","webpack://pdfjs-dist/build/pdf/src/display/pattern_helper.js","webpack://pdfjs-dist/build/pdf/src/display/worker_options.js","webpack://pdfjs-dist/build/pdf/src/shared/message_handler.js","webpack://pdfjs-dist/build/pdf/src/display/metadata.js","webpack://pdfjs-dist/build/pdf/src/display/optional_content_config.js","webpack://pdfjs-dist/build/pdf/src/display/transport_stream.js","webpack://pdfjs-dist/build/pdf/src/display/xfa_text.js","webpack://pdfjs-dist/build/pdf/src/display/annotation_layer.js","webpack://pdfjs-dist/build/pdf/src/shared/scripting_utils.js","webpack://pdfjs-dist/build/pdf/src/display/text_layer.js","webpack://pdfjs-dist/build/pdf/src/display/svg.js","webpack://pdfjs-dist/build/pdf/src/display/xfa_layer.js","webpack://pdfjs-dist/build/pdf/src/display/node_stream.js","webpack://pdfjs-dist/build/pdf/src/display/network_utils.js","webpack://pdfjs-dist/build/pdf/src/display/content_disposition.js","webpack://pdfjs-dist/build/pdf/src/display/network.js","webpack://pdfjs-dist/build/pdf/src/display/fetch_stream.js","webpack://pdfjs-dist/build/pdf/webpack/bootstrap","webpack://pdfjs-dist/build/pdf/src/pdf.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn ","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  BaseException,\n  isString,\n  removeNullCharacters,\n  shadow,\n  stringToBytes,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n} from \"./base_factory.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nconst PixelsPerInch = {\n  CSS: 96.0,\n  PDF: 72.0,\n\n  /** @type {number} */\n  get PDF_TO_CSS_UNITS() {\n    return shadow(this, \"PDF_TO_CSS_UNITS\", this.CSS / this.PDF);\n  },\n};\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\nasync function fetchData(url, asTypedArray = false) {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    isValidFetchUrl(url, document.baseURI)\n  ) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return asTypedArray\n      ? new Uint8Array(await response.arrayBuffer())\n      : stringToBytes(await response.text());\n  }\n\n  // The Fetch API is not supported.\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, /* asTypedArray = */ true);\n\n    if (asTypedArray) {\n      request.responseType = \"arraybuffer\";\n    }\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        let data;\n        if (asTypedArray && request.response) {\n          data = new Uint8Array(request.response);\n        } else if (!asTypedArray && request.responseText) {\n          data = stringToBytes(request.responseText);\n        }\n        if (data) {\n          resolve(data);\n          return;\n        }\n      }\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, /* asTypedArray = */ this.isCompressed).then(data => {\n      return { cMapData: data, compressionType };\n    });\n  }\n}\n\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, /* asTypedArray = */ true);\n  }\n}\n\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    // Normalize the rotation, by clamping it to the [0, 360) range.\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg, \"RenderingCancelledException\");\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLAnchorElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\n/**\n * Gets the filename from a given URL.\n * @param {string} url\n * @returns {string}\n */\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  //              SCHEME        HOST        1.PATH  2.QUERY   3.REF\n  // Pattern to get last matching NAME.pdf\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename =\n    reFilename.exec(splitURI[1]) ||\n    reFilename.exec(splitURI[2]) ||\n    reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      // URL-encoded %2Fpath%2Fto%2Ffile.pdf should be file.pdf\n      try {\n        suggestedFilename = reFilename.exec(\n          decodeURIComponent(suggestedFilename)\n        )[0];\n      } catch (ex) {\n        // Possible (extremely rare) errors:\n        // URIError \"Malformed URI\", e.g. for \"%AA.pdf\"\n        // TypeError \"null has no properties\", e.g. for \"%2F.pdf\"\n      }\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * @param {string} src\n * @param {boolean} [removeScriptElement]\n * @returns {Promise<void>}\n */\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n      resolve(evt);\n    };\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n          \"(\\\\d{4})\" + // Year (required)\n          \"(\\\\d{2})?\" + // Month (optional)\n          \"(\\\\d{2})?\" + // Day (optional)\n          \"(\\\\d{2})?\" + // Hour (optional)\n          \"(\\\\d{2})?\" + // Minute (optional)\n          \"(\\\\d{2})?\" + // Second (optional)\n          \"([Z|+|-])?\" + // Universal time relation (optional)\n          \"(\\\\d{2})?\" + // Offset hour (optional)\n          \"'?\" + // Splitting apostrophe (optional)\n          \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\n/**\n * NOTE: This is (mostly) intended to support printing of XFA forms.\n */\nfunction getXfaPageViewport(xfaPage, { scale = 1, rotation = 0 }) {\n  const { width, height } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation,\n  });\n}\n\nexport {\n  addLinkAttributes,\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMStandardFontDataFactory,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PageViewport,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  StatTimer,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1STANDARD: \"TYPE1STANDARD\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  /** @deprecated unused */\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  signatures: \"signatures\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontBuildPath: \"errorFontBuildPath\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n  errorContentSubStream: \"errorContentSubStream\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        // Avoid accidentally matching a *relative* URL pointing to a file named\n        // e.g. \"www.pdf\" or similar.\n        if (dots && dots.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n      // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch (ex) {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nconst NullCharactersRegExp = /\\x00/g;\n\n/**\n * @param {string} str\n */\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensure that the returned Object has a `null` prototype; hence why\n// `Object.fromEntries(...)` is not used.\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst hexNumbers = [...Array(256).keys()].map(n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\", \"\\n\", \"\\r\" and \"\\\"\n  // by \"\\(\", \"\\)\", \"\\\\n\", \"\\\\r\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(\n      String.fromCharCode((char >> 8) & 0xff),\n      String.fromCharCode(char & 0xff)\n    );\n  }\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nfunction createObjectURL(data, contentType = \"\", forceDataSchema = false) {\n  if (URL.createObjectURL && !forceDataSchema) {\n    return URL.createObjectURL(new Blob([data], { type: contentType }));\n  }\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  let buffer = `data:${contentType};base64,`;\n  for (let i = 0, ii = data.length; i < ii; i += 3) {\n    const b1 = data[i] & 0xff;\n    const b2 = data[i + 1] & 0xff;\n    const b3 = data[i + 2] & 0xff;\n    const d1 = b1 >> 2,\n      d2 = ((b1 & 3) << 4) | (b2 >> 4);\n    const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n    const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n    buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n  }\n  return buffer;\n}\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationMode,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  BaseException,\n  bytesToString,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  escapeString,\n  FONT_IDENTITY_MATRIX,\n  FontType,\n  FormatError,\n  getModificationDate,\n  getVerbosityLevel,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isArrayEqual,\n  isAscii,\n  isBool,\n  IsEvalSupportedCached,\n  IsLittleEndianCached,\n  isNum,\n  isSameOrigin,\n  isString,\n  MissingPDFException,\n  objectFromMap,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  StreamType,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF16BEString,\n  stringToUTF8String,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for `globalThis` in legacy browsers.\n  // Support: Firefox<65, Chrome<71, Safari<12.1, Node.js<12.0.0\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkDOMMatrix() {\n    if (globalThis.DOMMatrix || !isNodeJS) {\n      return;\n    }\n    globalThis.DOMMatrix = require(\"dommatrix/dist/dommatrix.js\");\n  })();\n\n  // Provides support for Object.fromEntries in legacy browsers.\n  // Support: Firefox<63, Chrome<73, Safari<12.1, Node.js<12.0.0\n  (function checkObjectFromEntries() {\n    if (Object.fromEntries) {\n      return;\n    }\n    require(\"core-js/es/object/from-entries.js\");\n  })();\n\n  // Provides support for *recent* additions to the Promise specification,\n  // however basic Promise support is assumed to be available natively.\n  // Support: Firefox<71, Chrome<76, Safari<13, Node.js<12.9.0\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")) {\n      // Slightly reduce the size of the Chromium-extension, given\n      // that `ReadableStream` has been supported since Chrome 43.\n      return;\n    }\n    if (globalThis.ReadableStream || !isNodeJS) {\n      return;\n    }\n    globalThis.ReadableStream =\n      require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CMapCompressionType, unreachable } from \"../shared/util.js\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\"),\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  /**\n   * @private\n   */\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseStandardFontDataFactory {\n  constructor({ baseUrl = null }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The standard font \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"standardFontDataUrl\" API parameter is provided.'\n      );\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", `${width}px`);\n    svg.setAttribute(\"height\", `${height}px`);\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n\n  /**\n   * @private\n   */\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\nexport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  AnnotationMode,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  PasswordException,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMStandardFontDataFactory,\n  isDataScheme,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeStandardFontDataFactory,\n} from \"./node_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\nconst DefaultCanvasFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\nconst DefaultStandardFontDataFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeStandardFontDataFactory\n    : DOMStandardFontDataFactory;\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params - The document initialization\n *   parameters. The \"url\" key is always present.\n * @returns {Promise} A promise, which is resolved with an instance of\n *   {IPDFStream}.\n * @ignore\n */\n\n/**\n * @type IPDFStreamFactory\n * @private\n */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates an {IPDFStream} as an alternative PDF\n * data transport.\n *\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - The factory function\n *   that takes document initialization parameters (including a \"url\") and\n *   returns a promise which is resolved with an instance of {IPDFStream}.\n * @ignore\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * @typedef {Object} RefProxy\n * @property {number} num\n * @property {number} gen\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string|URL} [url] - The URL of the PDF.\n * @property {TypedArray|Array<number>|string} [data] - Binary PDF data. Use\n *    typed arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use `atob()` to convert it to a binary string first.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [useSystemFonts] - When `true`, fonts that aren't\n *   embedded in the PDF document will fallback to a system font.\n *   The default value is `true` in web environments and `false` in Node.js;\n *   unless `disableFontFace === true` in which case this defaults to `false`\n *   regardless of the environment (to prevent completely broken fonts).\n * @property {string} [standardFontDataUrl] - The URL where the standard font\n *   files are located. Include the trailing slash.\n * @property {Object} [StandardFontDataFactory] - The factory that will be used\n *   when reading the standard font files. Providing a custom factory is useful\n *   for environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMStandardFontDataFactory}.\n * @property {boolean} [useWorkerFetch] - Enable using the Fetch API in the\n *   worker-thread when reading CMap and standard font files. When `true`,\n *   the `CMapReaderFactory` and `StandardFontDataFactory` options are ignored.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via the Font Loading API or `@font-face` rules.\n *   If disabled, fonts will be rendered using a built-in font renderer that\n *   constructs the glyphs with primitive path commands.\n *   The default value is `false` in web environments and `true` in Node.js.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {boolean} [enableXfa] - Render Xfa forms if any.\n *   The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string|URL|TypedArray|PDFDataRangeTransport|DocumentInitParameters}\n *   src - Can be a URL where a PDF file is located, a typed array (Uint8Array)\n *         already populated with data, or a parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\" || src instanceof URL) {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either string, URL, Uint8Array, or parameter object.\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    const value = source[key];\n\n    switch (key) {\n      case \"url\":\n        if (typeof window !== \"undefined\") {\n          try {\n            // The full path is required in the 'url' field.\n            params[key] = new URL(value, window.location).href;\n            continue;\n          } catch (ex) {\n            warn(`Cannot create valid URL: \"${ex}\".`);\n          }\n        } else if (typeof value === \"string\" || value instanceof URL) {\n          params[key] = value.toString(); // Support Node.js environments.\n          continue;\n        }\n        throw new Error(\n          \"Invalid PDF url data: \" +\n            \"either string or URL-object is expected in the url property.\"\n        );\n      case \"range\":\n        rangeTransport = value;\n        continue;\n      case \"worker\":\n        worker = value;\n        continue;\n      case \"data\":\n        // Converting string or array-like data to Uint8Array.\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          isNodeJS &&\n          typeof Buffer !== \"undefined\" && // eslint-disable-line no-undef\n          value instanceof Buffer // eslint-disable-line no-undef\n        ) {\n          params[key] = new Uint8Array(value);\n        } else if (value instanceof Uint8Array) {\n          break; // Use the data as-is when it's already a Uint8Array.\n        } else if (typeof value === \"string\") {\n          params[key] = stringToBytes(value);\n        } else if (\n          typeof value === \"object\" &&\n          value !== null &&\n          !isNaN(value.length)\n        ) {\n          params[key] = new Uint8Array(value);\n        } else if (isArrayBuffer(value)) {\n          params[key] = new Uint8Array(value);\n        } else {\n          throw new Error(\n            \"Invalid PDF binary data: either typed array, \" +\n              \"string, or array-like object is expected in the data property.\"\n          );\n        }\n        continue;\n    }\n    params[key] = value;\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory =\n    params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.StandardFontDataFactory =\n    params.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n  params.enableXfa = params.enableXfa === true;\n\n  if (\n    typeof params.docBaseUrl !== \"string\" ||\n    isDataScheme(params.docBaseUrl)\n  ) {\n    // Ignore \"data:\"-URLs, since they can't be used to recover valid absolute\n    // URLs anyway. We want to avoid sending them to the worker-thread, since\n    // they contain the *entire* PDF document and can thus be arbitrarily long.\n    params.docBaseUrl = null;\n  }\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.useWorkerFetch !== \"boolean\") {\n    params.useWorkerFetch =\n      params.CMapReaderFactory === DOMCMapReaderFactory &&\n      params.StandardFontDataFactory === DOMStandardFontDataFactory;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace =\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS;\n  }\n  if (typeof params.useSystemFonts !== \"boolean\") {\n    params.useSystemFonts =\n      !(\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        isNodeJS\n      ) && !params.disableFontFace;\n  }\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(\n        worker,\n        params,\n        rangeTransport,\n        docId\n      );\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length: params.length,\n              initialData: params.initialData,\n              progressiveDone: params.progressiveDone,\n              contentDispositionFilename: params.contentDispositionFilename,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!params.data) {\n          networkStream = createPDFNetworkStream({\n            url: params.url,\n            length: params.length,\n            httpHeaders: params.httpHeaders,\n            withCredentials: params.withCredentials,\n            rangeChunkSize: params.rangeChunkSize,\n            disableRange: params.disableRange,\n            disableStream: params.disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          messageHandler.postMessageTransfers = worker.postMessageTransfers;\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId - Unique document ID, used in `MessageHandler`.\n * @returns {Promise<string>} A promise that is resolved when the worker ID of\n *   the `MessageHandler` is known.\n * @private\n */\nasync function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n    source.contentDispositionFilename =\n      pdfDataRangeTransport.contentDispositionFilename;\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\n    \"GetDocRequest\",\n    {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      postMessageTransfers: worker.postMessageTransfers,\n      docBaseUrl: source.docBaseUrl,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n      fontExtraProperties: source.fontExtraProperties,\n      enableXfa: source.enableXfa,\n      useSystemFonts: source.useSystemFonts,\n      cMapUrl: source.useWorkerFetch ? source.cMapUrl : null,\n      standardFontDataUrl: source.useWorkerFetch\n        ? source.standardFontDataUrl\n        : null,\n    }\n  );\n\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\n\n/**\n * @typedef {Object} OnProgressParameters\n * @property {number} loaded - Currently loaded number of bytes.\n * @property {number} total - Total number of bytes in the PDF file.\n */\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n */\nclass PDFDocumentLoadingTask {\n  static get idCounters() {\n    return shadow(this, \"idCounters\", { doc: 0 });\n  }\n\n  constructor() {\n    this._capability = createPromiseCapability();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique identifier for the document loading task.\n     * @type {string}\n     */\n    this.docId = `d${PDFDocumentLoadingTask.idCounters.doc++}`;\n\n    /**\n     * Whether the loading task is destroyed or not.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if a wrong or no password was provided.\n     * The callback receives two parameters: a function that should be called\n     * with the new password, and a reason (see {@link PasswordResponses}).\n     * @type {function}\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar).\n     * The callback receives an {@link OnProgressParameters} argument.\n     * @type {function}\n     */\n    this.onProgress = null;\n\n    /**\n     * Callback for when an unsupported feature is used in the PDF document.\n     * The callback receives an {@link UNSUPPORTED_FEATURES} argument.\n     * @type {function}\n     */\n    this.onUnsupportedFeature = null;\n  }\n\n  /**\n   * Promise for document loading task completion.\n   * @type {Promise<PDFDocumentProxy>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Abort all network requests and destroy the worker.\n   * @returns {Promise<void>} A promise that is resolved when destruction is\n   *   completed.\n   */\n  async destroy() {\n    this.destroyed = true;\n    await this._transport?.destroy();\n\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\n\n/**\n * Abstract class to support range requests file loading.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   * @param {boolean} [progressiveDone]\n   * @param {string} [contentDispositionFilename]\n   */\n  constructor(\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n      Object.defineProperty(this, \"fingerprint\", {\n        get() {\n          deprecated(\n            \"`PDFDocumentProxy.fingerprint`, \" +\n              \"please use `PDFDocumentProxy.fingerprints` instead.\"\n          );\n          return this.fingerprints[0];\n        },\n      });\n    }\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {Array<string, string|null>} A (not guaranteed to be) unique ID to\n   *   identify the PDF document.\n   *   NOTE: The first element will always be defined for all PDF documents,\n   *   whereas the second element is only defined for *modified* PDF documents.\n   */\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return !!this._transport._htmlForXfa;\n  }\n\n  /**\n   * NOTE: This is (mostly) intended to support printing of XFA forms.\n   *\n   * @type {Object | null} An object representing a HTML tree structure\n   *   to render the XFA, or `null` when no XFA form exists.\n   */\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {Promise<number>} A promise that is resolved with the page index,\n   *   starting from zero, that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any> | null>} A promise that is resolved with all\n   *   information of the given named destination, or `null` when the named\n   *   destination is not present in the PDF file.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} of all the JavaScript strings in the name tree, or `null`\n   *   if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree (like getJavaScript);\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<TypedArray>} A promise that is resolved with a\n   *   {TypedArray} that has the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * @typedef {Object} PDFDocumentStats\n   * @property {Object<string, boolean>} streamTypes - Used stream types in the\n   *   document (an item is set to true if specific stream ID was used in the\n   *   document).\n   * @property {Object<string, boolean>} fontTypes - Used font types in the\n   *   document (an item is set to true if specific font ID was used in the\n   *   document).\n   */\n\n  /**\n   * @returns {Promise<PDFDocumentStats>} A promise this is resolved with\n   *   current statistics about document structures (see\n   *   {@link PDFDocumentStats}).\n   */\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @param {boolean} [keepLoadedFonts] - Let fonts remain attached to the DOM.\n   *   NOTE: This will increase persistent memory usage, hence don't use this\n   *   option unless absolutely necessary. The default value is `false`.\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are needed in the viewer.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      this._transport.annotationStorage.size <= 0\n    ) {\n      deprecated(\n        \"saveDocument called while `annotationStorage` is empty, \" +\n          \"please use the getData-method instead.\"\n      );\n    }\n    return this._transport.saveDocument();\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<Object>> | null>} A promise that is\n   *   resolved with an {Object} containing /AcroForm field data for the JS\n   *   sandbox, or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - Replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - Do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n * @property {boolean} [includeMarkedContent] - When true include marked\n *   content items in the items array of TextContent. The default is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem | TextMarkedContent>} items - Array of\n *   {@link TextItem} and {@link TextMarkedContent} objects. TextMarkedContent\n *   items are included when includeMarkedContent is true.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n * @property {boolean} hasEOL - Indicating if the text content is followed by a\n *   line-break.\n */\n\n/**\n * Page text marked content part.\n *\n * @typedef {Object} TextMarkedContent\n * @property {string} type - Either 'beginMarkedContent',\n *   'beginMarkedContentProps', or 'endMarkedContent'.\n * @property {string} id - The marked content identifier. Only used for type\n *   'beginMarkedContentProps'.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} [intent] - Determines the annotations that are fetched,\n *   can be 'display' (viewable annotations), 'print' (printable annotations),\n *   or 'any' (all annotations). The default value is 'display'.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are rendered\n *   onto the canvas, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {Object} [imageLayer] - An object that has `beginLayout`,\n *   `endLayout` and `appendImage` functions.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object | string} [background] - Background to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n */\n\n/**\n * Page getOperatorList parameters.\n *\n * @typedef {Object} GetOperatorListParameters\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are included\n *   in the operatorList, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n */\n\n/**\n * Structure tree node. The root node will have a role \"Root\".\n *\n * @typedef {Object} StructTreeNode\n * @property {Array<StructTreeNode | StructTreeContent>} children - Array of\n *   {@link StructTreeNode} and {@link StructTreeContent} objects.\n * @property {string} role - element's role, already mapped if a role map exists\n * in the PDF.\n */\n\n/**\n * Structure tree content.\n *\n * @typedef {Object} StructTreeContent\n * @property {string} type - either \"content\" for page and stream structure\n *   elements or \"object\" for object references.\n * @property {string} id - unique id that will map to the text layer.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this._annotationPromises = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {RefProxy | null} The reference that points to this page.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = \"display\" } = {}) {\n    const intentArgs = this._transport.getRenderingIntent(intent);\n\n    let promise = this._annotationPromises.get(intentArgs.cacheKey);\n    if (!promise) {\n      promise = this._transport.getAnnotations(\n        this._pageIndex,\n        intentArgs.renderingIntent\n      );\n      this._annotationPromises.set(intentArgs.cacheKey, promise);\n\n      if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n        promise = promise.then(annotations => {\n          for (const annotation of annotations) {\n            if (annotation.titleObj !== undefined) {\n              Object.defineProperty(annotation, \"title\", {\n                get() {\n                  deprecated(\n                    \"`title`-property on annotation, please use `titleObj` instead.\"\n                  );\n                  return annotation.titleObj.str;\n                },\n              });\n            }\n            if (annotation.contentsObj !== undefined) {\n              Object.defineProperty(annotation, \"contents\", {\n                get() {\n                  deprecated(\n                    \"`contents`-property on annotation, please use `contentsObj` instead.\"\n                  );\n                  return annotation.contentsObj.str;\n                },\n              });\n            }\n          }\n          return annotations;\n        });\n      }\n    }\n    return promise;\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return (this._jsActionsPromise ||= this._transport.getPageJSActions(\n      this._pageIndex\n    ));\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with a fake DOM object (a tree structure where elements\n   *   are {Object} with a name, attributes (class, style, ...), value and\n   *   children, very similar to a HTML DOM tree), or `null` if no XFA exists.\n   */\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params - Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    optionalContentConfigPromise = null,\n  }) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n      if (arguments[0]?.renderInteractiveForms !== undefined) {\n        deprecated(\n          \"render no longer accepts the `renderInteractiveForms`-option, \" +\n            \"please use the `annotationMode`-option instead.\"\n        );\n        if (\n          arguments[0].renderInteractiveForms === true &&\n          annotationMode === AnnotationMode.ENABLE\n        ) {\n          annotationMode = AnnotationMode.ENABLE_FORMS;\n        }\n      }\n      if (arguments[0]?.includeAnnotationStorage !== undefined) {\n        deprecated(\n          \"render no longer accepts the `includeAnnotationStorage`-option, \" +\n            \"please use the `annotationMode`-option instead.\"\n        );\n        if (\n          arguments[0].includeAnnotationStorage === true &&\n          annotationMode === AnnotationMode.ENABLE\n        ) {\n          annotationMode = AnnotationMode.ENABLE_STORAGE;\n        }\n      }\n    }\n\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode\n    );\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance =\n      canvasFactory ||\n      new DefaultCanvasFactory({ ownerDocument: this._ownerDocument });\n    const intentPrint = !!(\n      intentArgs.renderingIntent & RenderingIntentFlag.PRINT\n    );\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || intentPrint) {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error),\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n    });\n\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @param {GetOperatorListParameters} params - Page getOperatorList\n   *   parameters.\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents the page's operator list.\n   */\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      /* isOpList = */ true\n    );\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n    includeMarkedContent = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n        includeMarkedContent: includeMarkedContent === true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      // TODO: We need to revisit this once the XFA foreground patch lands and\n      // only do this for non-foreground XFA.\n      return this.getXfa().then(xfa => {\n        return XfaText.textContent(xfa);\n      });\n    }\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * @returns {Promise<StructTreeNode>} A promise that is resolved with a\n   *   {@link StructTreeNode} object that represents the page's structure tree,\n   *   or `null` when no structure tree is present for the current page.\n   */\n  getStructTree() {\n    return (this._structTreePromise ||= this._transport.getStructTree(\n      this._pageIndex\n    ));\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intentState.opListReadCapability) {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this._annotationPromises.clear();\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n    this.objs.clear();\n    this._annotationPromises.clear();\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList({ renderingIntent, cacheKey }) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        Number.isInteger(renderingIntent) && renderingIntent > 0,\n        '_pumpOperatorList: Expected valid \"renderingIntent\" argument.'\n      );\n    }\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      {\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        cacheKey,\n        annotationStorage:\n          renderingIntent & RenderingIntentFlag.ANNOTATIONS_STORAGE\n            ? this._transport.annotationStorage.serializable\n            : null,\n      }\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (const internalRenderTask of intentState.renderTasks) {\n              internalRenderTask.operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        reason instanceof Error,\n        '_abortOperatorList: Expected valid \"reason\" argument.'\n      );\n    }\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader\n      .cancel(new AbortException(reason.message))\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor() {\n    this._listeners = [];\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (\n        typeof value === \"function\" ||\n        typeof value === \"symbol\" ||\n        value instanceof URL\n      ) {\n        throw new Error(\n          `LoopbackPort.postMessage - cannot clone: ${value?.toString()}`\n        );\n      }\n\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) {\n        // already cloned the object\n        return cloned.get(value);\n      }\n      let buffer, result;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        if (transfers?.includes(buffer)) {\n          result = new value.constructor(\n            buffer,\n            value.byteOffset,\n            value.byteLength\n          );\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      if (value instanceof Map) {\n        result = new Map();\n        cloned.set(value, result); // Adding to cache now for cyclic references.\n        for (const [key, val] of value) {\n          result.set(key, cloneValue(val));\n        }\n        return result;\n      }\n      if (value instanceof Set) {\n        result = new Set();\n        cloned.set(value, result); // Adding to cache now for cyclic references.\n        for (const val of value) {\n          result.add(cloneValue(val));\n        }\n        return result;\n      }\n      result = Array.isArray(value) ? [] : Object.create(null);\n      cloned.set(value, result); // Adding to cache now for cyclic references.\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (const i in value) {\n        let desc,\n          p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n        if (typeof desc.value === \"function\" && !value.hasOwnProperty?.(i)) {\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    const cloned = new WeakMap();\n    const event = { data: cloneValue(obj) };\n\n    this._deferred.then(() => {\n      for (const listener of this._listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level;\n *   the constants from {@link VerbosityLevel} should be used.\n */\n\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fallbackWorkerSrc: null,\n  fakeWorkerId: 0,\n};\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n  // eslint-disable-next-line no-undef\n  if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n    // Workers aren't supported in Node.js, force-disabling them there.\n    PDFWorkerUtil.isWorkerDisabled = true;\n\n    PDFWorkerUtil.fallbackWorkerSrc = PDFJSDev.test(\"LIB\")\n      ? \"../pdf.worker.js\"\n      : \"./pdf.worker.js\";\n  } else if (typeof document === \"object\") {\n    const pdfjsFilePath = document?.currentScript?.src;\n    if (pdfjsFilePath) {\n      PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(\n        /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n        \".worker$1$2\"\n      );\n    }\n  }\n\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = `importScripts(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper]));\n  };\n}\n\n/**\n * PDF.js web worker abstraction that controls the instantiation of PDF\n * documents. Message handlers are used to pass information from the main\n * thread to the worker thread and vice versa. If the creation of a web\n * worker is not possible, a \"fake\" worker will be used instead.\n *\n * @param {PDFWorkerParameters} params - The worker initialization parameters.\n */\nclass PDFWorker {\n  static get _workerPorts() {\n    return shadow(this, \"_workerPorts\", new WeakMap());\n  }\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel(),\n  } = {}) {\n    if (port && PDFWorker._workerPorts.has(port)) {\n      throw new Error(\"Cannot use more than one PDFWorker per port.\");\n    }\n\n    this.name = name;\n    this.destroyed = false;\n    this.postMessageTransfers = true;\n    this.verbosity = verbosity;\n\n    this._readyCapability = createPromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (port) {\n      PDFWorker._workerPorts.set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n\n  /**\n   * Promise for worker initialization completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._readyCapability.promise;\n  }\n\n  /**\n   * The current `workerPort`, when it exists.\n   * @type {Worker}\n   */\n  get port() {\n    return this._port;\n  }\n\n  /**\n   * The current MessageHandler-instance.\n   * @type {MessageHandler}\n   */\n  get messageHandler() {\n    return this._messageHandler;\n  }\n\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {\n      // Ignoring \"ready\" event -- MessageHandler should already be initialized\n      // and ready to accept messages.\n    });\n    this._readyCapability.resolve();\n  }\n\n  _initialize() {\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fulfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an\n    // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n    if (\n      typeof Worker !== \"undefined\" &&\n      !PDFWorkerUtil.isWorkerDisabled &&\n      !PDFWorker._mainThreadWorkerMessageHandler\n    ) {\n      let workerSrc = PDFWorker.workerSrc;\n\n      try {\n        // Wraps workerSrc path into blob URL, if the former does not belong\n        // to the same origin.\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          !isSameOrigin(window.location.href, workerSrc)\n        ) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(\n            new URL(workerSrc, window.location).href\n          );\n        }\n\n        // Some versions of FF can't create a worker on localhost, see:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n        const worker = new Worker(workerSrc);\n        const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            // Fall back to fake worker if the termination is caused by an\n            // error (e.g. NetworkError / SecurityError).\n            this._setupFakeWorker();\n          }\n        };\n\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            // Worker failed to initialize due to an error. Clean up and fall\n            // back to the fake worker.\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          if (data) {\n            // supportTypedArray\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n            if (!data.supportTransfers) {\n              this.postMessageTransfers = false;\n            }\n            this._readyCapability.resolve();\n            // Send global setting, e.g. verbosity level.\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity,\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          try {\n            sendTest();\n          } catch (e) {\n            // We need fallback to a faked worker.\n            this._setupFakeWorker();\n          }\n        });\n\n        const sendTest = () => {\n          const testObj = new Uint8Array([this.postMessageTransfers ? 255 : 0]);\n          // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n          // typed array. Also, checking if we can use transfers.\n          try {\n            messageHandler.send(\"test\", testObj, [testObj.buffer]);\n          } catch (ex) {\n            warn(\"Cannot use postMessage transfers.\");\n            testObj[0] = 0;\n            messageHandler.send(\"test\", testObj);\n          }\n        };\n\n        // It might take time for the worker to initialize. We will try to send\n        // the \"test\" message immediately, and once the \"ready\" message arrives.\n        // The worker shall process only the first received \"test\" message.\n        sendTest();\n        return;\n      } catch (e) {\n        info(\"The worker has been disabled.\");\n      }\n    }\n    // Either workers are disabled, not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this._setupFakeWorker();\n  }\n\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal\n      .then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          return;\n        }\n        const port = new LoopbackPort();\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n        this._messageHandler = messageHandler;\n        this._readyCapability.resolve();\n        // Send global setting, e.g. verbosity level.\n        messageHandler.send(\"configure\", {\n          verbosity: this.verbosity,\n        });\n      })\n      .catch(reason => {\n        this._readyCapability.reject(\n          new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n        );\n      });\n  }\n\n  /**\n   * Destroys the worker instance.\n   */\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      // We need to terminate only web worker created resource.\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker._workerPorts.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n\n  /**\n   * @param {PDFWorkerParameters} params - The worker initialization parameters.\n   */\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    if (this._workerPorts.has(params.port)) {\n      return this._workerPorts.get(params.port);\n    }\n    return new PDFWorker(params);\n  }\n\n  /**\n   * The current `workerSrc`, when it exists.\n   * @type {string}\n   */\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (PDFWorkerUtil.fallbackWorkerSrc !== null) {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return PDFWorkerUtil.fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get _mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch (ex) {\n      return null;\n    }\n  }\n\n  // Loads worker code into the main-thread.\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      const mainWorkerMessageHandler = this._mainThreadWorkerMessageHandler;\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        const worker = await import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(this.workerSrc);\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(this.workerSrc);\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n  PDFWorker.getWorkerSrc = function () {\n    deprecated(\n      \"`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.\"\n    );\n    return this.workerSrc;\n  };\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement,\n    });\n    this._params = params;\n\n    if (!params.useWorkerFetch) {\n      this.CMapReaderFactory = new params.CMapReaderFactory({\n        baseUrl: params.cMapUrl,\n        isCompressed: params.cMapPacked,\n      });\n      this.StandardFontDataFactory = new params.StandardFontDataFactory({\n        baseUrl: params.standardFontDataUrl,\n      });\n    }\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  getRenderingIntent(\n    intent,\n    annotationMode = AnnotationMode.ENABLE,\n    isOpList = false\n  ) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY; // Default value.\n    let lastModified = \"\";\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n\n        lastModified = this.annotationStorage.lastModified;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${lastModified}`,\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    for (const page of this.pageCache) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    }\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this._getFieldObjectsPromise = null;\n      this._hasJSActionsPromise = null;\n\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total,\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length,\n        });\n      }\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.pageCache[data.pageIndex];\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const [id, type, exportedData] = data;\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (params.pdfBug && globalThis.FontInspector?.enabled) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (imageData?.data?.length > MAX_IMAGE_SIZE_TO_STORE) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n      return undefined;\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total,\n        });\n      }\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.CMapReaderFactory) {\n        return Promise.reject(\n          new Error(\n            \"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.CMapReaderFactory.fetch(data);\n    });\n\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.StandardFontDataFactory) {\n        return Promise.reject(\n          new Error(\n            \"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.StandardFontDataFactory.fetch(data);\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.ownerDocument,\n          this._params.pdfBug\n        );\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      ref,\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  saveDocument() {\n    return this.messageHandler\n      .sendWithPromise(\"SaveDocument\", {\n        isPureXfa: !!this._htmlForXfa,\n        numPages: this._numPages,\n        annotationStorage: this.annotationStorage.serializable,\n        filename: this._fullReader?.filename ?? null,\n      })\n      .finally(() => {\n        this.annotationStorage.resetModified();\n      });\n  }\n\n  getFieldObjects() {\n    return (this._getFieldObjectsPromise ||=\n      this.messageHandler.sendWithPromise(\"GetFieldObjects\", null));\n  }\n\n  hasJSActions() {\n    return (this._hasJSActionsPromise ||= this.messageHandler.sendWithPromise(\n      \"HasJSActions\",\n      null\n    ));\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getDocJSActions() {\n    return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader?.filename ?? null,\n          contentLength: this._fullReader?.contentLength ?? null,\n        };\n      });\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    if (this.destroyed) {\n      return; // No need to manually clean-up when destruction has started.\n    }\n    for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n      const page = this.pageCache[i];\n      if (!page) {\n        continue;\n      }\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${i + 1} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this._getFieldObjectsPromise = null;\n    this._hasJSActionsPromise = null;\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      enableXfa: params.enableXfa,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj?.resolved || false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass InternalRenderTask {\n  static get canvasInUse() {\n    return shadow(this, \"canvasInUse\", new WeakSet());\n  }\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this._pdfBug = pdfBug;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame =\n      useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {\n      // Ignoring errors, since we only want to know when rendering is\n      // no longer pending.\n    });\n  }\n\n  initializeGraphics({ transparency = false, optionalContentConfig }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.canvasInUse.has(this._canvas)) {\n        throw new Error(\n          \"Cannot use the same canvas during multiple render() operations. \" +\n            \"Use different canvas or ensure previous operations were \" +\n            \"cancelled or completed.\"\n        );\n      }\n      InternalRenderTask.canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const { canvasContext, viewport, transform, imageLayer, background } =\n      this.params;\n\n    this.gfx = new CanvasGraphics(\n      canvasContext,\n      this.commonObjs,\n      this.objs,\n      this.canvasFactory,\n      imageLayer,\n      optionalContentConfig\n    );\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background,\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    if (this.graphicsReadyCallback) {\n      this.graphicsReadyCallback();\n    }\n  }\n\n  cancel(error = null) {\n    this.running = false;\n    this.cancelled = true;\n    if (this.gfx) {\n      this.gfx.endDrawing();\n    }\n    if (this._canvas) {\n      InternalRenderTask.canvasInUse.delete(this._canvas);\n    }\n    this.callback(\n      error ||\n        new RenderingCancelledException(\n          `Rendering cancelled, page ${this._pageIndex + 1}`,\n          \"canvas\"\n        )\n    );\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      if (!this.graphicsReadyCallback) {\n        this.graphicsReadyCallback = this._continueBound;\n      }\n      return;\n    }\n\n    if (this.stepper) {\n      this.stepper.updateOperatorList(this.operatorList);\n    }\n\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(\n      this.operatorList,\n      this.operatorListIdx,\n      this._continueBound,\n      this.stepper\n    );\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        if (this._canvas) {\n          InternalRenderTask.canvasInUse.delete(this._canvas);\n        }\n        this.callback();\n      }\n    }\n  }\n}\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  DefaultCanvasFactory,\n  DefaultCMapReaderFactory,\n  DefaultStandardFontDataFactory,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFDocumentLoadingTask,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  RenderTask,\n  setPDFNetworkStreamFactory,\n  version,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n    // For testing only.\n    styleElement = null,\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = [];\n    this.styleElement =\n      typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"!PRODUCTION || TESTING\")\n        ? styleElement\n        : null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: UNSUPPORTED_FEATURES.errorFontLoadNative,\n          });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      return shadow(\n        this,\n        \"isFontLoadingAPISupported\",\n        hasFonts && !this.styleElement\n      );\n    }\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m?.[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = this._document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (const font of fonts) {\n        names.push(font.loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (const name of names) {\n        const span = this._document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = name;\n        div.appendChild(span);\n      }\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        this._document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight,\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(\n        this.cssFontInfo.fontFamily,\n        this.data,\n        css\n      );\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(this.data);\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      this._onUnsupportedFeature({\n        featureId: UNSUPPORTED_FEATURES.errorFontGetPath,\n      });\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      const jsBuf = [];\n      for (const current of cmds) {\n        const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n        jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\n        \"c\",\n        \"size\",\n        jsBuf.join(\"\")\n      ));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (const current of cmds) {\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n} from \"./base_factory.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCanvasFactory\");\n  }\n};\n\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCMapReaderFactory\");\n  }\n};\n\nlet NodeStandardFontDataFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeStandardFontDataFactory\");\n  }\n};\n\nif ((typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS) {\n  const fetchData = function (url) {\n    return new Promise((resolve, reject) => {\n      const fs = __non_webpack_require__(\"fs\");\n      fs.readFile(url, (error, data) => {\n        if (error || !data) {\n          reject(new Error(error));\n          return;\n        }\n        resolve(new Uint8Array(data));\n      });\n    });\n  };\n\n  NodeCanvasFactory = class extends BaseCanvasFactory {\n    _createCanvas(width, height) {\n      const Canvas = __non_webpack_require__(\"canvas\");\n      return Canvas.createCanvas(width, height);\n    }\n  };\n\n  NodeCMapReaderFactory = class extends BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return fetchData(url).then(data => {\n        return { cMapData: data, compressionType };\n      });\n    }\n  };\n\n  NodeStandardFontDataFactory = class extends BaseStandardFontDataFactory {\n    _fetchData(url) {\n      return fetchData(url);\n    }\n  };\n}\n\nexport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeStandardFontDataFactory,\n};\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._timeStamp = Date.now();\n    this._modified = false;\n\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable effects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists, or return the default value.\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getValue(key, defaultValue) {\n    const value = this._storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  /**\n   * Set the value for a given key\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this._storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this._storage.set(key, value);\n    }\n    if (modified) {\n      this._timeStamp = Date.now();\n      this._setModified();\n    }\n  }\n\n  getAll() {\n    return this._storage.size > 0 ? objectFromMap(this._storage) : null;\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  /**\n   * @private\n   */\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    return this._storage.size > 0 ? this._storage : null;\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get lastModified() {\n    return this._timeStamp.toString();\n  }\n}\n\nexport { AnnotationStorage };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { getShadingPattern, TilingPattern } from \"./pattern_helper.js\";\nimport { PixelsPerInch } from \"./display_utils.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\n\n// This value comes from sampling a few PDFs that re-use patterns, there doesn't\n// seem to be any that benefit from caching more than 2 patterns.\nconst MAX_CACHED_CANVAS_PATTERNS = 2;\n\n// Defines the time the `executeOperatorList`-method is going to be executing\n// before it stops and shedules a continue of execution.\nconst EXECUTION_TIME = 15; // ms\n// Defines the number of steps before checking the execution time.\nconst EXECUTION_STEPS = 10;\n\nconst COMPILE_TYPE3_GLYPHS = true;\nconst MAX_SIZE_TO_COMPILE = 1000;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\n// Because of https://bugs.chromium.org/p/chromium/issues/detail?id=1170396\n// some curves aren't rendered correctly.\n// Multiplying lineWidth by this factor should help to have \"correct\"\n// rendering with no artifacts.\n// Once the bug is fixed upstream, we can remove this constant and its use.\nconst LINEWIDTH_SCALE_FACTOR = 1.000001;\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (ctx.mozCurrentTransform) {\n    return;\n  }\n  ctx._originalSave = ctx.save;\n  ctx._originalRestore = ctx.restore;\n  ctx._originalRotate = ctx.rotate;\n  ctx._originalScale = ctx.scale;\n  ctx._originalTranslate = ctx.translate;\n  ctx._originalTransform = ctx.transform;\n  ctx._originalSetTransform = ctx.setTransform;\n  ctx._originalResetTransform = ctx.resetTransform;\n\n  ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n  ctx._transformStack = [];\n\n  try {\n    // The call to getOwnPropertyDescriptor throws an exception in Node.js:\n    // \"TypeError: Method lineWidth called on incompatible receiver\n    //  #<CanvasRenderingContext2D>\".\n    const desc = Object.getOwnPropertyDescriptor(\n      Object.getPrototypeOf(ctx),\n      \"lineWidth\"\n    );\n\n    ctx._setLineWidth = desc.set;\n    ctx._getLineWidth = desc.get;\n\n    Object.defineProperty(ctx, \"lineWidth\", {\n      set: function setLineWidth(width) {\n        this._setLineWidth(width * LINEWIDTH_SCALE_FACTOR);\n      },\n      get: function getLineWidth() {\n        return this._getLineWidth();\n      },\n    });\n  } catch (_) {}\n\n  Object.defineProperty(ctx, \"mozCurrentTransform\", {\n    get: function getCurrentTransform() {\n      return this._transformMatrix;\n    },\n  });\n\n  Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n    get: function getCurrentTransformInverse() {\n      // Calculation done using WolframAlpha:\n      // http://www.wolframalpha.com/input/?\n      //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n      const [a, b, c, d, e, f] = this._transformMatrix;\n      const ad_bc = a * d - b * c;\n      const bc_ad = b * c - a * d;\n\n      return [\n        d / ad_bc,\n        b / bc_ad,\n        c / bc_ad,\n        a / ad_bc,\n        (d * e - c * f) / bc_ad,\n        (b * e - a * f) / ad_bc,\n      ];\n    },\n  });\n\n  ctx.save = function ctxSave() {\n    const old = this._transformMatrix;\n    this._transformStack.push(old);\n    this._transformMatrix = old.slice(0, 6);\n\n    this._originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    const prev = this._transformStack.pop();\n    if (prev) {\n      this._transformMatrix = prev;\n      this._originalRestore();\n    }\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    const m = this._transformMatrix;\n    m[4] = m[0] * x + m[2] * y + m[4];\n    m[5] = m[1] * x + m[3] * y + m[5];\n\n    this._originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    const m = this._transformMatrix;\n    m[0] *= x;\n    m[1] *= x;\n    m[2] *= y;\n    m[3] *= y;\n\n    this._originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    const m = this._transformMatrix;\n    this._transformMatrix = [\n      m[0] * a + m[2] * b,\n      m[1] * a + m[3] * b,\n      m[0] * c + m[2] * d,\n      m[1] * c + m[3] * d,\n      m[0] * e + m[2] * f + m[4],\n      m[1] * e + m[3] * f + m[5],\n    ];\n\n    ctx._originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    this._transformMatrix = [a, b, c, d, e, f];\n\n    ctx._originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    this._transformMatrix = [1, 0, 0, 1, 0, 0];\n\n    ctx._originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    const cosValue = Math.cos(angle);\n    const sinValue = Math.sin(angle);\n\n    const m = this._transformMatrix;\n    this._transformMatrix = [\n      m[0] * cosValue + m[2] * sinValue,\n      m[1] * cosValue + m[3] * sinValue,\n      m[0] * -sinValue + m[2] * cosValue,\n      m[1] * -sinValue + m[3] * cosValue,\n      m[4],\n      m[5],\n    ];\n\n    this._originalRotate(angle);\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height, trackTransform) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n      // reset canvas transform for emulated mozCurrentTransform, if needed\n      canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    if (trackTransform) {\n      addContextCurrentTransform(canvasEntry.context);\n    }\n    return canvasEntry;\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\n\n/**\n * Least recently used cache implemented with a JS Map. JS Map keys are ordered\n * by last insertion.\n */\nclass LRUCache {\n  constructor(maxSize = 0) {\n    this._cache = new Map();\n    this._maxSize = maxSize;\n  }\n\n  has(key) {\n    return this._cache.has(key);\n  }\n\n  get(key) {\n    if (this._cache.has(key)) {\n      // Delete and set the value so it's moved to the end of the map iteration.\n      const value = this._cache.get(key);\n      this._cache.delete(key);\n      this._cache.set(key, value);\n    }\n    return this._cache.get(key);\n  }\n\n  set(key, value) {\n    if (this._maxSize <= 0) {\n      return;\n    }\n    if (this._cache.size + 1 > this._maxSize) {\n      // Delete the least recently used.\n      this._cache.delete(this._cache.keys().next().value);\n    }\n    this._cache.set(key, value);\n  }\n\n  clear() {\n    this._cache.clear();\n  }\n}\n\nfunction compileType3Glyph(imgData) {\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([\n    0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0,\n  ]);\n\n  const width = imgData.width,\n    height = imgData.height,\n    width1 = width + 1;\n  let i, ii, j, j0;\n  const points = new Uint8Array(width1 * (height + 1));\n\n  // decodes bit-packed mask data\n  const lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  const data = new Uint8Array(lineSize * height);\n  let pos = 0;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    const elem = data0[i];\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    const coords = [p % width1, i];\n\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1, (p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  const drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      const o = outlines[k];\n      c.moveTo(o[0], o[1]);\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nclass CanvasExtraState {\n  constructor() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n    this.transferMaps = null;\n  }\n\n  clone() {\n    return Object.create(this);\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nfunction putBinaryImageData(ctx, imgData, transferMaps = null) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  // Put the image data to the canvas in chunks, rather than putting the\n  // whole image at once.  This saves JS memory, because the ImageData object\n  // is smaller. It also possibly saves C++ memory within the implementation\n  // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n  // the data passed to putImageData()). |n| shouldn't be too small, however,\n  // because too many putImageData() calls will slow things down.\n  //\n  // Note: as written, if the last chunk is partial, the putImageData() call\n  // will (conceptually) put pixels past the bounds of the canvas.  But\n  // that's ok; any such pixels are ignored.\n\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n\n  let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n  if (transferMaps) {\n    switch (transferMaps.length) {\n      case 1:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[0];\n        transferMapBlue = transferMaps[0];\n        transferMapGray = transferMaps[0];\n        break;\n      case 4:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[1];\n        transferMapBlue = transferMaps[2];\n        transferMapGray = transferMaps[3];\n        break;\n    }\n  }\n\n  // There are multiple forms in which the pixel data can be passed, and\n  // imgData.kind tells us which one this is.\n  if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n    // Grayscale, 1 bit per pixel (i.e. black-and-white).\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = (width + 7) >> 3;\n    let white = 0xffffffff;\n    let black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n    if (transferMapGray) {\n      if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n        [white, black] = [black, white];\n      }\n    }\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      // We ran out of input. Make all remaining pixels transparent.\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n    // RGBA, 32-bits per pixel.\n    const hasTransferMaps = !!(\n      transferMapRed ||\n      transferMapGreen ||\n      transferMapBlue\n    );\n\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === ImageKind.RGB_24BPP) {\n    // RGB, 24-bits per pixel.\n    const hasTransferMaps = !!(\n      transferMapRed ||\n      transferMapGreen ||\n      transferMapBlue\n    );\n\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n      for (j = elemsInThisChunk; j--; ) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < destPos; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight =\n      i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n    // Expand the mask so it can be used by the canvas.  Any required\n    // inversion has already been handled.\n    let destPos = 3; // alpha component offset\n    for (let j = 0; j < thisChunkHeight; j++) {\n      let elem,\n        mask = 0;\n      for (let k = 0; k < width; k++) {\n        if (!mask) {\n          elem = src[srcPos++];\n          mask = 128;\n        }\n        dest[destPos] = elem & mask ? 0 : 255;\n        destPos += 4;\n        mask >>= 1;\n      }\n    }\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\n    \"strokeStyle\",\n    \"fillStyle\",\n    \"fillRule\",\n    \"globalAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"globalCompositeOperation\",\n    \"font\",\n  ];\n  for (let i = 0, ii = properties.length; i < ii; i++) {\n    const property = properties[i];\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = \"#000000\";\n  ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n}\n\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n      bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n      bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n    }\n  }\n}\n\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = (layerData[i] * alpha * scale) | 0;\n  }\n}\n\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y =\n      maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n      maskData[i - 2] * 152 + // * 0.59 ....\n      maskData[i - 1] * 28; // * 0.11 ....\n    layerData[i] = transferMap\n      ? (layerData[i] * transferMap[y >> 8]) >> 8\n      : (layerData[i] * y) >> 16;\n  }\n}\n\nfunction genericComposeSMask(\n  maskCtx,\n  layerCtx,\n  width,\n  height,\n  subtype,\n  backdrop,\n  transferMap\n) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n\n  let composeFn;\n  if (subtype === \"Luminosity\") {\n    composeFn = composeSMaskLuminosity;\n  } else {\n    composeFn = composeSMaskAlpha;\n  }\n\n  // processing image in chunks to save memory\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n    const layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n\n    maskCtx.putImageData(layerData, 0, row);\n  }\n}\n\nfunction composeSMask(ctx, smask, layerCtx) {\n  const mask = smask.canvas;\n  const maskCtx = smask.context;\n\n  ctx.setTransform(\n    smask.scaleX,\n    0,\n    0,\n    smask.scaleY,\n    smask.offsetX,\n    smask.offsetY\n  );\n\n  genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    mask.width,\n    mask.height,\n    smask.subtype,\n    smask.backdrop,\n    smask.transferMap\n  );\n  ctx.drawImage(mask, 0, 0);\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  const scale = Util.singularValueDecompose2dScale(transform);\n  // Round to a 32bit float so that `<=` check below will pass for numbers that\n  // are very close, but not exactly the same 64bit floats.\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround(\n    (globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS\n  );\n  if (interpolate !== undefined) {\n    // If the value is explicitly set use it.\n    return interpolate;\n  } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n    // Smooth when downscaling.\n    return true;\n  }\n  // Don't smooth when upscaling.\n  return false;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    imageLayer,\n    optionalContentConfig\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see\n    // PDF spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedCanvasPatterns = new LRUCache(MAX_CACHED_CANVAS_PATTERNS);\n    this.cachedPatterns = new Map();\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null,\n  }) {\n    // For pdfs that use blend modes we have to clear the canvas else certain\n    // blend modes can look wrong since we'd be blending with a white\n    // backdrop. The problem with a transparent backdrop though is we then\n    // don't get sub pixel anti aliasing on text, creating temporary\n    // transparent canvas when we have blend modes.\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n\n    this.ctx.save();\n    this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.restore();\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\n        \"transparent\",\n        width,\n        height,\n        true\n      );\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      // The transform can be applied before rendering, transferring it to\n      // the new canvas.\n      this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform.apply(this.ctx, transform);\n    }\n    this.ctx.transform.apply(this.ctx, viewport.transform);\n\n    this.baseTransform = this.ctx.mozCurrentTransform.slice();\n    this._combinedScaleFactor = Math.hypot(\n      this.baseTransform[0],\n      this.baseTransform[2]\n    );\n\n    if (this.imageLayer) {\n      this.imageLayer.beginLayout();\n    }\n  }\n\n  executeOperatorList(\n    operatorList,\n    executionStartIdx,\n    continueCallback,\n    stepper\n  ) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    // Sometimes the OperatorList to execute is empty.\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations =\n      argsArrayLen - i > EXECUTION_STEPS &&\n      typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      fnId = fnArray[i];\n\n      if (fnId !== OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n          // If the promise isn't resolved yet, add the continueCallback\n          // to the promise and bail out.\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n\n      i++;\n\n      // If the entire operatorList was executed, stop as were done.\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      // If the execution took longer then a certain amount of time and\n      // `continueCallback` is specified, interrupt the execution.\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n\n      // If the operatorList isn't executed completely yet OR the execution\n      // time was short enough, do another execution round.\n    }\n  }\n\n  endDrawing() {\n    // Finishing all opened operations such as SMask group painting.\n    while (this.stateStack.length || this.current.activeSMask !== null) {\n      this.restore();\n    }\n\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n\n    this.cachedCanvases.clear();\n    this.cachedCanvasPatterns.clear();\n    this.cachedPatterns.clear();\n\n    if (this.imageLayer) {\n      this.imageLayer.endLayout();\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    // Vertical or horizontal scaling shall not be more than 2 to not lose the\n    // pixels during drawImage operation, painting on the temporary canvas(es)\n    // that are twice smaller in size.\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(\n      Math.hypot(inverseTransform[0], inverseTransform[1]),\n      1\n    );\n    let heightScale = Math.max(\n      Math.hypot(inverseTransform[2], inverseTransform[3]),\n      1\n    );\n\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (\n      (widthScale > 2 && paintWidth > 1) ||\n      (heightScale > 2 && paintHeight > 1)\n    ) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = Math.ceil(paintHeight / 2);\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(\n        tmpCanvasId,\n        newWidth,\n        newHeight\n      );\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(\n        img,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight,\n    };\n  }\n\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const width = img.width,\n      height = img.height;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const maskCanvas = this.cachedCanvases.getCanvas(\n      \"maskCanvas\",\n      width,\n      height\n    );\n    const maskCtx = maskCanvas.context;\n    putBinaryImageMask(maskCtx, img);\n\n    // Create the mask canvas at the size it will be drawn at and also set\n    // its transform to match the current transform so if there are any\n    // patterns applied they will be applied relative to the correct\n    // transform.\n    const objToCanvas = ctx.mozCurrentTransform;\n    let maskToCanvas = Util.transform(objToCanvas, [\n      1 / width,\n      0,\n      0,\n      -1 / height,\n      0,\n      0,\n    ]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const cord1 = Util.applyTransform([0, 0], maskToCanvas);\n    const cord2 = Util.applyTransform([width, height], maskToCanvas);\n    const rect = Util.normalizeRect([cord1[0], cord1[1], cord2[0], cord2[1]]);\n    const drawnWidth = Math.ceil(rect[2] - rect[0]);\n    const drawnHeight = Math.ceil(rect[3] - rect[1]);\n    const fillCanvas = this.cachedCanvases.getCanvas(\n      \"fillCanvas\",\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n    const fillCtx = fillCanvas.context;\n    // The offset will be the top-left cordinate mask.\n    const offsetX = Math.min(cord1[0], cord2[0]);\n    const offsetY = Math.min(cord1[1], cord2[1]);\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform.apply(fillCtx, maskToCanvas);\n    // Pre-scale if needed to improve image smoothing.\n    const scaled = this._scaleImage(\n      maskCanvas.canvas,\n      fillCtx.mozCurrentTransformInverse\n    );\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      fillCtx.mozCurrentTransform,\n      img.interpolate\n    );\n    fillCtx.drawImage(\n      scaled.img,\n      0,\n      0,\n      scaled.img.width,\n      scaled.img.height,\n      0,\n      0,\n      width,\n      height\n    );\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = Util.transform(fillCtx.mozCurrentTransformInverse, [\n      1,\n      0,\n      0,\n      1,\n      -offsetX,\n      -offsetY,\n    ]);\n    fillCtx.fillStyle = isPatternFill\n      ? fillColor.getPattern(ctx, this, inverse, false)\n      : fillColor;\n\n    fillCtx.fillRect(0, 0, width, height);\n\n    // Round the offsets to avoid drawing fractional pixels.\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY),\n    };\n  }\n\n  // Graphics state\n  setLineWidth(width) {\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(states) {\n    for (let i = 0, ii = states.length; i < ii; i++) {\n      const state = states[i];\n      const key = state[0];\n      const value = state[1];\n\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = state[1];\n          break;\n        case \"ca\":\n          this.current.fillAlpha = state[1];\n          this.ctx.globalAlpha = state[1];\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          if (this.current.activeSMask) {\n            // If SMask is currrenly used, it needs to be suspended or\n            // finished. Suspend only makes sense when at least one save()\n            // was performed and state needs to be reverted on restore().\n            if (\n              this.stateStack.length > 0 &&\n              this.stateStack[this.stateStack.length - 1].activeSMask ===\n                this.current.activeSMask\n            ) {\n              this.suspendSMaskGroup();\n            } else {\n              this.endSMaskGroup();\n            }\n          }\n          this.current.activeSMask = value ? this.tempSMask : null;\n          if (this.current.activeSMask) {\n            this.beginSMaskGroup();\n          }\n          this.tempSMask = null;\n          break;\n        case \"TR\":\n          this.current.transferMaps = value;\n      }\n    }\n  }\n\n  beginSMaskGroup() {\n    const activeSMask = this.current.activeSMask;\n    const drawnWidth = activeSMask.canvas.width;\n    const drawnHeight = activeSMask.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n\n    const currentCtx = this.ctx;\n    const currentTransform = currentCtx.mozCurrentTransform;\n    this.ctx.save();\n\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n    groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n    groupCtx.transform.apply(groupCtx, currentTransform);\n\n    activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  suspendSMaskGroup() {\n    // Similar to endSMaskGroup, the intermediate canvas has to be composed\n    // and future ctx state restored.\n    const groupCtx = this.ctx;\n    this.groupLevel--;\n    this.ctx = this.groupStack.pop();\n\n    composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n    this.ctx.restore();\n    this.ctx.save(); // save is needed since SMask will be resumed.\n    copyCtxState(groupCtx, this.ctx);\n\n    // Saving state for resuming.\n    this.current.resumeSMaskCtx = groupCtx;\n    // Transform was changed in the SMask canvas, reflecting this change on\n    // this.ctx.\n    const deltaTransform = Util.transform(\n      this.current.activeSMask.startTransformInverse,\n      groupCtx.mozCurrentTransform\n    );\n    this.ctx.transform.apply(this.ctx, deltaTransform);\n\n    // SMask was composed, the results at the groupCtx can be cleared.\n    groupCtx.save();\n    groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n    groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n    groupCtx.restore();\n  }\n\n  resumeSMaskGroup() {\n    // Resuming state saved by suspendSMaskGroup. We don't need to restore\n    // any groupCtx state since restore() command (the only caller) will do\n    // that for us. See also beginSMaskGroup.\n    const groupCtx = this.current.resumeSMaskCtx;\n    const currentCtx = this.ctx;\n    this.ctx = groupCtx;\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  endSMaskGroup() {\n    const groupCtx = this.ctx;\n    this.groupLevel--;\n    this.ctx = this.groupStack.pop();\n\n    composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n    this.ctx.restore();\n    copyCtxState(groupCtx, this.ctx);\n    // Transform was changed in the SMask canvas, reflecting this change on\n    // this.ctx.\n    const deltaTransform = Util.transform(\n      this.current.activeSMask.startTransformInverse,\n      groupCtx.mozCurrentTransform\n    );\n    this.ctx.transform.apply(this.ctx, deltaTransform);\n  }\n\n  save() {\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n    this.current.resumeSMaskCtx = null;\n  }\n\n  restore() {\n    // SMask was suspended, we just need to resume it.\n    if (this.current.resumeSMaskCtx) {\n      this.resumeSMaskGroup();\n    }\n    // SMask has to be finished once there is no states that are using the\n    // same SMask.\n    if (\n      this.current.activeSMask !== null &&\n      (this.stateStack.length === 0 ||\n        this.stateStack[this.stateStack.length - 1].activeSMask !==\n          this.current.activeSMask)\n    ) {\n      this.endSMaskGroup();\n    }\n\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      this.ctx.restore();\n\n      // Ensure that the clipping path is reset (fixes issue6413.pdf).\n      this.pendingClip = null;\n\n      this._cachedGetSinglePixelWidth = null;\n    } else {\n      // We've finished all the SMask groups, reflect that in our state.\n      this.current.activeSMask = null;\n    }\n  }\n\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  // Path\n  constructPath(ops, args) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          break;\n        case OPS.curveTo:\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y\n          );\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          ctx.bezierCurveTo(\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3]\n          );\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    current.setCurrentPoint(x, y);\n  }\n\n  closePath() {\n    this.ctx.closePath();\n  }\n\n  stroke(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    // For stroke we want to temporarily change the global alpha to the\n    // stroking alpha.\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const lineWidth = this.getSinglePixelWidth();\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(\n          ctx,\n          this,\n          ctx.mozCurrentTransformInverse\n        );\n        // Prevent drawing too thin lines by enforcing a minimum line width.\n        ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        const lineWidth = this.getSinglePixelWidth();\n        if (lineWidth < 0 && -lineWidth >= this.current.lineWidth) {\n          // The current transform will transform a square pixel into a\n          // parallelogram where both heights are lower than 1 and not equal.\n          ctx.save();\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          // Prevent drawing too thin lines by enforcing a minimum line width.\n          ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n          ctx.stroke();\n        }\n      }\n    }\n    if (consumePath) {\n      this.consumePath();\n    }\n    // Restore the global alpha to the fill alpha\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  fill(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(\n        ctx,\n        this,\n        ctx.mozCurrentTransformInverse\n      );\n      needRestore = true;\n    }\n\n    if (this.contentVisible) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath();\n    }\n  }\n\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n\n    this.consumePath();\n  }\n\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n\n  endPath() {\n    this.consumePath();\n  }\n\n  // Clipping\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n\n  // Text\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n\n    ctx.save();\n    ctx.beginPath();\n    for (let i = 0; i < paths.length; i++) {\n      const path = paths[i];\n      ctx.setTransform.apply(ctx, path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    // A valid matrix needs all main diagonal elements to be non-zero\n    // This also ensures we bypass FF bugzilla bug #719844.\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n    // and in some docs this can be negative (inverted x-y axes).\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return; // we don't need ctx.font for Type3 fonts\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n    // Some font backends cannot handle fonts below certain size.\n    // Keeping the font at minimal size and using the fontSizeScale to change\n    // the current transformation matrix before the fillText/strokeText.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  paintChar(character, x, y, patternTransform, resetLineWidthToOne) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode =\n      textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(\n      textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n    );\n    const patternFill = current.patternFill && !font.missingFile;\n\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform.apply(ctx, patternTransform);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fill();\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (resetLineWidthToOne) {\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n        }\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fillText(character, x, y);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (resetLineWidthToOne) {\n          ctx.save();\n          ctx.moveTo(x, y);\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          ctx.strokeText(character, 0, 0);\n          ctx.restore();\n        } else {\n          ctx.strokeText(character, x, y);\n        }\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n      paths.push({\n        transform: ctx.mozCurrentTransform,\n        x,\n        y,\n        fontSize,\n        addToPath,\n      });\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    // Checks if anti-aliasing is enabled when scaled text is painted.\n    // On Windows GDI scaled fonts looks bad.\n    const { context: ctx } = this.cachedCanvases.getCanvas(\n      \"isFontSubpixelAAEnabled\",\n      10,\n      10\n    );\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    const simpleFillText =\n      current.textRenderingMode === TextRenderingMode.FILL &&\n      !font.disableFontFace &&\n      !current.patternFill;\n\n    ctx.save();\n    let patternTransform;\n    if (current.patternFill) {\n      // TODO: Patterns are not applied correctly to text if a non-embedded\n      // font is used. E.g. issue 8111 and ShowText-ShadingPattern.pdf.\n      ctx.save();\n      const pattern = current.fillColor.getPattern(\n        ctx,\n        this,\n        ctx.mozCurrentTransformInverse\n      );\n      patternTransform = ctx.mozCurrentTransform;\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let lineWidth = current.lineWidth;\n    let resetLineWidthToOne = false;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        this._cachedGetSinglePixelWidth = null;\n        lineWidth = this.getSinglePixelWidth();\n        resetLineWidthToOne = lineWidth < 0;\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (isNum(glyph)) {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx =\n          -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (font.remeasure && width > 0) {\n        // Some standard fonts may not have the exact width: rescale per\n        // character if measured width is greater than expected glyph width\n        // and subpixel-aa is enabled, otherwise just center the glyph.\n        const measuredWidth =\n          ((ctx.measureText(character).width * 1000) / fontSize) *\n          fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX +=\n            (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n        }\n      }\n\n      // Only attempt to draw the glyph if it is actually in the embedded font\n      // file or if there isn't a font file so the fallback font is shown.\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(\n            character,\n            scaledX,\n            scaledY,\n            patternTransform,\n            resetLineWidthToOne\n          );\n          if (accent) {\n            const scaledAccentX =\n              scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n            const scaledAccentY =\n              scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n            this.paintChar(\n              accent.fontChar,\n              scaledAccentX,\n              scaledAccentY,\n              patternTransform,\n              resetLineWidthToOne\n            );\n          }\n        }\n      }\n\n      let charWidth;\n      if (vertical) {\n        charWidth = width * widthAdvanceScale - spacing * fontDirection;\n      } else {\n        charWidth = width * widthAdvanceScale + spacing * fontDirection;\n      }\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    return undefined;\n  }\n\n  showType3Text(glyphs) {\n    // Type3 fonts - each glyph is a \"mini-PDF\"\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible =\n      current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedGetSinglePixelWidth = null;\n\n    ctx.save();\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y);\n\n    ctx.scale(textHScale, fontDirection);\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (isNum(glyph)) {\n        spacingLength = (spacingDir * glyph * fontSize) / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n\n  // Type3 fonts\n  setCharWidth(xWidth, yWidth) {\n    // We can safely ignore this since the width should be the same\n    // as the width in the Widths array.\n  }\n\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    // TODO According to the spec we're also suppose to ignore any operators\n    // that set color or include images while processing this type3 font.\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.clip();\n    this.endPath();\n  }\n\n  // Color\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform =\n        this.baseTransform || this.ctx.mozCurrentTransform.slice();\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => {\n          return new CanvasGraphics(\n            ctx,\n            this.commonObjs,\n            this.objs,\n            this.canvasFactory\n          );\n        },\n      };\n      pattern = new TilingPattern(\n        IR,\n        color,\n        this.ctx,\n        canvasGraphicsFactory,\n        baseTransform\n      );\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n\n  setFillRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(\n        this.objs.get(objId),\n        this.cachedCanvasPatterns\n      );\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(\n      ctx,\n      this,\n      ctx.mozCurrentTransformInverse,\n      true\n    );\n\n    const inv = ctx.mozCurrentTransformInverse;\n    if (inv) {\n      const canvas = ctx.canvas;\n      const width = canvas.width;\n      const height = canvas.height;\n\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      // HACK to draw the gradient onto an infinite rectangle.\n      // PDF gradients are drawn across the entire image while\n      // Canvas only allows gradients to be drawn in a rectangle\n      // The following bug should allow us to remove this.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.restore();\n  }\n\n  // Images\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform.apply(this, matrix);\n    }\n\n    this.baseTransform = this.ctx.mozCurrentTransform;\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.clip();\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n    const currentCtx = this.ctx;\n    // TODO non-isolated groups - according to Rik at adobe non-isolated\n    // group results aren't usually that different and they even have tools\n    // that ignore this setting. Notes from Rik on implementing:\n    // - When you encounter an transparency group, create a new canvas with\n    // the dimensions of the bbox\n    // - copy the content from the previous canvas to the new canvas\n    // - draw as usual\n    // - remove the backdrop alpha:\n    // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n    // value of your transparency group and 'alphaBackdrop' the alpha of the\n    // backdrop\n    // - remove background color:\n    // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n\n    // TODO knockout - supposedly possible with the clever use of compositing\n    // modes.\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = currentCtx.mozCurrentTransform;\n    if (group.matrix) {\n      currentCtx.transform.apply(currentCtx, group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    // Based on the current transform figure out how big the bounding box\n    // will actually be.\n    let bounds = Util.getAxialAlignedBoundingBox(\n      group.bbox,\n      currentCtx.mozCurrentTransform\n    );\n    // Clip the bounding box to the current canvas.\n    const canvasBounds = [\n      0,\n      0,\n      currentCtx.canvas.width,\n      currentCtx.canvas.height,\n    ];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    // Use ceil in case we're between sizes so we don't create canvas that is\n    // too small and make the canvas at least 1x1 pixels.\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      // Using two cache entries is case if masks are used one after another.\n      cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n    const groupCtx = scratchCanvas.context;\n\n    // Since we created a new canvas that is just the size of the bounding box\n    // we have to translate the group ctx.\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform.apply(groupCtx, currentTransform);\n\n    if (group.smask) {\n      // Saving state and cached mask to be used in setGState.\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null, // used during suspend operation\n      });\n    } else {\n      // Setup the current ctx so when the group is popped we draw it at the\n      // right location.\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n    }\n    // The transparency group inherits all off the current graphics state\n    // except the blend mode, soft mask, and alpha constants.\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n\n    // Resetting mask state, masks will be applied on restore of the group.\n    this.current.activeSMask = null;\n  }\n\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    this.ctx = this.groupStack.pop();\n    // Turn off image smoothing to avoid sub pixel interpolation which can\n    // look kind of blurry for some pdfs.\n    this.ctx.imageSmoothingEnabled = false;\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n    } else {\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n    }\n    this.restore();\n  }\n\n  beginAnnotations() {\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n    }\n  }\n\n  endAnnotations() {\n    this.restore();\n  }\n\n  beginAnnotation(id, rect, transform, matrix) {\n    this.save();\n    resetCtxToDefault(this.ctx);\n    this.current = new CanvasExtraState();\n\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      this.ctx.rect(rect[0], rect[1], width, height);\n      this.clip();\n      this.endPath();\n    }\n\n    this.transform.apply(this, transform);\n    this.transform.apply(this, matrix);\n  }\n\n  endAnnotation() {\n    this.restore();\n  }\n\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const width = img.width,\n      height = img.height;\n\n    const glyph = this.processingType3;\n\n    if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n      if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n        glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n      } else {\n        glyph.compiled = null;\n      }\n    }\n\n    if (glyph?.compiled) {\n      glyph.compiled(ctx);\n      return;\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n\n    ctx.save();\n    // The mask is drawn with the transform applied. Reset the current\n    // transform to draw to the identity.\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n  }\n\n  paintImageMaskXObjectRepeat(\n    imgData,\n    scaleX,\n    skewX = 0,\n    skewY = 0,\n    scaleY,\n    positions\n  ) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = ctx.mozCurrentTransform;\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(imgData);\n\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [\n        scaleX,\n        skewX,\n        skewY,\n        scaleY,\n        positions[i],\n        positions[i + 1],\n      ]);\n\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n  }\n\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (let i = 0, ii = images.length; i < ii; i++) {\n      const image = images[i];\n      const width = image.width,\n        height = image.height;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, image);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(\n            maskCtx,\n            this,\n            ctx.mozCurrentTransformInverse,\n            false\n          )\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      ctx.save();\n      ctx.transform.apply(ctx, image.transform);\n      ctx.scale(1, -1);\n      ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n  }\n\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = objId.startsWith(\"g_\")\n      ? this.commonObjs.get(objId)\n      : this.objs.get(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = objId.startsWith(\"g_\")\n      ? this.commonObjs.get(objId)\n      : this.objs.get(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n\n    this.save();\n    // scale the image to the unit square\n    ctx.scale(1 / width, -1 / height);\n\n    let imgToPaint;\n    // typeof check is needed due to node.js support, see issue #8489\n    if (\n      (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n      !imgData.data\n    ) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\n        \"inlineImage\",\n        width,\n        height\n      );\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n      imgToPaint = tmpCanvas.canvas;\n    }\n\n    const scaled = this._scaleImage(imgToPaint, ctx.mozCurrentTransformInverse);\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      ctx.mozCurrentTransform,\n      imgData.interpolate\n    );\n    ctx.drawImage(\n      scaled.img,\n      0,\n      0,\n      scaled.paintWidth,\n      scaled.paintHeight,\n      0,\n      -height,\n      width,\n      height\n    );\n\n    if (this.imageLayer) {\n      const position = this.getCanvasPosition(0, -height);\n      this.imageLayer.appendImage({\n        imgData,\n        left: position[0],\n        top: position[1],\n        width: width / ctx.mozCurrentTransformInverse[0],\n        height: height / ctx.mozCurrentTransformInverse[3],\n      });\n    }\n    this.restore();\n  }\n\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const w = imgData.width;\n    const h = imgData.height;\n\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n    const tmpCtx = tmpCanvas.context;\n    putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n    for (let i = 0, ii = map.length; i < ii; i++) {\n      const entry = map[i];\n      ctx.save();\n      ctx.transform.apply(ctx, entry.transform);\n      ctx.scale(1, -1);\n      ctx.drawImage(\n        tmpCanvas.canvas,\n        entry.x,\n        entry.y,\n        entry.w,\n        entry.h,\n        0,\n        -1,\n        1,\n        1\n      );\n      if (this.imageLayer) {\n        const position = this.getCanvasPosition(entry.x, entry.y);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: w,\n          height: h,\n        });\n      }\n      ctx.restore();\n    }\n  }\n\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n  }\n\n  // Marked content\n\n  markPoint(tag) {\n    // TODO Marked content.\n  }\n\n  markPointProps(tag, properties) {\n    // TODO Marked content.\n  }\n\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true,\n    });\n  }\n\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties),\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  // Compatibility\n\n  beginCompat() {\n    // TODO ignore undefined operators (should we do that anyway?)\n  }\n\n  endCompat() {\n    // TODO stop ignoring undefined operators\n  }\n\n  // Helper functions\n\n  consumePath() {\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (this.pendingClip === EO_CLIP) {\n        ctx.clip(\"evenodd\");\n      } else {\n        ctx.clip();\n      }\n      this.pendingClip = null;\n    }\n    ctx.beginPath();\n  }\n\n  getSinglePixelWidth() {\n    if (this._cachedGetSinglePixelWidth === null) {\n      // If transform is [a b] then a pixel (square) is transformed\n      //                 [c d]\n      // into a parallelogram: its area is the abs value of the determinant.\n      // This parallelogram has 2 heights:\n      //  - Area / |col_1|;\n      //  - Area / |col_2|.\n      // so in order to get a height of at least 1, pixel height\n      // must be computed as followed:\n      //  h = max(sqrt(a + c) / |det(M)|, sqrt(b + d) / |det(M)|).\n      // This is equivalent to:\n      //  h = max(|line_1_inv(M)|, |line_2_inv(M)|)\n      const m = this.ctx.mozCurrentTransform;\n\n      const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n      const sqNorm1 = m[0] ** 2 + m[2] ** 2;\n      const sqNorm2 = m[1] ** 2 + m[3] ** 2;\n      const pixelHeight = Math.sqrt(Math.max(sqNorm1, sqNorm2)) / absDet;\n      if (sqNorm1 !== sqNorm2 && this._combinedScaleFactor * pixelHeight > 1) {\n        // The parallelogram isn't a square and at least one height\n        // is lower than 1 so the resulting line width must be 1\n        // but it cannot be achieved with one scale: when scaling a pixel\n        // we'll get a rectangle (see issue #12295).\n        // For example with matrix [0.001 0, 0, 100], a pixel is transformed\n        // in a rectangle 0.001x100. If we just scale by 1000 (to have a 1)\n        // then we'll get a rectangle 1x1e5 which is wrong.\n        // In this case, we must reset the transform, set linewidth to 1\n        // and then stroke.\n        this._cachedGetSinglePixelWidth = -(\n          this._combinedScaleFactor * pixelHeight\n        );\n      } else if (absDet > Number.EPSILON) {\n        this._cachedGetSinglePixelWidth = pixelHeight;\n      } else {\n        // Matrix is non-invertible.\n        this._cachedGetSinglePixelWidth = 1;\n      }\n    }\n\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getCanvasPosition(x, y) {\n    const transform = this.ctx.mozCurrentTransform;\n    return [\n      transform[0] * x + transform[2] * y + transform[4],\n      transform[1] * x + transform[3] * y + transform[5],\n    ];\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FormatError,\n  info,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR, cachedCanvasPatterns) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n    this.cachedCanvasPatterns = cachedCanvasPatterns;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(\n        this._p0[0],\n        this._p0[1],\n        this._p1[0],\n        this._p1[1]\n      );\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(\n        this._p0[0],\n        this._p0[1],\n        this._r0,\n        this._p1[0],\n        this._p1[1],\n        this._r1\n      );\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, shadingFill = false) {\n    let pattern;\n    if (!shadingFill) {\n      if (this.cachedCanvasPatterns.has(this)) {\n        pattern = this.cachedCanvasPatterns.get(this);\n      } else {\n        const tmpCanvas = owner.cachedCanvases.getCanvas(\n          \"pattern\",\n          owner.ctx.canvas.width,\n          owner.ctx.canvas.height,\n          true\n        );\n\n        const tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n        tmpCtx.beginPath();\n        tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n\n        tmpCtx.setTransform.apply(tmpCtx, owner.baseTransform);\n        if (this.matrix) {\n          tmpCtx.transform.apply(tmpCtx, this.matrix);\n        }\n        applyBoundingBox(tmpCtx, this._bbox);\n\n        tmpCtx.fillStyle = this._createGradient(tmpCtx);\n        tmpCtx.fill();\n\n        pattern = ctx.createPattern(tmpCanvas.canvas, \"repeat\");\n        this.cachedCanvasPatterns.set(this, pattern);\n      }\n    } else {\n      // Don't bother caching gradients, they are quick to rebuild.\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    if (!shadingFill) {\n      const domMatrix = new DOMMatrix(inverse);\n      try {\n        pattern.setTransform(domMatrix);\n      } catch (ex) {\n        // Avoid rendering breaking completely in Firefox 78 ESR,\n        // and in Node.js (see issue 13724).\n        warn(`RadialAxialShadingPattern.getPattern: \"${ex?.message}\".`);\n      }\n    }\n    return pattern;\n  }\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  // Very basic Gouraud-shaded triangle rasterization algorithm.\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else {\n        k = (y1 - y) / (y1 - y2);\n      }\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = (car - (car - cbr) * k) | 0;\n      bytes[j++] = (cag - (cag - cbg) * k) | 0;\n      bytes[j++] = (cab - (cab - cbb) * k) | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(\n            data,\n            context,\n            ps[q],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n          drawTriangle(\n            data,\n            context,\n            ps[q + verticesPerRow + 1],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q + verticesPerRow + 1],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(\n          data,\n          context,\n          ps[i],\n          ps[i + 1],\n          ps[i + 2],\n          cs[i],\n          cs[i + 1],\n          cs[i + 2]\n        );\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    const tmpCanvas = cachedCanvases.getCanvas(\n      \"mesh\",\n      paddedWidth,\n      paddedHeight,\n      false\n    );\n    const tmpCtx = tmpCanvas.context;\n\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n\n  getPattern(ctx, owner, inverse, shadingFill = false) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (shadingFill) {\n      scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n    } else {\n      // Obtain scale from matrix and current transformation matrix.\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n\n    // Rasterizing on the main thread since sending/queue large canvases\n    // might cause OOM.\n    const temporaryPatternCanvas = this._createMeshCanvas(\n      scale,\n      shadingFill ? null : this._background,\n      owner.cachedCanvases\n    );\n\n    if (!shadingFill) {\n      ctx.setTransform.apply(ctx, owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform.apply(ctx, this.matrix);\n      }\n    }\n\n    ctx.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\n\nfunction getShadingPattern(IR, cachedCanvasPatterns) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR, cachedCanvasPatterns);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2,\n};\n\nclass TilingPattern {\n  // 10in @ 300dpi shall be enough.\n  static get MAX_PATTERN_SIZE() {\n    return shadow(this, \"MAX_PATTERN_SIZE\", 3000);\n  }\n\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n    info(\"TilingType: \" + tilingType);\n\n    // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n    // described by bbox, and may repeat regularly by shifting the cell by\n    // xstep and ystep.\n    // Because the HTML5 canvas API does not support pattern repetition with\n    // gaps in between, we use the xstep/ystep instead of the bbox's size.\n    //\n    // This has the following consequences (similarly for ystep):\n    //\n    // - If xstep is the same as bbox, then there is no observable difference.\n    //\n    // - If xstep is larger than bbox, then the pattern canvas is partially\n    //   empty: the area bounded by bbox is painted, the outside area is void.\n    //\n    // - If xstep is smaller than bbox, then the pixels between xstep and the\n    //   bbox boundary will be missing. This is INCORRECT behavior.\n    //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n    //   but overlapping cells without common pixels are still valid.\n    //   TODO: Fix the implementation, to allow this scenario to be painted\n    //   correctly.\n\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n\n    // Obtain scale from matrix and current transformation matrix.\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(\n      this.baseTransform\n    );\n    const combinedScale = [\n      matrixScale[0] * curMatrixScale[0],\n      matrixScale[1] * curMatrixScale[1],\n    ];\n\n    // Use width and height values that are as close as possible to the end\n    // result when the pattern is used. Too low value makes the pattern look\n    // blurry. Too large value makes it look too crispy.\n    const dimx = this.getSizeAndScale(\n      xstep,\n      this.ctx.canvas.width,\n      combinedScale[0]\n    );\n    const dimy = this.getSizeAndScale(\n      ystep,\n      this.ctx.canvas.height,\n      combinedScale[1]\n    );\n\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\n      \"pattern\",\n      dimx.size,\n      dimy.size,\n      true\n    );\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    // Some bounding boxes have negative x0/y0 cordinates which will cause the\n    // some of the drawing to be off of the canvas. To avoid this shift the\n    // bounding box over.\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n\n    graphics.baseTransform = graphics.ctx.mozCurrentTransform.slice();\n\n    graphics.executeOperatorList(operatorList);\n\n    graphics.endDrawing();\n\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0,\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    // xstep / ystep may be negative -- normalize.\n    step = Math.abs(step);\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    // Use the destination canvas's size if it is bigger than the hard-coded\n    // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n    // whole canvas.\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return { scale, size };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        // Set color needed by image masks (fixes issues 3226 and 8741).\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  getPattern(ctx, owner, inverse, shadingFill = false) {\n    // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n    let matrix = inverse;\n    if (!shadingFill) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n    let domMatrix = new DOMMatrix(matrix);\n    // Rescale and so that the ctx.createPattern call generates a pattern with\n    // the desired size.\n    domMatrix = domMatrix.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    domMatrix = domMatrix.scale(\n      1 / temporaryPatternCanvas.scaleX,\n      1 / temporaryPatternCanvas.scaleY\n    );\n\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    try {\n      pattern.setTransform(domMatrix);\n    } catch (ex) {\n      // Avoid rendering breaking completely in Firefox 78 ESR,\n      // and in Node.js (see issue 13724).\n      warn(`TilingPattern.getPattern: \"${ex?.message}\".`);\n    }\n    return pattern;\n  }\n}\n\nexport { getShadingPattern, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  PasswordException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  warn,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    !(\n      reason instanceof Error ||\n      (typeof reason === \"object\" && reason !== null)\n    )\n  ) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      throw new Error(\n        'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n      );\n    }\n    warn('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n    return reason;\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this._postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this._postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          this._postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        self._postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink, so when it changes\n        // from negative to positive, set ready property as resolved promise.\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        streamSink.desiredSize = data.desiredSize;\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull && streamSink.onPull());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n\n        new Promise(function (resolve) {\n          resolve(\n            streamSink.onCancel && streamSink.onCancel(wrapReason(data.reason))\n          );\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamController, streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled([\n      streamController.startCall && streamController.startCall.promise,\n      streamController.pullCall && streamController.pullCall.promise,\n      streamController.cancelCall && streamController.cancelCall.promise,\n    ]);\n    delete this.streamControllers[streamId];\n  }\n\n  /**\n   * Sends raw message to the comObj.\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   * @private\n   */\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\nclass Metadata {\n  constructor({ parsedData, rawData }) {\n    this._metadataMap = parsedData;\n    this._data = rawData;\n  }\n\n  getRaw() {\n    return this._data;\n  }\n\n  get(name) {\n    return this._metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return objectFromMap(this._metadataMap);\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { objectFromMap, warn } from \"../shared/util.js\";\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n    for (const group of data.groups) {\n      this._groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  _evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this._evaluateVisibilityExpression(element);\n      } else if (this._groups.has(element)) {\n        state = this._groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this._groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      warn(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available.\n      if (group.expression) {\n        return this._evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n    if (this._order) {\n      return this._order.slice();\n    }\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    return this._groups.size > 0 ? objectFromMap(this._groups) : null;\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n    this._contentDispositionFilename =\n      params.contentDispositionFilename || null;\n\n    const initialData = params.initialData;\n    if (initialData?.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader?.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader?.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone,\n      this._contentDispositionFilename\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(\n    stream,\n    queuedChunks,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename)\n      ? contentDispositionFilename\n      : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({ value: undefined, done: true });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass XfaText {\n  /**\n   * Walk an XFA tree and create an array of text nodes that is compatible\n   * with a regular PDFs TextContent. Currently, only TextItem.str is supported,\n   * all other fields and styles haven't been implemented.\n   *\n   * @param {Object} xfa - An XFA fake DOM object.\n   *\n   * @returns {TextContent}\n   */\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null),\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str,\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n\n  /**\n   * @param {string} name - DOM node name. (lower case)\n   *\n   * @returns {boolean} true if the DOM node should have a corresponding text\n   * node.\n   */\n  static shouldBuildText(name) {\n    return !(\n      name === \"textarea\" ||\n      name === \"input\" ||\n      name === \"option\" ||\n      name === \"select\"\n    );\n  }\n}\n\nexport { XfaText };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  assert,\n  shadow,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst GetElementsByNameSet = new WeakSet();\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [fieldObjects]\n * @property {Object} [mouseState]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this._mouseState = parameters.mouseState;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width -= 2 * data.borderStyle.width;\n        height -= 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || data.color || null;\n      if (borderColor) {\n        container.style.borderColor = Util.makeHexColor(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _createQuadrilaterals(ignoreBorder = false) {\n    if (!this.data.quadPoints) {\n      return null;\n    }\n\n    const quadrilaterals = [];\n    const savedRect = this.data.rect;\n    for (const quadPoint of this.data.quadPoints) {\n      this.data.rect = [\n        quadPoint[2].x,\n        quadPoint[2].y,\n        quadPoint[1].x,\n        quadPoint[1].y,\n      ];\n      quadrilaterals.push(this._createContainer(ignoreBorder));\n    }\n    this.data.rect = savedRect;\n    return quadrilaterals;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(trigger, data) {\n    let container = this.container;\n    if (this.quadrilaterals) {\n      trigger = trigger || this.quadrilaterals;\n      container = this.quadrilaterals[0];\n    }\n\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      titleObj: data.titleObj,\n      modificationDate: data.modificationDate,\n      contentsObj: data.contentsObj,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the quadrilaterals of the annotation.\n   *\n   * @private\n   * @param {string} className\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _renderQuadrilaterals(className) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(this.quadrilaterals, \"Missing quadrilaterals during rendering\");\n    }\n\n    for (const quadrilateral of this.quadrilaterals) {\n      quadrilateral.className = className;\n    }\n    return this.quadrilaterals;\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement|Array<HTMLSectionElement>}\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  /**\n   * @private\n   * @returns {Array}\n   */\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const { page, id, exportValues } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue =\n            typeof exportValues === \"string\" ? exportValues : null;\n\n          const domElement = document.getElementById(id);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({ id, exportValue, domElement });\n        }\n      }\n      return fields;\n    }\n    // Fallback to a regular DOM lookup, to ensure that the standalone\n    // viewer components won't break.\n    for (const domElement of document.getElementsByName(name)) {\n      const { id, exportValue } = domElement;\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({ id, exportValue, domElement });\n    }\n    return fields;\n  }\n\n  static get platform() {\n    const platform = typeof navigator !== \"undefined\" ? navigator.platform : \"\";\n\n    return shadow(this, \"platform\", {\n      isWin: platform.includes(\"Win\"),\n      isMac: platform.includes(\"Mac\"),\n    });\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action ||\n      parameters.data.isTooltipOnly ||\n      parameters.data.resetForm ||\n      (parameters.data.actions &&\n        (parameters.data.actions.Action ||\n          parameters.data.actions[\"Mouse Up\"] ||\n          parameters.data.actions[\"Mouse Down\"]))\n    );\n    super(parameters, { isRenderable, createQuadrilaterals: true });\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        !linkService.addLinkAttributes\n      ) {\n        warn(\n          \"LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance.\"\n        );\n      }\n      linkService.addLinkAttributes?.(link, data.url, data.newWindow);\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n    } else {\n      let hasClickAction = false;\n      if (\n        data.actions &&\n        (data.actions.Action ||\n          data.actions[\"Mouse Up\"] ||\n          data.actions[\"Mouse Down\"]) &&\n        this.enableScripting &&\n        this.hasJSActions\n      ) {\n        hasClickAction = true;\n        this._bindJSAction(link, data);\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n      } else if (!hasClickAction) {\n        this._bindLink(link, \"\");\n      }\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"linkAnnotation\").map(\n        (quadrilateral, index) => {\n          const linkElement = index === 0 ? link : link.cloneNode();\n          quadrilateral.appendChild(linkElement);\n          return quadrilateral;\n        }\n      );\n    }\n\n    this.container.className = \"linkAnnotation\";\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    link.className = \"internalLink\";\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    link.className = \"internalLink\";\n\n    if (!this._fieldObjects) {\n      warn(\n        `_bindResetFormAction - \"resetForm\" action not supported, ` +\n          \"ensure that the `fieldObjects` parameter is provided.\"\n      );\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n\n    link.onclick = () => {\n      if (otherClickAction) {\n        otherClickAction();\n      }\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include,\n      } = resetForm;\n\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const { id } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const { id } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value, valueAsString: value });\n            break;\n          }\n          case \"checkbox\":\n          case \"radiobutton\": {\n            const value = field.defaultValue === field.exportValues;\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"combobox\":\n          case \"listbox\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          default:\n            continue;\n        }\n        const domElement = document.getElementById(id);\n        if (!domElement || !GetElementsByNameSet.has(domElement)) {\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        // Update the values in the sandbox.\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\",\n          },\n        });\n      }\n\n      return false;\n    };\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  _getKeyModifier(event) {\n    const { isWin, isMac } = AnnotationElement.platform;\n    return (isWin && event.ctrlKey) || (isMac && event.metaKey);\n  }\n\n  _setEventListener(element, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non mouse event\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: event.target.checked,\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        this._setEventListener(element, baseName, eventName, getter);\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor =\n      color === null\n        ? \"transparent\"\n        : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      event.target.style[styleName] = ColorConverters[`${color[0]}_HTML`](\n        color.slice(1)\n      );\n    };\n\n    const commonActions = {\n      display: event => {\n        const hidden = event.detail.display % 2 === 1;\n        event.target.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden,\n          print: event.detail.display === 0 || event.detail.display === 3,\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          print: event.detail.print,\n        });\n      },\n      hidden: event => {\n        event.target.style.visibility = event.detail.hidden\n          ? \"hidden\"\n          : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden: event.detail.hidden,\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n      },\n      userName: event => {\n        // tooltip\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        if (event.detail.readonly) {\n          event.target.setAttribute(\"readonly\", \"\");\n        } else {\n          event.target.removeAttribute(\"readonly\");\n        }\n      },\n      required: event => {\n        if (event.detail.required) {\n          event.target.setAttribute(\"required\", \"\");\n        } else {\n          event.target.removeAttribute(\"required\");\n        }\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n    };\n\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      if (action) {\n        action(jsEvent);\n      }\n    }\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(\n      base.name,\n      /* skipId = */ base.id\n    )) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, { [keyInStorage]: value });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue,\n        valueAsString: this.data.fieldValue,\n      });\n      const textContent = storedData.valueAsString || storedData.value || \"\";\n      const elementData = {\n        userValue: null,\n        formattedValue: null,\n        beforeInputSelectionRange: null,\n        beforeInputValue: null,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n      GetElementsByNameSet.add(element);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n\n      elementData.userValue = textContent;\n      element.setAttribute(\"id\", id);\n\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, { value: event.target.value });\n        this.setPropertyOnSiblings(\n          element,\n          \"value\",\n          event.target.value,\n          \"value\"\n        );\n      });\n\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue || \"\";\n        element.value = elementData.userValue = defaultValue;\n        delete elementData.formattedValue;\n      });\n\n      let blurListener = event => {\n        if (elementData.formattedValue) {\n          event.target.value = elementData.formattedValue;\n        }\n        // Reset the cursor position to the start of the field (issue 12359).\n        event.target.scrollLeft = 0;\n        elementData.beforeInputSelectionRange = null;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.userValue) {\n            event.target.value = elementData.userValue;\n          }\n        });\n\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value || \"\";\n              storage.setValue(id, { value: elementData.userValue.toString() });\n              if (!elementData.formattedValue) {\n                event.target.value = elementData.userValue;\n              }\n            },\n            valueAsString(event) {\n              elementData.formattedValue = event.detail.valueAsString || \"\";\n              if (event.target !== document.activeElement) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = elementData.formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue: elementData.formattedValue,\n              });\n            },\n            selRange(event) {\n              const [selStart, selEnd] = event.detail.selRange;\n              if (selStart >= 0 && selEnd < event.target.value.length) {\n                event.target.setSelectionRange(selStart, selEnd);\n              }\n            },\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n\n        // Even if the field hasn't any actions\n        // leaving it can still trigger some actions with Calculate\n        element.addEventListener(\"keydown\", event => {\n          elementData.beforeInputValue = event.target.value;\n          // if the key is one of Escape, Enter or Tab\n          // then the data are committed\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\") {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          // Save the entered value\n          elementData.userValue = event.target.value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value: event.target.value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd,\n            },\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (this._mouseState.isDown) {\n            // Focus out using the mouse: data are committed\n            elementData.userValue = event.target.value;\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: event.target.value,\n                willCommit: true,\n                commitKey: 1,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          }\n          _blurListener(event);\n        });\n        element.addEventListener(\"mousedown\", event => {\n          elementData.beforeInputValue = event.target.value;\n          elementData.beforeInputSelectionRange = null;\n        });\n        element.addEventListener(\"keyup\", event => {\n          // keyup is triggered after input\n          if (event.target.selectionStart === event.target.selectionEnd) {\n            elementData.beforeInputSelectionRange = null;\n          }\n        });\n        element.addEventListener(\"select\", event => {\n          elementData.beforeInputSelectionRange = [\n            event.target.selectionStart,\n            event.target.selectionEnd,\n          ];\n        });\n\n        if (this.data.actions?.Keystroke) {\n          // We should use beforeinput but this\n          // event isn't available in Firefox\n          element.addEventListener(\"input\", event => {\n            let selStart = -1;\n            let selEnd = -1;\n            if (elementData.beforeInputSelectionRange) {\n              [selStart, selEnd] = elementData.beforeInputSelectionRange;\n            }\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: elementData.beforeInputValue,\n                change: event.data,\n                willCommit: false,\n                selStart,\n                selEnd,\n              },\n            });\n          });\n        }\n\n        this._setEventListeners(\n          element,\n          [\n            [\"focus\", \"Focus\"],\n            [\"blur\", \"Blur\"],\n            [\"mousedown\", \"Mouse Down\"],\n            [\"mouseenter\", \"Mouse Enter\"],\n            [\"mouseleave\", \"Mouse Exit\"],\n            [\"mouseup\", \"Mouse Up\"],\n          ],\n          event => event.target.value\n        );\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontSize, fontColor } = this.data.defaultAppearanceData;\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n    if (fontSize) {\n      style.fontSize = `${fontSize}px`;\n    }\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== \"Off\";\n      storage.setValue(id, { value });\n    }\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"id\", id);\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const checkbox of this._getElementsByName(name, /* skipId = */ id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, { value: curChecked });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== data.buttonValue;\n      storage.setValue(id, { value });\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"id\", id);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const radio of this._getElementsByName(name, /* skipId = */ id)) {\n        storage.setValue(radio.id, { value: false });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked =\n        defaultValue !== null &&\n        defaultValue !== undefined &&\n        defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, { value: curChecked });\n            }\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    // For printing/saving we currently only support choice widgets with one\n    // option selection. Therefore, listboxes (#12189) and comboboxes (#12224)\n    // are not properly printed/saved yet, so we only store the first item in\n    // the field value array instead of the entire array. Once support for those\n    // two field types is implemented, we should use the same pattern as the\n    // other interactive widgets where the return value of `getValue`\n    // is used and the full array of field values is stored.\n    storage.getValue(id, {\n      value:\n        this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : undefined,\n    });\n\n    let { fontSize } = this.data.defaultAppearanceData;\n    if (!fontSize) {\n      fontSize = 9;\n    }\n    const fontSizeStyle = `calc(${fontSize}px * var(--zoom-factor))`;\n\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n    selectElement.setAttribute(\"id\", id);\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n\n    selectElement.style.fontSize = `${fontSize}px`;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.combo) {\n        optionElement.style.fontSize = fontSizeStyle;\n      }\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    const getValue = (event, isExport) => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const options = event.target.options;\n      if (!event.target.multiple) {\n        return options.selectedIndex === -1\n          ? null\n          : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter\n        .call(options, option => option.selected)\n        .map(option => option[name]);\n    };\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => {\n        return { displayValue: option.textContent, exportValue: option.value };\n      });\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n            });\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(\n                options,\n                option => option.selected\n              );\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, { value: null, items: [] });\n          },\n          insert(event) {\n            const { index, displayValue, exportValue } = event.detail.insert;\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            selectElement.insertBefore(\n              optionElement,\n              selectElement.children[index]\n            );\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          items(event) {\n            const { items } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const { displayValue, exportValue } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.appendChild(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n            });\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(event, /* isExport */ true);\n        const value = getValue(event, /* isExport */ false);\n        storage.setValue(id, { value: exportValue });\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value,\n            changeEx: exportValue,\n            willCommit: true,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n          [\"input\", \"Action\"],\n        ],\n        event => event.target.checked\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(event) });\n      });\n    }\n\n    this._setBackgroundColor(selectElement);\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.titleObj?.str || parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElements = this.layer.querySelectorAll(selector);\n    if (parentElements.length === 0) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: Array.from(parentElements),\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const page = this.page;\n    const rect = Util.normalizeRect([\n      this.data.parentRect[0],\n      page.view[3] - this.data.parentRect[1] + page.view[1],\n      this.data.parentRect[2],\n      page.view[3] - this.data.parentRect[3] + page.view[1],\n    ]);\n    const popupLeft =\n      rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n    const popupTop = rect[1];\n\n    this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n    this.container.style.left = `${popupLeft}px`;\n    this.container.style.top = `${popupTop}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.titleObj = parameters.titleObj;\n    this.modificationDate = parameters.modificationDate;\n    this.contentsObj = parameters.contentsObj;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.hidden = true;\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeHexColor(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.dir = this.titleObj.dir;\n    title.textContent = this.titleObj.str;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contentsObj);\n    popup.appendChild(contents);\n\n    if (!Array.isArray(this.trigger)) {\n      this.trigger = [this.trigger];\n    }\n\n    // Attach the event listeners to the trigger element.\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this._toggle.bind(this));\n      element.addEventListener(\"mouseover\", this._show.bind(this, false));\n      element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    }\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {Object<string, string>} contentsObj\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents({ str, dir }) {\n    const p = document.createElement(\"p\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hidden) {\n      this.hideElement.hidden = false;\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hidden && !this.pinned) {\n      this.hideElement.hidden = true;\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"highlightAnnotation\");\n    }\n\n    this.container.className = \"highlightAnnotation\";\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"underlineAnnotation\");\n    }\n\n    this.container.className = \"underlineAnnotation\";\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"squigglyAnnotation\");\n    }\n\n    this.container.className = \"squigglyAnnotation\";\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n    }\n\n    this.container.className = \"strikeoutAnnotation\";\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      id: stringToPDFString(filename),\n      filename,\n      content,\n    });\n  }\n\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (\n      !this.data.hasPopup &&\n      (this.data.titleObj?.str || this.data.contentsObj?.str)\n    ) {\n      this._createPopup(trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    this.downloadManager?.openOrDownloadData(\n      this.container,\n      this.content,\n      this.filename\n    );\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderForms: parameters.renderForms !== false,\n        svgFactory: new DOMSVGFactory(),\n        annotationStorage:\n          parameters.annotationStorage || new AnnotationStorage(),\n        enableScripting: parameters.enableScripting,\n        hasJSActions: parameters.hasJSActions,\n        fieldObjects: parameters.fieldObjects,\n        mouseState: parameters.mouseState || { isDown: false },\n      });\n      if (element.isRenderable) {\n        const rendered = element.render();\n        if (data.hidden) {\n          rendered.style.visibility = \"hidden\";\n        }\n        if (Array.isArray(rendered)) {\n          for (const renderedElement of rendered) {\n            parameters.div.appendChild(renderedElement);\n          }\n        } else {\n          if (element instanceof PopupAnnotationElement) {\n            // Popup annotation elements should not be on top of other\n            // annotation elements to prevent interfering with mouse events.\n            parameters.div.prepend(rendered);\n          } else {\n            parameters.div.appendChild(rendered);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    for (const data of parameters.annotations) {\n      const elements = parameters.div.querySelectorAll(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (elements) {\n        for (const element of elements) {\n          element.style.transform = transform;\n        }\n      }\n    }\n    parameters.div.hidden = false;\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_HTML([r, g, b]) {\n    const R = makeColorComp(r);\n    const G = makeColorComp(g);\n    const B = makeColorComp(b);\n    return `#${R}${G}${B}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    return this.RGB_HTML(this.CMYK_RGB(components));\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nexport { ColorConverters };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {import(\"./api\").TextContent} [textContent] - Text content to\n *   render (the object is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {import(\"./display_utils\").PageViewport} viewport - The target\n *   viewport to properly layout the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that are correspond\n *   to the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *    the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nconst AllWhitespaceRegexp = /^\\s+$/g;\n\nfunction getAscent(fontFamily, ctx) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n\n  ctx.save();\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n\n  // Both properties aren't available by default in Firefox.\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    ctx.restore();\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  // Try basic heuristic to guess ascent/descent.\n  // Draw a g with baseline at 0,0 and then get the line\n  // number where a pixel has non-null red component (starting\n  // from bottom).\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(\n    0,\n    0,\n    DEFAULT_FONT_SIZE,\n    DEFAULT_FONT_SIZE\n  ).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  // Draw an A with baseline at 0,DEFAULT_FONT_SIZE and then get the line\n  // number where a pixel has non-null red component (starting\n  // from top).\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  ctx.restore();\n\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\n\nfunction appendText(task, geom, styles, ctx) {\n  // Initialize all used properties to keep the caches monomorphic.\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = task._enhanceTextSelection\n    ? {\n        angle: 0,\n        canvasWidth: 0,\n        hasText: geom.str !== \"\",\n        hasEOL: geom.hasEOL,\n        originalTransform: null,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0,\n        paddingTop: 0,\n        scale: 1,\n      }\n    : {\n        angle: 0,\n        canvasWidth: 0,\n        hasText: geom.str !== \"\",\n        hasEOL: geom.hasEOL,\n      };\n\n  task._textDivs.push(textDiv);\n\n  const tx = Util.transform(task._viewport.transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(style.fontFamily, ctx);\n\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  // Setting the style properties individually, rather than all at once,\n  // should be OK since the `textDiv` isn't appended to the document yet.\n  textDiv.style.left = `${left}px`;\n  textDiv.style.top = `${top}px`;\n  textDiv.style.fontSize = `${fontHeight}px`;\n  textDiv.style.fontFamily = style.fontFamily;\n\n  // Keeps screen readers from pausing on every new text span.\n  textDiv.setAttribute(\"role\", \"presentation\");\n\n  textDiv.textContent = geom.str;\n  // geom.dir may be 'ttb' for vertical texts.\n  textDiv.dir = geom.dir;\n\n  // `fontName` is only used by the FontInspector, and we only use `dataset`\n  // here to make the font name available in the debugger.\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  // We don't bother scaling single-char text divs, because it has very\n  // little effect on text highlighting. This makes scrolling on docs with\n  // lots of such divs a lot faster.\n  let shouldScaleText = false;\n  if (\n    geom.str.length > 1 ||\n    (task._enhanceTextSelection && AllWhitespaceRegexp.test(geom.str))\n  ) {\n    shouldScaleText = true;\n  } else if (geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    // When the horizontal/vertical scaling differs significantly, also scale\n    // even single-char text to improve highlighting (fixes issue11713.pdf).\n    if (\n      absScaleX !== absScaleY &&\n      Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n    ) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    if (style.vertical) {\n      textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n    } else {\n      textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n    }\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._textContentStream) {\n    task._layoutText(textDiv);\n  }\n\n  if (task._enhanceTextSelection && textDivProperties.hasText) {\n    let angleCos = 1,\n      angleSin = 0;\n    if (angle !== 0) {\n      angleCos = Math.cos(angle);\n      angleSin = Math.sin(angle);\n    }\n    const divWidth =\n      (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n    const divHeight = fontHeight;\n\n    let m, b;\n    if (angle !== 0) {\n      m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n      b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n    } else {\n      b = [left, top, left + divWidth, top + divHeight];\n    }\n\n    task._bounds.push({\n      left: b[0],\n      top: b[1],\n      right: b[2],\n      bottom: b[3],\n      div: textDiv,\n      size: [divWidth, divHeight],\n      m,\n    });\n  }\n}\n\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n\n  // No point in rendering many divs as it would make the browser\n  // unusable even after the divs are rendered.\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    task._renderingDone = true;\n    capability.resolve();\n    return;\n  }\n\n  if (!task._textContentStream) {\n    for (let i = 0; i < textDivsLength; i++) {\n      task._layoutText(textDivs[i]);\n    }\n  }\n\n  task._renderingDone = true;\n  capability.resolve();\n}\n\nfunction findPositiveMin(ts, offset, count) {\n  let result = 0;\n  for (let i = 0; i < count; i++) {\n    const t = ts[offset++];\n    if (t > 0) {\n      result = result ? Math.min(t, result) : t;\n    }\n  }\n  return result;\n}\n\nfunction expand(task) {\n  const bounds = task._bounds;\n  const viewport = task._viewport;\n\n  const expanded = expandBounds(viewport.width, viewport.height, bounds);\n  for (let i = 0; i < expanded.length; i++) {\n    const div = bounds[i].div;\n    const divProperties = task._textDivProperties.get(div);\n    if (divProperties.angle === 0) {\n      divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n      divProperties.paddingTop = bounds[i].top - expanded[i].top;\n      divProperties.paddingRight = expanded[i].right - bounds[i].right;\n      divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n      task._textDivProperties.set(div, divProperties);\n      continue;\n    }\n    // Box is rotated -- trying to find padding so rotated div will not\n    // exceed its expanded bounds.\n    const e = expanded[i],\n      b = bounds[i];\n    const m = b.m,\n      c = m[0],\n      s = m[1];\n    // Finding intersections with expanded box.\n    const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n    const ts = new Float64Array(64);\n    for (let j = 0, jj = points.length; j < jj; j++) {\n      const t = Util.applyTransform(points[j], m);\n      ts[j + 0] = c && (e.left - t[0]) / c;\n      ts[j + 4] = s && (e.top - t[1]) / s;\n      ts[j + 8] = c && (e.right - t[0]) / c;\n      ts[j + 12] = s && (e.bottom - t[1]) / s;\n\n      ts[j + 16] = s && (e.left - t[0]) / -s;\n      ts[j + 20] = c && (e.top - t[1]) / c;\n      ts[j + 24] = s && (e.right - t[0]) / -s;\n      ts[j + 28] = c && (e.bottom - t[1]) / c;\n\n      ts[j + 32] = c && (e.left - t[0]) / -c;\n      ts[j + 36] = s && (e.top - t[1]) / -s;\n      ts[j + 40] = c && (e.right - t[0]) / -c;\n      ts[j + 44] = s && (e.bottom - t[1]) / -s;\n\n      ts[j + 48] = s && (e.left - t[0]) / s;\n      ts[j + 52] = c && (e.top - t[1]) / -c;\n      ts[j + 56] = s && (e.right - t[0]) / s;\n      ts[j + 60] = c && (e.bottom - t[1]) / -c;\n    }\n    // Not based on math, but to simplify calculations, using cos and sin\n    // absolute values to not exceed the box (it can but insignificantly).\n    const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n    divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n    divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n    divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n    divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n    task._textDivProperties.set(div, divProperties);\n  }\n}\n\nfunction expandBounds(width, height, boxes) {\n  const bounds = boxes.map(function (box, i) {\n    return {\n      x1: box.left,\n      y1: box.top,\n      x2: box.right,\n      y2: box.bottom,\n      index: i,\n      x1New: undefined,\n      x2New: undefined,\n    };\n  });\n  expandBoundsLTR(width, bounds);\n\n  const expanded = new Array(boxes.length);\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i] = {\n      left: b.x1New,\n      top: 0,\n      right: b.x2New,\n      bottom: 0,\n    };\n  }\n\n  // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n  // array and objects.\n  boxes.map(function (box, i) {\n    const e = expanded[i],\n      b = bounds[i];\n    b.x1 = box.top;\n    b.y1 = width - e.right;\n    b.x2 = box.bottom;\n    b.y2 = width - e.left;\n    b.index = i;\n    b.x1New = undefined;\n    b.x2New = undefined;\n  });\n  expandBoundsLTR(height, bounds);\n\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i].top = b.x1New;\n    expanded[i].bottom = b.x2New;\n  }\n  return expanded;\n}\n\nfunction expandBoundsLTR(width, bounds) {\n  // Sorting by x1 coordinate and walk by the bounds in the same order.\n  bounds.sort(function (a, b) {\n    return a.x1 - b.x1 || a.index - b.index;\n  });\n\n  // First we see on the horizon is a fake boundary.\n  const fakeBoundary = {\n    x1: -Infinity,\n    y1: -Infinity,\n    x2: 0,\n    y2: Infinity,\n    index: -1,\n    x1New: 0,\n    x2New: 0,\n  };\n  const horizon = [\n    {\n      start: -Infinity,\n      end: Infinity,\n      boundary: fakeBoundary,\n    },\n  ];\n\n  for (const boundary of bounds) {\n    // Searching for the affected part of horizon.\n    // TODO red-black tree or simple binary search\n    let i = 0;\n    while (i < horizon.length && horizon[i].end <= boundary.y1) {\n      i++;\n    }\n    let j = horizon.length - 1;\n    while (j >= 0 && horizon[j].start >= boundary.y2) {\n      j--;\n    }\n\n    let horizonPart, affectedBoundary;\n    let q,\n      k,\n      maxXNew = -Infinity;\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      let xNew;\n      if (affectedBoundary.x2 > boundary.x1) {\n        // In the middle of the previous element, new x shall be at the\n        // boundary start. Extending if further if the affected boundary\n        // placed on top of the current one.\n        xNew =\n          affectedBoundary.index > boundary.index\n            ? affectedBoundary.x1New\n            : boundary.x1;\n      } else if (affectedBoundary.x2New === undefined) {\n        // We have some space in between, new x in middle will be a fair\n        // choice.\n        xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n      } else {\n        // Affected boundary has x2new set, using it as new x.\n        xNew = affectedBoundary.x2New;\n      }\n      if (xNew > maxXNew) {\n        maxXNew = xNew;\n      }\n    }\n\n    // Set new x1 for current boundary.\n    boundary.x1New = maxXNew;\n\n    // Adjusts new x2 for the affected boundaries.\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        // Was not set yet, choosing new x if possible.\n        if (affectedBoundary.x2 > boundary.x1) {\n          // Current and affected boundaries intersect. If affected boundary\n          // is placed on top of the current, shrinking the affected.\n          if (affectedBoundary.index > boundary.index) {\n            affectedBoundary.x2New = affectedBoundary.x2;\n          }\n        } else {\n          affectedBoundary.x2New = maxXNew;\n        }\n      } else if (affectedBoundary.x2New > maxXNew) {\n        // Affected boundary is touching new x, pushing it back.\n        affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n      }\n    }\n\n    // Fixing the horizon.\n    const changedHorizon = [];\n    let lastBoundary = null;\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      // Checking which boundary will be visible.\n      const useBoundary =\n        affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n      if (lastBoundary === useBoundary) {\n        // Merging with previous.\n        changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n      } else {\n        changedHorizon.push({\n          start: horizonPart.start,\n          end: horizonPart.end,\n          boundary: useBoundary,\n        });\n        lastBoundary = useBoundary;\n      }\n    }\n    if (horizon[i].start < boundary.y1) {\n      changedHorizon[0].start = boundary.y1;\n      changedHorizon.unshift({\n        start: horizon[i].start,\n        end: boundary.y1,\n        boundary: horizon[i].boundary,\n      });\n    }\n    if (boundary.y2 < horizon[j].end) {\n      changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n      changedHorizon.push({\n        start: boundary.y2,\n        end: horizon[j].end,\n        boundary: horizon[j].boundary,\n      });\n    }\n\n    // Set x2 new of boundary that is no longer visible (see overlapping case\n    // above).\n    // TODO more efficient, e.g. via reference counting.\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New !== undefined) {\n        continue;\n      }\n      let used = false;\n      for (\n        k = i - 1;\n        !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n        k--\n      ) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n      for (\n        k = j + 1;\n        !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n        k++\n      ) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n      for (k = 0; !used && k < changedHorizon.length; k++) {\n        used = changedHorizon[k].boundary === affectedBoundary;\n      }\n      if (!used) {\n        affectedBoundary.x2New = maxXNew;\n      }\n    }\n\n    Array.prototype.splice.apply(\n      horizon,\n      [i, j - i + 1].concat(changedHorizon)\n    );\n  }\n\n  // Set new x2 for all unset boundaries.\n  for (const horizonPart of horizon) {\n    const affectedBoundary = horizonPart.boundary;\n    if (affectedBoundary.x2New === undefined) {\n      affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n    }\n  }\n}\n\nclass TextLayerRenderTask {\n  constructor({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (!this._enhanceTextSelection) {\n          // The `textDiv` properties are no longer needed.\n          this._textDivProperties = null;\n        }\n\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n  }\n\n  /**\n   * Promise for textLayer rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Cancel rendering of the textLayer.\n   */\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader\n        .cancel(new AbortException(\"TextLayer task cancelled.\"))\n        .catch(() => {\n          // Avoid \"Uncaught promise\" messages in the console.\n        });\n      this._reader = null;\n    }\n    if (this._renderTimer !== null) {\n      clearTimeout(this._renderTimer);\n      this._renderTimer = null;\n    }\n    this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n  }\n\n  /**\n   * @private\n   */\n  _processItems(items, styleCache) {\n    for (let i = 0, len = items.length; i < len; i++) {\n      if (items[i].str === undefined) {\n        if (\n          items[i].type === \"beginMarkedContentProps\" ||\n          items[i].type === \"beginMarkedContent\"\n        ) {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (items[i].id !== null) {\n            this._container.setAttribute(\"id\", `${items[i].id}`);\n          }\n          parent.appendChild(this._container);\n        } else if (items[i].type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(items[i].str);\n      appendText(this, items[i], styleCache, this._layoutTextCtx);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _layoutText(textDiv) {\n    const textDivProperties = this._textDivProperties.get(textDiv);\n\n    let transform = \"\";\n    if (textDivProperties.canvasWidth !== 0 && textDivProperties.hasText) {\n      const { fontSize, fontFamily } = textDiv.style;\n\n      // Only build font string and set to context if different from last.\n      if (\n        fontSize !== this._layoutTextLastFontSize ||\n        fontFamily !== this._layoutTextLastFontFamily\n      ) {\n        this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n        this._layoutTextLastFontSize = fontSize;\n        this._layoutTextLastFontFamily = fontFamily;\n      }\n      // Only measure the width for multi-char text divs, see `appendText`.\n      const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n      if (width > 0) {\n        const scale = textDivProperties.canvasWidth / width;\n        if (this._enhanceTextSelection) {\n          textDivProperties.scale = scale;\n        }\n        transform = `scaleX(${scale})`;\n      }\n    }\n    if (textDivProperties.angle !== 0) {\n      transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      if (this._enhanceTextSelection) {\n        textDivProperties.originalTransform = transform;\n      }\n      textDiv.style.transform = transform;\n    }\n\n    if (textDivProperties.hasText) {\n      this._container.appendChild(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.appendChild(br);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _render(timeout = 0) {\n    const capability = createPromiseCapability();\n    let styleCache = Object.create(null);\n\n    // The temporary canvas is used to measure text length in the DOM.\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.height = canvas.width = DEFAULT_FONT_SIZE;\n\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n    ) {\n      canvas.mozOpaque = true;\n    }\n    this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n    if (this._textContent) {\n      const textItems = this._textContent.items;\n      const textStyles = this._textContent.styles;\n      this._processItems(textItems, textStyles);\n      capability.resolve();\n    } else if (this._textContentStream) {\n      const pump = () => {\n        this._reader.read().then(({ value, done }) => {\n          if (done) {\n            capability.resolve();\n            return;\n          }\n\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, capability.reject);\n      };\n\n      this._reader = this._textContentStream.getReader();\n      pump();\n    } else {\n      throw new Error(\n        'Neither \"textContent\" nor \"textContentStream\" parameters specified.'\n      );\n    }\n\n    capability.promise.then(() => {\n      styleCache = null;\n      if (!timeout) {\n        // Render right away\n        render(this);\n      } else {\n        // Schedule\n        this._renderTimer = setTimeout(() => {\n          render(this);\n          this._renderTimer = null;\n        }, timeout);\n      }\n    }, this._capability.reject);\n  }\n\n  /**\n   * @param {boolean} [expandDivs]\n   */\n  expandTextDivs(expandDivs = false) {\n    if (!this._enhanceTextSelection || !this._renderingDone) {\n      return;\n    }\n    if (this._bounds !== null) {\n      expand(this);\n      this._bounds = null;\n    }\n    const transformBuf = [],\n      paddingBuf = [];\n\n    for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n      const div = this._textDivs[i];\n      const divProps = this._textDivProperties.get(div);\n\n      if (!divProps.hasText) {\n        continue;\n      }\n      if (expandDivs) {\n        transformBuf.length = 0;\n        paddingBuf.length = 0;\n\n        if (divProps.originalTransform) {\n          transformBuf.push(divProps.originalTransform);\n        }\n        if (divProps.paddingTop > 0) {\n          paddingBuf.push(`${divProps.paddingTop}px`);\n          transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingRight > 0) {\n          paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingBottom > 0) {\n          paddingBuf.push(`${divProps.paddingBottom}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingLeft > 0) {\n          paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n          transformBuf.push(\n            `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n          );\n        } else {\n          paddingBuf.push(0);\n        }\n\n        div.style.padding = paddingBuf.join(\" \");\n        if (transformBuf.length) {\n          div.style.transform = transformBuf.join(\" \");\n        }\n      } else {\n        div.style.padding = null;\n        div.style.transform = divProps.originalTransform;\n      }\n    }\n  }\n}\n\n/**\n * @param {TextLayerRenderParameters} renderParameters\n * @returns {TextLayerRenderTask}\n */\nfunction renderTextLayer(renderParameters) {\n  const task = new TextLayerRenderTask({\n    textContent: renderParameters.textContent,\n    textContentStream: renderParameters.textContentStream,\n    container: renderParameters.container,\n    viewport: renderParameters.viewport,\n    textDivs: renderParameters.textDivs,\n    textContentItemsStr: renderParameters.textContentItemsStr,\n    enhanceTextSelection: renderParameters.enhanceTextSelection,\n  });\n  task._render(renderParameters.timeout);\n  return task;\n}\n\nexport { renderTextLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\n/** @type {any} */\nlet SVGGraphics = class {\n  constructor() {\n    unreachable(\"Not implemented: SVGGraphics\");\n  }\n};\n\nif (\n  typeof PDFJSDev === \"undefined\" ||\n  PDFJSDev.test(\"!PRODUCTION || GENERIC\")\n) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function () {\n    const PNG_HEADER = new Uint8Array([\n      0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    // eslint-disable-next-line no-shadow\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  SVGGraphics = class {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.hypot(a, b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n          current.tspan.textContent += character;\n        } else {\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      if (vertical) {\n        current.tspan.setAttributeNS(\n          null,\n          \"y\",\n          current.ycoords.map(pf).join(\" \")\n        );\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\n          \"addFontStyle: No font data available, \" +\n            'ensure that the \"fontExtraProperties\" API parameter is set.'\n        );\n      }\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        !fontObj.missingFile &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n      current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement?.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeHexColor(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeHexColor(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0, tx1, ty1] = Util.normalizeRect([\n        ...Util.applyTransform([x0, y0], matrix),\n        ...Util.applyTransform([x1, y1], matrix),\n      ]);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeHexColor(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        for (const prev of this.extraStack) {\n          prev.clipGroup = null;\n        }\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { warn } from \"../shared/util.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, { value: null });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, { value: event.target.value });\n        });\n        break;\n      case \"input\":\n        if (\n          element.attributes.type === \"radio\" ||\n          element.attributes.type === \"checkbox\"\n        ) {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            // The checked attribute may have been set when opening the file,\n            // unset through the UI and we're here because of printing.\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked\n                ? event.target.getAttribute(\"xfaOn\")\n                : event.target.getAttribute(\"xfaOff\"),\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, { value: event.target.value });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value =\n            options.selectedIndex === -1\n              ? \"\"\n              : options[options.selectedIndex].value;\n          storage.setValue(id, { value });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({ html, element, storage = null, intent, linkService }) {\n    const { attributes } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      // Avoid to have a radio group when printing with the same as one\n      // already displayed.\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      // We don't need to add dataId in the html object but it can\n      // be useful to know its value when writing printing tests:\n      // in this case, don't skip dataId to have its value.\n      if (value === null || value === undefined || key === \"dataId\") {\n        continue;\n      }\n\n      if (key !== \"style\") {\n        if (key === \"textContent\") {\n          html.textContent = value;\n        } else if (key === \"class\") {\n          html.setAttribute(key, value.join(\" \"));\n        } else {\n          if (isHTMLAnchorElement && (key === \"href\" || key === \"newWindow\")) {\n            continue; // Handled below.\n          }\n          html.setAttribute(key, value);\n        }\n      } else {\n        Object.assign(html.style, value);\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        !linkService.addLinkAttributes\n      ) {\n        warn(\n          \"XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance.\"\n        );\n      }\n      linkService.addLinkAttributes?.(\n        html,\n        attributes.href,\n        attributes.newWindow\n      );\n    }\n\n    // Set the value after the others to be sure overwrite\n    // any other values.\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfa;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService,\n      });\n    }\n    const stack = [[root, -1, rootHtml]];\n\n    const rootDiv = parameters.div;\n    rootDiv.appendChild(rootHtml);\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    rootDiv.style.transform = transform;\n\n    // Set defaults.\n    rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n\n    // Text nodes used for the text highlighter.\n    const textDivs = [];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack[stack.length - 1];\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack[stack.length - 1][1]];\n      if (child === null) {\n        continue;\n      }\n\n      const { name } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.appendChild(node);\n        continue;\n      }\n\n      let childHtml;\n      if (child?.attributes?.xmlns) {\n        childHtml = document.createElementNS(child.attributes.xmlns, name);\n      } else {\n        childHtml = document.createElement(name);\n      }\n\n      html.appendChild(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService,\n        });\n      }\n\n      if (child.children && child.children.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.appendChild(node);\n      }\n    }\n\n    /**\n     * TODO: re-enable that stuff once we've JS implementation.\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1719465.\n     *\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaDisabled input, .xfaDisabled textarea\"\n     * )) {\n     * el.setAttribute(\"disabled\", true);\n     * }\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaReadOnly input, .xfaReadOnly textarea\"\n     * )) {\n     * el.setAttribute(\"readOnly\", true);\n     * }\n     */\n\n    for (const el of rootDiv.querySelectorAll(\n      \".xfaNonInteractive input, .xfaNonInteractive textarea\"\n    )) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs,\n    };\n  }\n\n  /**\n   * Update the xfa layer.\n   *\n   * @public\n   * @param {XfaLayerParameters} parameters\n   * @memberof XfaLayer\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\nexport { XfaLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const { allowRangeRequests, suggestedLength } =\n        validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    `Unexpected server response (${status}) while retrieving PDF \"${url}\".`,\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes } from \"../shared/util.js\";\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = { xhr });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const { allowRangeRequests, suggestedLength } =\n      validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: data.chunk, done: false });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength,\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({ loaded: evt.loaded });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController?.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const { allowRangeRequests, suggestedLength } =\n          validateRangeRequestCapabilities({\n            getResponseHeader,\n            isHttp: this._stream.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange,\n          });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(this._readCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __w_pdfjs_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable sort-exports/sort-exports */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").PDFDocumentLoadingTask} PDFDocumentLoadingTask */\n/** @typedef {import(\"./display/api\").PDFDocumentProxy} PDFDocumentProxy */\n/** @typedef {import(\"./display/api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display/api\").RenderTask} RenderTask */\n\nimport {\n  addLinkAttributes,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  isPdfFile,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n} from \"./display/display_utils.js\";\nimport {\n  AnnotationMode,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport {\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n} from \"./display/api.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { isNodeJS } from \"./shared/is_node.js\";\nimport { renderTextLayer } from \"./display/text_layer.js\";\nimport { SVGGraphics } from \"./display/svg.js\";\nimport { XfaLayer } from \"./display/xfa_layer.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n  const streamsPromise = Promise.all([\n    import(\"pdfjs/display/network.js\"),\n    import(\"pdfjs/display/fetch_stream.js\"),\n  ]);\n\n  setPDFNetworkStreamFactory(async params => {\n    const [{ PDFNetworkStream }, { PDFFetchStream }] = await streamsPromise;\n    if (isValidFetchUrl(params.url)) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n} else if (PDFJSDev.test(\"GENERIC || CHROME\")) {\n  if (PDFJSDev.test(\"GENERIC\") && isNodeJS) {\n    const { PDFNodeStream } = require(\"./display/node_stream.js\");\n\n    setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const { PDFNetworkStream } = require(\"./display/network.js\");\n    const { PDFFetchStream } = require(\"./display/fetch_stream.js\");\n\n    setPDFNetworkStreamFactory(params => {\n      if (isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n}\n\nexport {\n  // From \"./display/display_utils.js\":\n  addLinkAttributes,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  isPdfFile,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  getXfaPageViewport,\n  // From \"./shared/util.js\":\n  AnnotationMode,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n  // From \"./display/api.js\":\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n  // From \"./display/annotation_layer.js\":\n  AnnotationLayer,\n  // From \"./display/worker_options.js\":\n  GlobalWorkerOptions,\n  // From \"./display/text_layer.js\":\n  renderTextLayer,\n  // From \"./display/svg.js\":\n  SVGGraphics,\n  // From \"./display/xfa_layer.js\":\n  XfaLayer,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}