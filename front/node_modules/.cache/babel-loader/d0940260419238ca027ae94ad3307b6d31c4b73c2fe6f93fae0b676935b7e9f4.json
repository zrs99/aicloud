{"ast":null,"code":"import { vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.message = $event),\n    onKeyup: _withKeys($setup.sendMessage, [\"enter\"])\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.message]]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.messages, (msg, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index\n    }, _toDisplayString(msg), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","_cache","$event","$setup","message","onKeyup","_withKeys","sendMessage","_Fragment","_renderList","messages","msg","index","key","_toDisplayString"],"sources":["D:\\Study\\Code\\AICloud\\front\\src\\components\\socket.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <input v-model=\"message\" @keyup.enter=\"sendMessage\" />\r\n    <div v-for=\"(msg, index) in messages\" :key=\"index\">{{ msg }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useWebSocket } from '@vueuse/core'\r\n\r\nconst message = ref('')\r\nconst messages = ref([])\r\n\r\nconst { data, send, open, close } = useWebSocket(\r\n  'ws://localhost:8000/ws/some_path/',\r\n  {\r\n    autoReconnect: true,\r\n    onMessage: (ws, event) => {\r\n      const data = JSON.parse(event.data)\r\n      messages.value.push(data.message)\r\n    }\r\n  }\r\n)\r\n\r\nconst sendMessage = () => {\r\n  if (message.value.trim()) {\r\n    send(JSON.stringify({ message: message.value }))\r\n    message.value = ''\r\n  }\r\n}\r\n</script>"],"mappings":";;uBACEA,mBAAA,CAGM,c,gBAFJC,mBAAA,CAAsD;IAF1D,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEoBC,MAAA,CAAAC,OAAO,GAAAF,MAAA;IAAGG,OAAK,EAFnCC,SAAA,CAE2CH,MAAA,CAAAI,WAAW;iEAAlCJ,MAAA,CAAAC,OAAO,E,sBACvBL,mBAAA,CAAkES,SAAA,QAHtEC,WAAA,CAGgCN,MAAA,CAAAO,QAAQ,EAHxC,CAGiBC,GAAG,EAAEC,KAAK;yBAAvBb,mBAAA,CAAkE;MAA3Bc,GAAG,EAAED;IAAK,GAAAE,gBAAA,CAAKH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}